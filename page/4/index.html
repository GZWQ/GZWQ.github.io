<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Blog of Qing">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="Blog of Qing">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Blog of Qing">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/4/"/>





  <title>Blog of Qing</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Blog of Qing</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/04/Array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/04/Array/" itemprop="url">Array</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-10-04T15:29:49-05:00">
                2018-10-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="简单"><a href="#简单" class="headerlink" title="简单"></a>简单</h3><h4 id="Move-Zeros"><a href="#Move-Zeros" class="headerlink" title="Move Zeros"></a>Move Zeros</h4><h5 id="题目-类似"><a href="#题目-类似" class="headerlink" title="题目 类似"></a><a href="https://leetcode.com/problems/move-zeroes/description/" target="_blank" rel="noopener">题目</a> <a href="https://leetcode.com/problems/remove-element/description/" target="_blank" rel="noopener">类似</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given an array <code>nums</code>, write a function to move all <code>0</code>‘s to the end of it while maintaining the relative order of the non-zero elements.</p>
<p><strong>Example:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">12</span>]</div>
<div class="line">Output: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">12</span>,<span class="number">0</span>,<span class="number">0</span>]</div>
</pre></td></tr></table></figure>
<p><strong>Note</strong>:</p>
<ol>
<li>You must do this <strong>in-place</strong> without making a copy of the array.</li>
<li>Minimize the total number of operations.</li>
</ol>

</div></div>
<h5 id="思路"><a href="#思路" class="headerlink" title="思路"></a><a href="http://www.cnblogs.com/grandyang/p/4822732.html" target="_blank" rel="noopener">思路</a></h5><p>题目大意：让我们将一个给定数组中所有的0都移到后面，把非零数前移，要求不能改变非零数的相对应的位置关系，而且不能拷贝额外的数组，那么只能用替换法in-place来做，需要用两个指针，一个不停的向后扫，找到非零位置，然后和前面那个指针交换位置即可</p>
<h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line">class Solution &#123;</div>
<div class="line">public:</div>
<div class="line">    void moveZeroes(vector&lt;int&gt;&amp; nums) &#123;</div>
<div class="line">        int l = nums.size();</div>
<div class="line">        for (int i=0,j=0;i&lt;l;i++)&#123;</div>
<div class="line">            if(nums[i]!=0)&#123;</div>
<div class="line">                swap(nums[i],nums[j++]);</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Rotate-Array"><a href="#Rotate-Array" class="headerlink" title="Rotate Array"></a>Rotate Array</h4><h5 id="题目"><a href="#题目" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/rotate-array/description/" target="_blank" rel="noopener">题目</a></h5><p>Given an array, rotate the array to the right by <em>k</em> steps, where <em>k</em> is non-negative.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>] and k = <span class="number">3</span></div>
<div class="line">Output: [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div>
<div class="line">Explanation:</div>
<div class="line">rotate <span class="number">1</span> steps to the right: [<span class="number">7</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</div>
<div class="line">rotate <span class="number">2</span> steps to the right: [<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</div>
<div class="line">rotate <span class="number">3</span> steps to the right: [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input: [-<span class="number">1</span>,-<span class="number">100</span>,<span class="number">3</span>,<span class="number">99</span>] and k = <span class="number">2</span></div>
<div class="line">Output: [<span class="number">3</span>,<span class="number">99</span>,-<span class="number">1</span>,-<span class="number">100</span>]</div>
<div class="line">Explanation: </div>
<div class="line">rotate <span class="number">1</span> steps to the right: [<span class="number">99</span>,-<span class="number">1</span>,-<span class="number">100</span>,<span class="number">3</span>]</div>
<div class="line">rotate <span class="number">2</span> steps to the right: [<span class="number">3</span>,<span class="number">99</span>,-<span class="number">1</span>,-<span class="number">100</span>]</div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ul>
<li>Try to come up as many solutions as you can, there are at least 3 different ways to solve this problem.</li>
<li>Could you do it in-place with O(1) extra space?</li>
</ul>
<h5 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a><a href="http://www.cnblogs.com/grandyang/p/4298711.html" target="_blank" rel="noopener">思路</a></h5><p>题目大意：以k为旋转点旋转数组。</p>
<p>为了防止k大于数组的长度，我们需要对k做取余操作。</p>
<p>法一：由于旋转数组的操作也可以看做从数组的末尾取k个数组放入数组的开头，所以我们用STL的push_back和erase可以很容易的实现这些操作。</p>
<p>法二：可以利用三次翻转操作，第一次全翻：<code>7,6,5,4,3,2,1</code>；第二次翻转k之前部分<code>5,6,7||4,3,2,1</code>；最后翻转k之后<code>5,6,7||1,2,3,4</code></p>
<h5 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment">//法一</span></div>
<div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        k = k%l;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l-k;i++)&#123;</div>
<div class="line">            nums.push_back(nums[<span class="number">0</span>]);</div>
<div class="line">            nums.erase(nums.begin());</div>
<div class="line">        &#125;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment">//法二</span></div>
<div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</div>
<div class="line">        k = k%nums.size();</div>
<div class="line">        nums = helper(nums,<span class="number">0</span>,nums.size()<span class="number">-1</span>);</div>
<div class="line">        nums = helper(nums,<span class="number">0</span>,k<span class="number">-1</span>);</div>
<div class="line">        nums = helper(nums,k,nums.size()<span class="number">-1</span>);        </div>
<div class="line">        </div>
<div class="line">    &#125;</div>
<div class="line">    <span class="keyword">public</span>: <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; helper(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> s, <span class="keyword">int</span> e)&#123;</div>
<div class="line">        <span class="keyword">int</span> mid = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">while</span>(s&lt;e)&#123;</div>
<div class="line">            mid = nums[s];</div>
<div class="line">            nums[s] = nums[e];</div>
<div class="line">            nums[e] = mid;</div>
<div class="line">            s++;</div>
<div class="line">            e--;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> nums;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>
<h4 id="Pascal’s-Triangle-II"><a href="#Pascal’s-Triangle-II" class="headerlink" title="Pascal’s Triangle II"></a>Pascal’s Triangle II</h4><h5 id="题目-1"><a href="#题目-1" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/pascals-triangle-ii/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given a non-negative index <em>k</em> where <em>k</em> ≤ 33, return the <em>k</em>th index row of the Pascal’s triangle.Note that the row index starts from 0.</p>
<p><img src="/2018/10/04/Array/PascalTriangleAnimated2.gif" alt="ascalTriangleAnimated"></p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">Input: <span class="number">3</span></div>
<div class="line">Output: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>]</div>
</pre></td></tr></table></figure>
<p><strong>Follow up:</strong></p>
<p>Could you optimize your algorithm to use only <em>O</em>(<em>k</em>) extra space?</p>

</div></div>
<h5 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a><a href="https://www.jianshu.com/p/4b40cb8e4ca3" target="_blank" rel="noopener">思路</a></h5><p>题目大意：返回Pascal三角的第<code>k</code>行。</p>
<p>第一种想法：借助一个二维数组，用来存储Pascal数列，这样空间复杂度是<code>O(N*N)</code></p>
<p>第二种想法：借助一个一维动态数组，使用双重循环，外循环处理每一行，每次都插入一个1，内循环处理每一行的元素，则当前元素更新：<code>nums[i]+=nums[i+1]</code></p>
<h5 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getRow(<span class="keyword">int</span> rowIndex) &#123;</div>
<div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; pascal(rowIndex+<span class="number">1</span>);</div>
<div class="line">        <span class="keyword">if</span> (rowIndex&gt;=<span class="number">0</span>)&#123;</div>
<div class="line">            pascal[<span class="number">0</span>] = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(<span class="number">1</span>,<span class="number">1</span>);</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=rowIndex;i++)&#123;</div>
<div class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp(i+<span class="number">1</span>,<span class="number">1</span>);</div>
<div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;i;j++)&#123;</div>
<div class="line">                temp[j]=pascal[i<span class="number">-1</span>][j<span class="number">-1</span>]+pascal[i<span class="number">-1</span>][j];</div>
<div class="line">            &#125;</div>
<div class="line">            pascal[i]=temp;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> pascal[rowIndex];</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getRow(<span class="keyword">int</span> rowIndex) &#123;</div>
<div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rowIndex+<span class="number">1</span>;i++)&#123;</div>
<div class="line">            res.insert(begin(res),<span class="number">1</span>);</div>
<div class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;res.size()<span class="number">-1</span>;j++)&#123;</div>
<div class="line">                res[j]+=res[j+<span class="number">1</span>];</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Plus-One"><a href="#Plus-One" class="headerlink" title="Plus One"></a>Plus One</h4><h5 id="题目-2"><a href="#题目-2" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/plus-one/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given a <strong>non-empty</strong> array of digits representing a non-negative integer, plus one to the integer.</p>
<p>The digits are stored such that the most significant digit is at the head of the list, and each element in the array contain a single digit.</p>
<p>You may assume the integer does not contain any leading zero, except the number 0 itself.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</div>
<div class="line">Output: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]</div>
<div class="line">Explanation: The <span class="built_in">array</span> represents the integer <span class="number">123.</span></div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</div>
<div class="line">Output: [<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>]</div>
<div class="line">Explanation: The <span class="built_in">array</span> represents the integer <span class="number">4321.</span></div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h5><p>题目大意：一个整数的每一位被存在一个数组里，现在求该整数+1的结果。</p>
<p>主要的问题就是进位问题：如果该位小于9，那么该位+1，返回数组；否则，该位置空，处理下一位。最极端情况就是每一位都是9，那么数组全置空，增加一位，置1.</p>
<h5 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; plusOne(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; digits) &#123;</div>
<div class="line">        <span class="keyword">int</span> l = digits.size();</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=l<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)&#123;</div>
<div class="line">            <span class="keyword">if</span>(digits[i]&lt;<span class="number">9</span>)&#123;</div>
<div class="line">                digits[i]++;</div>
<div class="line">                <span class="keyword">return</span> digits;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span>&#123;</div>
<div class="line">                digits[i]=<span class="number">0</span>;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res(l+<span class="number">1</span>);</div>
<div class="line">        res[<span class="number">0</span>]=<span class="number">1</span>;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Remove-Duplicates-from-Sorted-Array"><a href="#Remove-Duplicates-from-Sorted-Array" class="headerlink" title="Remove Duplicates from Sorted Array"></a>Remove Duplicates from Sorted Array</h4><h5 id="题目-3"><a href="#题目-3" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/remove-duplicates-from-sorted-array/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given a sorted array <em>nums</em>, remove the duplicates <a href="https://en.wikipedia.org/wiki/In-place_algorithm" target="_blank" rel="noopener"><strong>in-place</strong></a> such that each element appear only <em>once</em> and return the new length.</p>
<p>Do not allocate extra space for another array, you must do this by <strong>modifying the input array in-place</strong> with O(1) extra memory.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Given nums = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>],</div>
<div class="line"></div>
<div class="line">Your function should <span class="keyword">return</span> length = <span class="number">2</span>, with the first two elements of nums being <span class="number">1</span> and <span class="number">2</span> respectively.</div>
<div class="line"></div>
<div class="line">It doesn<span class="string">'t matter what you leave beyond the returned length.</span></div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Given nums = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>],</div>
<div class="line"></div>
<div class="line">Your function should <span class="keyword">return</span> length = <span class="number">5</span>, with the first five elements of nums being modified to <span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, and <span class="number">4</span> respectively.</div>
<div class="line"></div>
<div class="line">It doesn<span class="string">'t matter what values are set beyond the returned length.</span></div>
</pre></td></tr></table></figure>
<p><strong>Clarification:</strong></p>
<p>Confused why the returned value is an integer but your answer is an array?</p>
<p>Note that the input array is passed in by <strong>reference</strong>, which means modification to the input array will be known to the caller as well.</p>
<p>Internally you can think of this:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment">// nums is passed in by reference. (i.e., without making a copy)</span></div>
<div class="line"><span class="keyword">int</span> len = removeDuplicates(nums);</div>
<div class="line"></div>
<div class="line"><span class="comment">// any modification to nums in your function would be known by the caller.</span></div>
<div class="line"><span class="comment">// using the length returned by your function, it prints the first len elements.</span></div>
<div class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</div>
<div class="line">    print(nums[i]);</div>
<div class="line">&#125;</div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-4"><a href="#思路-4" class="headerlink" title="思路"></a>思路</h5><p>题目大意：将数组中存在的重复元素剔除，使每个元素只出现一次。要求直接在原数组上修改</p>
<h5 id="代码-4"><a href="#代码-4" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">removeDuplicates</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="keyword">if</span> (l&lt;<span class="number">1</span>) <span class="keyword">return</span> l;</div>
<div class="line">        <span class="keyword">int</span> count = <span class="number">1</span>;</div>
<div class="line">        <span class="keyword">int</span> ele = nums[<span class="number">0</span>];</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;l;i++)&#123;</div>
<div class="line">            <span class="keyword">if</span>(ele!=nums[i])&#123;</div>
<div class="line">                ele=nums[i];</div>
<div class="line">                nums[count++]=nums[i];</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> count;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Merge-Sorted-Array"><a href="#Merge-Sorted-Array" class="headerlink" title="Merge Sorted Array"></a>Merge Sorted Array</h4><h5 id="题目-4"><a href="#题目-4" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/merge-sorted-array/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given two sorted integer arrays <em>nums1</em> and <em>nums2</em>, merge <em>nums2</em> into <em>nums1</em> as one sorted array.</p>
<p><strong>Note:</strong></p>
<ul>
<li>The number of elements initialized in <em>nums1</em> and <em>nums2</em> are <em>m</em> and <em>n</em> respectively.</li>
<li>You may assume that <em>nums1</em> has enough space (size that is greater or equal to <em>m</em> + <em>n</em>) to hold additional elements from <em>nums2</em>.</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input:</div>
<div class="line">nums1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>], m = <span class="number">3</span></div>
<div class="line">nums2 = [<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>],       n = <span class="number">3</span></div>
<div class="line"></div>
<div class="line">Output: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>]</div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-5"><a href="#思路-5" class="headerlink" title="思路"></a>思路</h5><p>题目大意：将两个有序的数字合并成有序的数组，要求把合并的数组存在<code>nums1</code>中</p>
<p>最初的想法是设置一个辅助数组，两个指针分别指向两个数组，同时扫描比较，选择小的元素存在辅助数组中。但是这样空间复杂度是<code>O(m+n)</code>。</p>
<p>一个比较新颖的思路是：从后往前扫描，每次比较选择大的元素，这样直接存储在<code>nums1</code>中，根本不需要辅助数组。</p>
<h5 id="代码-5"><a href="#代码-5" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums1, <span class="keyword">int</span> m, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums2, <span class="keyword">int</span> n)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> cur = m+n<span class="number">-1</span>;</div>
<div class="line">        <span class="keyword">int</span> pos1 = m<span class="number">-1</span>;</div>
<div class="line">        <span class="keyword">int</span> pos2 = n<span class="number">-1</span>;</div>
<div class="line">        <span class="keyword">while</span>(pos1&gt;=<span class="number">0</span> &amp;&amp; pos2&gt;=<span class="number">0</span>)&#123;</div>
<div class="line">            <span class="keyword">if</span>(nums1[pos1]&gt;nums2[pos2])&#123;</div>
<div class="line">                nums1[cur--] = nums1[pos1--];</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span>&#123;</div>
<div class="line">                nums1[cur--] = nums2[pos2--];</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">while</span>(pos2&gt;=<span class="number">0</span>)&#123;</div>
<div class="line">            nums1[cur--] = nums2[pos2--];</div>
<div class="line">        &#125;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Missing-Number"><a href="#Missing-Number" class="headerlink" title="Missing Number"></a>Missing Number</h4><h5 id="题目-5"><a href="#题目-5" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/missing-number/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given an array containing <em>n</em> distinct numbers taken from <code>0, 1, 2, ..., n</code>, find the one that is missing from the array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">3</span>,<span class="number">0</span>,<span class="number">1</span>]</div>
<div class="line">Output: <span class="number">2</span></div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">9</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">0</span>,<span class="number">1</span>]</div>
<div class="line">Output: <span class="number">8</span></div>
</pre></td></tr></table></figure>
<p><strong>Note</strong>:<br>Your algorithm should run in linear runtime complexity. Could you implement it using only constant extra space complexity?</p>

</div></div>
<h5 id="思路-6"><a href="#思路-6" class="headerlink" title="思路"></a><a href="https://zxi.mytechroad.com/blog/math/leetcode-268-missing-number/" target="_blank" rel="noopener">思路</a></h5><p>题目大意：找出<code>0,1,2,...,n</code>序列中缺失的一个数。</p>
<p>最开始的思路是借助一个map，数组中的值作为map的key，遍历完数组之后，遍历<code>0-n</code>，看看是否在map中存在。但是这样的空间复杂度是<code>O(N)</code>。</p>
<p>其实有两种做法：</p>
<p><img src="/2018/10/04/Array/268-ep44.png" alt="68-ep4"></p>
<h5 id="代码-6"><a href="#代码-6" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="keyword">int</span> sum_ = (<span class="number">1</span>+l)*l/<span class="number">2</span>;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l;i++)&#123;</div>
<div class="line">            sum_ -= nums[i];</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> sum_;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">missingNumber</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l;i++)&#123;</div>
<div class="line">            res = res^i^nums[i];</div>
<div class="line">        &#125;</div>
<div class="line">        res = res^l;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Majority-Elements"><a href="#Majority-Elements" class="headerlink" title="Majority Elements"></a>Majority Elements</h4><h5 id="题目-6"><a href="#题目-6" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/majority-element/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given an array of size <em>n</em>, find the majority element. The majority element is the element that appears <strong>more than</strong> <code>⌊ n/2 ⌋</code> times.</p>
<p>You may assume that the array is non-empty and the majority element always exist in the array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>]</div>
<div class="line">Output: <span class="number">3</span></div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>]</div>
<div class="line">Output: <span class="number">2</span></div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-7"><a href="#思路-7" class="headerlink" title="思路"></a><a href="http://www.cnblogs.com/grandyang/p/4233501.html" target="_blank" rel="noopener">思路</a></h5><p>题目大意：数组中存在一个数，其出现的次数大于数组长度的一半，找出这个数。</p>
<p>用一种叫摩尔投票法 Moore Voting，需要O(n)的时间和O(1)的空间，比前一种方法更好。这种投票法先将第一个数字假设为众数，然后把计数器设为1，比较下一个数和此数是否相等，若相等则计数器加一，反之减一。然后看此时计数器的值，若为零，则将下一个值设为候选众数。以此类推直到遍历完整个数组，当前候选众数即为该数组的众数。不仔细弄懂摩尔投票法的精髓的话，过一阵子还是会忘记的，首先要明确的是这个叼炸天的方法是有前提的，就是数组中一定要有众数的存在才能使用，下面我们来看本算法的思路，这是一种先假设候选者，然后再进行验证的算法。我们现将数组中的第一个数假设为众数，然后进行统计其出现的次数，如果遇到同样的数，则计数器自增1，否则计数器自减1，如果计数器减到了0，则更换下一个数字为候选者。这是一个很巧妙的设定，也是本算法的精髓所在，为啥遇到不同的要计数器减1呢，为啥减到0了又要更换候选者呢？首先是有那个强大的前提存在，一定会有一个出现超过半数的数字存在，那么如果计数器减到0了话，说明目前不是候选者数字的个数已经跟候选者的出现个数相同了，那么这个候选者已经很weak，不一定能出现超过半数，我们选择更换当前的候选者。那有可能你会有疑问，那万一后面又大量的出现了之前的候选者怎么办，不需要担心，如果之前的候选者在后面大量出现的话，其又会重新变为候选者，直到最终验证成为正确的众数.</p>
<h5 id="代码-7"><a href="#代码-7" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">majorityElement</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> ele : nums)&#123;</div>
<div class="line">            <span class="keyword">if</span> (count==<span class="number">0</span>)&#123;</div>
<div class="line">                count++;</div>
<div class="line">                res = ele;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(ele==res)&#123;</div>
<div class="line">                count++;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span>&#123;</div>
<div class="line">                count--;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Two-Sum"><a href="#Two-Sum" class="headerlink" title="Two Sum"></a>Two Sum</h4><p>类似题目：<a href="https://leetcode.com/problems/contains-duplicate/description/" target="_blank" rel="noopener">Contains Duplicate</a> <a href="https://leetcode.com/problems/contains-duplicate-ii/description/" target="_blank" rel="noopener">Contains Duplicate II</a> </p>
<p>都是利用一个hash_table使在线性时间内完成。 </p>
<h5 id="题目-7"><a href="#题目-7" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/two-sum/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given an array of integers, return <strong>indices</strong> of the two numbers such that they add up to a specific target.</p>
<p>You may assume that each input would have <strong>exactly</strong> one solution, and you may not use the <em>same</em> element twice.</p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line">Given nums = [<span class="number">2</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">15</span>], target = <span class="number">9</span>,</div>
<div class="line"></div>
<div class="line">Because nums[<span class="number">0</span>] + nums[<span class="number">1</span>] = <span class="number">2</span> + <span class="number">7</span> = <span class="number">9</span>,</div>
<div class="line"><span class="keyword">return</span> [<span class="number">0</span>, <span class="number">1</span>].</div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-8"><a href="#思路-8" class="headerlink" title="思路"></a><a href="http://www.cnblogs.com/grandyang/p/4130379.html" target="_blank" rel="noopener">思路</a></h5><p>题目大意：一个数组，还有一个目标数target，让我们找到两个数字，使其和为target。</p>
<p>为了提高时间的复杂度，需要用空间来换，这算是一个trade off吧，我们只想用线性的时间复杂度来解决问题，那么就是说只能遍历一个数字，那么另一个数字呢，我们可以事先将其存储起来，使用一个HashMap，来建立数字和其坐标位置之间的映射，我们都知道HashMap是常数级的查找效率，这样，我们在遍历数组的时候，用target减去遍历到的数字，就是另一个需要的数字了，直接在HashMap中查找其是否存在即可。</p>
<h5 id="代码-8"><a href="#代码-8" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; twoSum(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target) &#123;</div>
<div class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mymap;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</div>
<div class="line">        <span class="keyword">int</span> the_other = <span class="number">-1</span>;</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l;i++)&#123;</div>
<div class="line">            the_other = target - nums[i];</div>
<div class="line">            <span class="keyword">if</span> (mymap.find(the_other) != mymap.end())&#123;</div>
<div class="line">                res.push_back(mymap[the_other]);</div>
<div class="line">                res.push_back(i);</div>
<div class="line">                <span class="keyword">break</span>;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span>&#123;</div>
<div class="line">                mymap[nums[i]] = i;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Third-Maximum-Number"><a href="#Third-Maximum-Number" class="headerlink" title="Third Maximum Number"></a>Third Maximum Number</h4><h5 id="题目-8"><a href="#题目-8" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/third-maximum-number/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given a <strong>non-empty</strong> array of integers, return the <strong>third</strong> maximum number in this array. If it does not exist, return the maximum number. The time complexity must be in O(n).</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</div>
<div class="line"></div>
<div class="line">Output: <span class="number">1</span></div>
<div class="line"></div>
<div class="line">Explanation: The third maximum is <span class="number">1</span>.</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>, <span class="number">2</span>]</div>
<div class="line"></div>
<div class="line">Output: <span class="number">2</span></div>
<div class="line"></div>
<div class="line">Explanation: The third maximum does not exist, <span class="function">so the <span class="title">maximum</span> <span class="params">(<span class="number">2</span>)</span> is returned instead.</span></div>
</pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>]</div>
<div class="line"></div>
<div class="line">Output: <span class="number">1</span></div>
<div class="line"></div>
<div class="line">Explanation: Note that the third maximum here means the third maximum distinct number.</div>
<div class="line">Both numbers with value <span class="number">2</span> are both considered as second maximum.</div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-9"><a href="#思路-9" class="headerlink" title="思路"></a><a href="http://www.cnblogs.com/grandyang/p/5983113.html" target="_blank" rel="noopener">思路</a></h5><p>题目大意：求数组中第三大的数，如果不存在的话那么就返回最大的数。</p>
<p>用三个变量first, second, third来分别保存第一大，第二大，和第三大的数，然后我们遍历数组，如果遍历到的数字大于当前第一大的数first，那么三个变量各自错位赋值，如果当前数字大于second，小于first，那么就更新second和third，如果当前数字大于third，小于second，那就只更新third。</p>
<p>虽然这道题不难，但是实现的时候有诸多陷阱：初始化要用长整型long的最小值，否则当数组中有INT_MIN存在时，程序就不知道该返回INT_MIN还是最大值first了。其次，第三大不能和第二大相同，必须是严格的小于，而并非小于等于。即欲更新second，num[i]必须比first小。</p>
<h5 id="代码-9"><a href="#代码-9" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:<span class="function"><span class="keyword">int</span> <span class="title">thirdMax</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="keyword">long</span> firstMax = LONG_MIN;</div>
<div class="line">        <span class="keyword">long</span> secondMax = LONG_MIN;</div>
<div class="line">        <span class="keyword">long</span> thirdMax = LONG_MIN;</div>
<div class="line">        <span class="keyword">int</span> cur = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l;i++)&#123;</div>
<div class="line">            cur = nums[i];</div>
<div class="line">            <span class="keyword">if</span>(cur&gt;firstMax)&#123;</div>
<div class="line">                thirdMax = secondMax;</div>
<div class="line">                secondMax = firstMax;</div>
<div class="line">                firstMax = cur;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cur&gt;secondMax&amp;&amp;cur!=firstMax)&#123;</div>
<div class="line">                thirdMax = secondMax;</div>
<div class="line">                secondMax = cur;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(cur&gt;thirdMax&amp;&amp;cur!=firstMax&amp;&amp;cur!=secondMax)&#123;</div>
<div class="line">                thirdMax = cur;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> thirdMax==LONG_MIN?firstMax:thirdMax;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Max-Consecutive-Ones"><a href="#Max-Consecutive-Ones" class="headerlink" title="Max Consecutive Ones"></a>Max Consecutive Ones</h4><h5 id="题目-9"><a href="#题目-9" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/max-consecutive-ones/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given a binary array, find the maximum number of consecutive 1s in this array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</div>
<div class="line">Output: <span class="number">3</span></div>
<div class="line">Explanation: The first two digits or the last three digits are consecutive <span class="number">1</span>s.</div>
<div class="line">    The maximum number of consecutive <span class="number">1</span>s is <span class="number">3</span>.</div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ul>
<li>The input array will only contain <code>0</code> and <code>1</code>.</li>
<li>The length of input array is a positive integer and will not exceed 10,000</li>
</ul>

</div></div>
<h5 id="思路-10"><a href="#思路-10" class="headerlink" title="思路"></a>思路</h5><p>题目大意：返回最长的连续1的长度。</p>
<p>两种思路：</p>
<p>一是遍历，记住连续1的起始index，每次遇到0，则更新。</p>
<p>二是遍历，使用count遍历记住连续1的个数，每次遇到0，则清空count。</p>
<h5 id="代码-10"><a href="#代码-10" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaxConsecutiveOnes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        nums.push_back(<span class="number">0</span>);</div>
<div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it;</div>
<div class="line">        it = nums.begin();</div>
<div class="line">        it = nums.insert ( it , <span class="number">0</span> );</div>
<div class="line">        <span class="keyword">int</span> start = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l;i++)&#123;</div>
<div class="line">            <span class="keyword">if</span> (nums[i]==<span class="number">0</span>)&#123;</div>
<div class="line">                res = max(res,i-start<span class="number">-1</span>);</div>
<div class="line">                start = i;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findMaxConsecutiveOnes</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l;i++)&#123;</div>
<div class="line">            <span class="keyword">if</span> (nums[i]==<span class="number">0</span>)&#123;</div>
<div class="line">                res = max(res,count);</div>
<div class="line">                count = <span class="number">0</span>;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span>&#123;</div>
<div class="line">                count++;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> max(res,count); <span class="comment">// for special input [1]</span></div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h3 id="中等"><a href="#中等" class="headerlink" title="中等"></a>中等</h3><h4 id="Number-of-Subarrays-with-Bounded-Maximum"><a href="#Number-of-Subarrays-with-Bounded-Maximum" class="headerlink" title="Number of Subarrays with Bounded Maximum"></a>Number of Subarrays with Bounded Maximum</h4><h5 id="题目-10"><a href="#题目-10" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/number-of-subarrays-with-bounded-maximum/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>We are given an array <code>A</code> of positive integers, and two positive integers <code>L</code> and <code>R</code> (<code>L &lt;= R</code>).</p>
<p>Return the number of (contiguous, non-empty) subarrays such that the value of the maximum array element in that subarray is at least <code>L</code> and at most <code>R</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line">Example :</div>
<div class="line">Input: </div>
<div class="line">A = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>]</div>
<div class="line">L = <span class="number">2</span></div>
<div class="line">R = <span class="number">3</span></div>
<div class="line">Output: <span class="number">3</span></div>
<div class="line">Explanation: There are three subarrays that meet the requirements: [<span class="number">2</span>], [<span class="number">2</span>, <span class="number">1</span>], [<span class="number">3</span>].</div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ul>
<li>L, R  and <code>A[i]</code> will be an integer in the range <code>[0, 10^9]</code>.</li>
<li>The length of <code>A</code> will be in the range of <code>[1, 50000]</code>.</li>
</ul>

</div></div>
<h5 id="思路-11"><a href="#思路-11" class="headerlink" title="思路"></a><a href="https://www.cnblogs.com/AlvinZH/p/8527214.html" target="_blank" rel="noopener">思路</a></h5><p>题目大意：找出所有可能的连续子数组，使该数组中的最大值在一个范围里面。</p>
<p>扫描一遍数组，当前的元素<code>ele</code>可能有三种情况：</p>
<ol>
<li>$ele &gt; R$: 那么该元素不能不能在子数组中，而且需要开始一个新的子数组。</li>
<li>$ele &lt; L$: 那么该元素可以在子数组中，但是该元素与它前面的最近合法数字之间的元素不能单独成为子数组。</li>
<li>否则，该元素是合法的。</li>
</ol>
<p>实现的时候，我们使用两个指针：left=right=-1，left指针指向合法子数组的开始，right指向合法数组中最新的合法元素，即$L&lt;ele&lt;R$, 那么：</p>
<ol>
<li>$ele &gt; R$: 连续子数组被割断，则同时更新两个指针，left=right=idx</li>
<li>$ele &lt; L$: 当前元素加入子数组，但是res += right-left</li>
<li>否则：right=idx，res += right-left</li>
</ol>
<h5 id="代码-11"><a href="#代码-11" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numSubarrayBoundedMax</span><span class="params">(self, A, L, R)</span>:</span></div>
<div class="line">        res = <span class="number">0</span></div>
<div class="line">        left = <span class="number">-1</span></div>
<div class="line">        right = <span class="number">-1</span></div>
<div class="line">        <span class="keyword">for</span> idx,ele <span class="keyword">in</span> enumerate(A):</div>
<div class="line">            <span class="keyword">if</span> ele&gt;R:</div>
<div class="line">                left = idx</div>
<div class="line">                right = idx</div>
<div class="line">            <span class="keyword">elif</span> ele&lt;L:</div>
<div class="line">                res += right-left <span class="comment">#little number appended to the legitimate array</span></div>
<div class="line">            <span class="keyword">else</span>:</div>
<div class="line">                right = idx</div>
<div class="line">                res += right-left</div>
<div class="line">        <span class="keyword">return</span> res</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Friends-Of-Appropriate-Ages"><a href="#Friends-Of-Appropriate-Ages" class="headerlink" title="Friends Of Appropriate Ages"></a>Friends Of Appropriate Ages</h4><h5 id="题目-11"><a href="#题目-11" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/friends-of-appropriate-ages/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Some people will make friend requests. The list of their ages is given and <code>ages[i]</code> is the age of the ith person. </p>
<p>Person A will NOT friend request person B (B != A) if any of the following conditions are true:</p>
<ul>
<li><code>age[B] &lt;= 0.5 * age[A] + 7</code></li>
<li><code>age[B] &gt; age[A]</code></li>
<li><code>age[B] &gt; 100 &amp;&amp; age[A] &lt; 100</code></li>
</ul>
<p>Otherwise, A will friend request B.</p>
<p>Note that if A requests B, B does not necessarily request A.  Also, people will not friend request themselves.</p>
<p>How many total friend requests are made?</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">16</span>,<span class="number">16</span>]</div>
<div class="line">Output: <span class="number">2</span></div>
<div class="line">Explanation: <span class="number">2</span> people friend request each other.</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>]</div>
<div class="line">Output: <span class="number">2</span></div>
<div class="line">Explanation: Friend requests are made <span class="number">17</span> -&gt; <span class="number">16</span>, <span class="number">18</span> -&gt; <span class="number">17</span>.</div>
</pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">20</span>,<span class="number">30</span>,<span class="number">100</span>,<span class="number">110</span>,<span class="number">120</span>]</div>
<div class="line">Output: </div>
<div class="line">Explanation: Friend requests are made <span class="number">110</span> -&gt; <span class="number">100</span>, <span class="number">120</span> -&gt; <span class="number">110</span>, <span class="number">120</span> -&gt; <span class="number">100</span>.</div>
</pre></td></tr></table></figure>
<p>Notes:</p>
<ul>
<li><code>1 &lt;= ages.length &lt;= 20000</code>.</li>
<li><code>1 &lt;= ages[i] &lt;= 120</code>.</li>
</ul>

</div></div>
<h5 id="思路-12"><a href="#思路-12" class="headerlink" title="思路"></a><a href="http://bookshadow.com/weblog/2018/04/29/leetcode-friends-of-appropriate-ages/" target="_blank" rel="noopener">思路</a></h5><p>题目大意：给出一个年龄列表，在满足条件下，求出最多的好友请求。</p>
<p>那就遍历一遍好友，对于每一个年龄，求出其可以发出的好友请求的年龄范围，然后加起来。</p>
<h5 id="代码-12"><a href="#代码-12" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</div>
<div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numFriendRequests</span><span class="params">(self, ages)</span>:</span></div>
<div class="line">        recorder = Counter(ages)</div>
<div class="line">        res = <span class="number">0</span></div>
<div class="line">        <span class="keyword">for</span> age <span class="keyword">in</span> ages:</div>
<div class="line">            recorder[age]-=<span class="number">1</span></div>
<div class="line">            left,right = <span class="number">8</span>+age//<span class="number">2</span>,age</div>
<div class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(left,right+<span class="number">1</span>):</div>
<div class="line">                res += recorder[i]</div>
<div class="line">            recorder[age]+=<span class="number">1</span></div>
<div class="line">        <span class="keyword">return</span> res</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Image-Overlap"><a href="#Image-Overlap" class="headerlink" title="Image Overlap"></a>Image Overlap</h4><h5 id="题目-12"><a href="#题目-12" class="headerlink" title="题目"></a><a href="">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Two images <code>A</code> and <code>B</code> are given, represented as binary, square matrices of the same size.  (A binary matrix has only 0s and 1s as values.)</p>
<p>We translate one image however we choose (sliding it left, right, up, or down any number of units), and place it on top of the other image.  After, the <em>overlap</em> of this translation is the number of positions that have a 1 in both images.</p>
<p>(Note also that a translation does <strong>not</strong> include any kind of rotation.)</p>
<p>What is the largest possible overlap?</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
</pre></td><td class="code"><pre><div class="line">Input: A = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</div>
<div class="line">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],</div>
<div class="line">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]]</div>
<div class="line">       B = [[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</div>
<div class="line">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</div>
<div class="line">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</div>
<div class="line">Output: <span class="number">3</span></div>
<div class="line">Explanation: We slide A to right by <span class="number">1</span> unit <span class="keyword">and</span> down by <span class="number">1</span> unit.</div>
</pre></td></tr></table></figure>
<p><strong>Notes:</strong> </p>
<ol>
<li><code>1 &lt;= A.length = A[0].length = B.length = B[0].length &lt;= 30</code></li>
<li><code>0 &lt;= A[i][j], B[i][j] &lt;= 1</code></li>
</ol>

</div></div>
<h5 id="思路-13"><a href="#思路-13" class="headerlink" title="思路"></a>思路</h5><p>题目大意：两张图片，使用01矩阵表示，通过移动一个矩阵(即上移，下移，左移和右移)，使最大化两个矩阵相应位置都是1，求出最大重合1的个数。</p>
<p>每一个矩阵的元素都与另一个矩阵中每一个元素求距离，即$(\Delta x,\Delta y)$，出现最多的$(\Delta x,\Delta y)$的个数就是结果。</p>
<h5 id="代码-13"><a href="#代码-13" class="headerlink" title="代码"></a><a href="https://blog.csdn.net/fuxuemingzhu/article/details/82597238" target="_blank" rel="noopener">代码</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Counter</div>
<div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestOverlap</span><span class="params">(self, A, B)</span>:</span></div>
<div class="line">        row = len(A)</div>
<div class="line">        col = len(A[<span class="number">0</span>])</div>
<div class="line">        mapping = []</div>
<div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(row):</div>
<div class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(col):</div>
<div class="line">                <span class="keyword">if</span> A[i][j]:</div>
<div class="line">                    <span class="keyword">for</span> k <span class="keyword">in</span> range(row):</div>
<div class="line">                        <span class="keyword">for</span> m <span class="keyword">in</span> range(col):</div>
<div class="line">                            <span class="keyword">if</span> B[k][m]:</div>
<div class="line">                                mapping.append((i-k,j-m))</div>
<div class="line">        res = <span class="number">0</span></div>
<div class="line">        <span class="keyword">if</span> mapping:</div>
<div class="line">            c = Counter(mapping)</div>
<div class="line">            res = c.most_common()[<span class="number">0</span>][<span class="number">1</span>]</div>
<div class="line">        <span class="keyword">return</span> res</div>
</pre></td></tr></table></figure>

</div></div> 
<h4 id="Length-of-Longest-Fibonacci-Subsequence"><a href="#Length-of-Longest-Fibonacci-Subsequence" class="headerlink" title="Length of Longest Fibonacci Subsequence"></a>Length of Longest Fibonacci Subsequence</h4><h5 id="题目-13"><a href="#题目-13" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/length-of-longest-fibonacci-subsequence/description/" target="_blank" rel="noopener">题目</a></h5><p>A sequence <code>X_1, X_2, ..., X_n</code> is <em>fibonacci-like</em> if:</p>
<ul>
<li><code>n &gt;= 3</code></li>
<li><code>X_i + X_{i+1} = X_{i+2}</code> for all <code>i + 2 &lt;= n</code></li>
</ul>
<p>Given a <strong>strictly increasing</strong> array <code>A</code> of positive integers forming a sequence, find the <strong>length</strong> of the longest fibonacci-like subsequence of <code>A</code>.  If one does not exist, return 0.</p>
<p>(<em>Recall that a subsequence is derived from another sequence A by deleting any number of elements (including none) from A, without changing the order of the remaining elements.  For example, [3, 5, 8] is a subsequence of [3, 4, 5, 6, 7, 8].</em>)</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</div>
<div class="line">Output: <span class="number">5</span></div>
<div class="line">Explanation:</div>
<div class="line">The longest subsequence that is fibonacci-like: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>].</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">18</span>]</div>
<div class="line">Output: <span class="number">3</span></div>
<div class="line">Explanation:</div>
<div class="line">The longest subsequence that is fibonacci-like:</div>
<div class="line">[<span class="number">1</span>,<span class="number">11</span>,<span class="number">12</span>], [<span class="number">3</span>,<span class="number">11</span>,<span class="number">14</span>] <span class="keyword">or</span> [<span class="number">7</span>,<span class="number">11</span>,<span class="number">18</span>].</div>
</pre></td></tr></table></figure>
<h5 id="思路-14"><a href="#思路-14" class="headerlink" title="思路"></a><a href="http://zxi.mytechroad.com/blog/dynamic-programming/leetcode-873-length-of-longest-fibonacci-subsequence/" target="_blank" rel="noopener">思路</a></h5><h5 id="代码-14"><a href="#代码-14" class="headerlink" title="代码"></a>代码</h5><h4 id="Best-Time-to-Buy-and-Sell-Stock"><a href="#Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="Best Time to Buy and Sell Stock"></a>Best Time to Buy and Sell Stock</h4><h5 id="题目-14"><a href="#题目-14" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Say you have an array for which the <em>i</em>th element is the price of a given stock on day <em>i</em>.</p>
<p>If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<p>Note that you cannot sell a stock before you buy one.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">7</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">4</span>]</div>
<div class="line">Output: <span class="number">5</span></div>
<div class="line">Explanation: Buy on day <span class="number">2</span> (price = <span class="number">1</span>) <span class="keyword">and</span> sell on day <span class="number">5</span> (price = <span class="number">6</span>), profit = <span class="number">6</span><span class="number">-1</span> = <span class="number">5.</span></div>
<div class="line">             Not <span class="number">7</span><span class="number">-1</span> = <span class="number">6</span>, as selling price needs to be larger than buying price.</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">7</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>]</div>
<div class="line">Output: <span class="number">0</span></div>
<div class="line">Explanation: In <span class="keyword">this</span> <span class="keyword">case</span>, no transaction is done, i.e. max profit = <span class="number">0.</span></div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-15"><a href="#思路-15" class="headerlink" title="思路"></a>思路</h5><h5 id="代码-15"><a href="#代码-15" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices)</span> </span>&#123;</div>
<div class="line">        </div>
<div class="line">        <span class="keyword">int</span> l = prices.size();</div>
<div class="line">        <span class="keyword">if</span> (l&lt;<span class="number">1</span>) <span class="keyword">return</span> l;</div>
<div class="line">        <span class="keyword">int</span> min_ = prices[<span class="number">0</span>];</div>
<div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> ele : prices)&#123;</div>
<div class="line">            res = max(res,ele-min_);</div>
<div class="line">            min_ = min(min_,ele);</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Maximum-Subarray"><a href="#Maximum-Subarray" class="headerlink" title="Maximum Subarray"></a>Maximum Subarray</h4><h5 id="题目-15"><a href="#题目-15" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/maximum-subarray/description/" target="_blank" rel="noopener">题目</a></h5><p>Given an integer array <code>nums</code>, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.</p>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [-<span class="number">2</span>,<span class="number">1</span>,-<span class="number">3</span>,<span class="number">4</span>,-<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,-<span class="number">5</span>,<span class="number">4</span>],</div>
<div class="line">Output: <span class="number">6</span></div>
<div class="line">Explanation: [<span class="number">4</span>,-<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>] has the largest sum = <span class="number">6</span>.</div>
</pre></td></tr></table></figure>
<h5 id="思路-16"><a href="#思路-16" class="headerlink" title="思路"></a>思路</h5><p>题目大意：找出连续和最大的子数组。</p>
<p>最初的思路是设置一个数组，存储每个元素可以累积的最大值，其值更新是<code>max(nums[i],nums[i]+nums[i-1])</code>。但是，这样空间复杂度是<code>O(N)</code>。</p>
<p>改进的想法是：</p>
<p>不要辅助数组，直接使用一个<code>temp</code>变量记录当前位置可以累积的最大值，<code>temp=max(temp+nums[i],nums[i])</code>；之所以可以这样做，是因为在辅助数组中，在更新的时候，我们只利用到当前元素的前一个元素。</p>
<h5 id="代码-16"><a href="#代码-16" class="headerlink" title="代码"></a>代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxSubArray</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> temp = nums[<span class="number">0</span>];</div>
<div class="line">        <span class="keyword">int</span> sum_ = nums[<span class="number">0</span>];</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;l;i++)&#123;</div>
<div class="line">            temp = max(nums[i],temp+nums[i]);</div>
<div class="line">            sum_ = max(sum_,temp);</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> sum_;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>
<h4 id="K-diff-Pairs-in-an-Array"><a href="#K-diff-Pairs-in-an-Array" class="headerlink" title="K-diff Pairs in an Array"></a>K-diff Pairs in an Array</h4><h5 id="题目-16"><a href="#题目-16" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/k-diff-pairs-in-an-array/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given an array of integers and an integer <strong>k</strong>, you need to find the number of <strong>unique</strong> k-diff pairs in the array. Here a <strong>k-diff</strong> pair is defined as an integer pair (i, j), where <strong>i</strong> and <strong>j</strong> are both numbers in the array and their <a href="https://en.wikipedia.org/wiki/Absolute_difference" target="_blank" rel="noopener">absolute difference</a> is <strong>k</strong>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">3</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>], k = <span class="number">2</span></div>
<div class="line">Output: <span class="number">2</span></div>
<div class="line">Explanation: There are two <span class="number">2</span>-diff pairs in the array, (<span class="number">1</span>, <span class="number">3</span>) and (<span class="number">3</span>, <span class="number">5</span>).</div>
<div class="line">Although we have two <span class="number">1</span>s in the input, we should only <span class="keyword">return</span> the number of unique pairs.</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input:[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>], k = <span class="number">1</span></div>
<div class="line">Output: <span class="number">4</span></div>
<div class="line">Explanation: There are four <span class="number">1</span>-diff pairs in the array, (<span class="number">1</span>, <span class="number">2</span>), (<span class="number">2</span>, <span class="number">3</span>), (<span class="number">3</span>, <span class="number">4</span>) and (<span class="number">4</span>, <span class="number">5</span>).</div>
</pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>], k = <span class="number">0</span></div>
<div class="line">Output: <span class="number">1</span></div>
<div class="line">Explanation: There is one <span class="number">0</span>-diff pair in the array, (<span class="number">1</span>, <span class="number">1</span>).</div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li>The pairs (i, j) and (j, i) count as the same pair.</li>
<li>The length of the array won’t exceed 10,000.</li>
<li>All the integers in the given input belong to the range: [-1e7, 1e7].</li>
</ol>

</div></div>
<h5 id="思路-17"><a href="#思路-17" class="headerlink" title="思路"></a><a href="http://www.cnblogs.com/grandyang/p/6545075.html" target="_blank" rel="noopener">思路</a></h5><p>题目大意：一个含有重复数字的无序数组，还有一个整数k，让我们找出有多少对不重复的数对(i, j)使得i和j的差刚好为k。</p>
<p>由于k有可能为0，而只有含有至少两个相同的数字才能形成数对，那么就是说我们需要统计数组中每个数字的个数。我们可以建立每个数字和其出现次数之间的映射，然后遍历哈希表中的数字，如果k为0且该数字出现的次数大于1，则结果res自增1；如果k不为0，且用当前数字加上k后得到的新数字也在数组中存在，则结果res自增1。需要注意的k不可能为负值。</p>
<h5 id="代码-17"><a href="#代码-17" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
<div class="line">26</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findPairs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> k)</span> </span>&#123;</div>
<div class="line">        <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; mymap;</div>
<div class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> ele : nums)&#123;</div>
<div class="line">            mymap[ele]++;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">if</span> (k&lt;<span class="number">0</span>) <span class="keyword">return</span> res;</div>
<div class="line">        <span class="keyword">if</span> (k==<span class="number">0</span>)&#123;</div>
<div class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> ele : mymap)&#123;</div>
<div class="line">                <span class="keyword">if</span> (ele.second&gt;<span class="number">1</span>)</div>
<div class="line">                    res++;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">else</span>&#123;</div>
<div class="line">            <span class="keyword">for</span>(<span class="keyword">auto</span> ele : mymap)&#123;</div>
<div class="line">                <span class="keyword">if</span>(mymap.find(ele.first+k) != mymap.end())&#123;</div>
<div class="line">                    res++;</div>
<div class="line">                &#125;</div>
<div class="line">                    </div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Array-Partition-I"><a href="#Array-Partition-I" class="headerlink" title="Array Partition I"></a>Array Partition I</h4><h5 id="题目-17"><a href="#题目-17" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/array-partition-i/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given an array of <strong>2n</strong> integers, your task is to group these integers into <strong>n</strong> pairs of integer, say (a1, b1), (a2, b2), …, (an, bn) which makes sum of min(ai, bi) for all i from 1 to n as large as possible.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>]</div>
<div class="line"></div>
<div class="line">Output: <span class="number">4</span></div>
<div class="line">Explanation: n <span class="keyword">is</span> <span class="number">2</span>, <span class="keyword">and</span> the maximum sum of pairs <span class="keyword">is</span> <span class="number">4</span> = min(<span class="number">1</span>, <span class="number">2</span>) + min(<span class="number">3</span>, <span class="number">4</span>).</div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li><strong>n</strong> is a positive integer, which is in the range of [1, 10000].</li>
<li>All the integers in the array will be in the range of [-10000, 10000].</li>
</ol>

</div></div>
<h5 id="思路-18"><a href="#思路-18" class="headerlink" title="思路"></a><a href="https://zxi.mytechroad.com/blog/hashtable/leetcode-561-array-partition-i/" target="_blank" rel="noopener">思路</a></h5><p>题目大意：将长度为<code>2n</code>的数组分成<code>n</code>个长度为2的元组，使<code>n</code>个元组小值的和最大。</p>
<p>一个很直接的思路就是排序，然后遍历一遍，每次将偶数index上的值相加，这样的时间复杂度由排序控制是<code>O(nlogn)</code>。</p>
<p>但是，我们可以丢弃排序，增加一个数组，以空间换时间，将时间复杂度降维<code>O(n)</code>，空间复杂度为<code>O(n)</code>。</p>
<p>由题目看到，元素值范围是<code>[-10000,10000]</code>，这样我们设置一个长度为<code>2*10000</code>的数组，元素值为新数组的下标，新数组的值为下标在已知数组中出现的次数。第一次遍历<code>nums</code>，得到每个元素的频数，而且，隐含了排序。第二次遍历，如果新数组的值为0，则跳过；否则，判断是否为一对元素值得第一个；</p>
<h5 id="代码-18"><a href="#代码-18" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
<div class="line">26</div>
<div class="line">27</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">arrayPairSum</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">int</span> max_val = <span class="number">10000</span>;</div>
<div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; val_idx_map(<span class="number">2</span>*max_val);</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> ele : nums)&#123;</div>
<div class="line">            val_idx_map[ele+max_val]++;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">bool</span> first = <span class="literal">true</span>;</div>
<div class="line">        <span class="keyword">int</span> n = -max_val;</div>
<div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">while</span>(n&lt;max_val)&#123;</div>
<div class="line">            <span class="keyword">if</span> (!val_idx_map[n+max_val])&#123;</div>
<div class="line">                n++;</div>
<div class="line">                <span class="keyword">continue</span>;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">if</span> (first)&#123;</div>
<div class="line">                res += n;</div>
<div class="line">                first = <span class="literal">false</span>;</div>
<div class="line">            &#125;<span class="keyword">else</span>&#123;</div>
<div class="line">                first = <span class="literal">true</span>;</div>
<div class="line">            &#125;</div>
<div class="line">            val_idx_map[n+max_val]--;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> res;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Can-Place-Flowers"><a href="#Can-Place-Flowers" class="headerlink" title="Can Place Flowers"></a>Can Place Flowers</h4><h5 id="题目-18"><a href="#题目-18" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/can-place-flowers/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Suppose you have a long flowerbed in which some of the plots are planted and some are not. However, flowers cannot be planted in adjacent plots - they would compete for water and both would die.</p>
<p>Given a flowerbed (represented as an array containing 0 and 1, where 0 means empty and 1 means not empty), and a number <strong>n</strong>, return if <strong>n</strong> new flowers can be planted in it without violating the no-adjacent-flowers rule.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">Input: flowerbed = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>], n = <span class="number">1</span></div>
<div class="line">Output: True</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">Input: flowerbed = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>], n = <span class="number">2</span></div>
<div class="line">Output: False</div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li>The input array won’t violate no-adjacent-flowers rule.</li>
<li>The input array size is in the range of [1, 20000].</li>
<li><strong>n</strong> is a non-negative integer which won’t exceed the input array size.</li>
</ol>

</div></div>
<h5 id="思路-19"><a href="#思路-19" class="headerlink" title="思路"></a><a href="http://bookshadow.com/weblog/2017/06/04/leetcode-can-place-flowers/" target="_blank" rel="noopener">思路</a></h5><p>题目大意：给定数组flowerbed表示一个花床，0表示位置为空，1表示位置非空。花不能相邻种植，即不能出现相邻的1。想要种植的花朵数目n，判断是否可以满足要求。</p>
<p>从左向右遍历flowerbed，将满足要求的0设为1。计数与n比较即可。</p>
<h5 id="代码-19"><a href="#代码-19" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">canPlaceFlowers</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; flowerbed, <span class="keyword">int</span> n)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> res = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">int</span> l = flowerbed.size();</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l;i++)&#123;</div>
<div class="line">            <span class="keyword">if</span> (flowerbed[i]==<span class="number">1</span>) <span class="keyword">continue</span>;</div>
<div class="line">            <span class="keyword">if</span> (i&gt;<span class="number">0</span> &amp;&amp; flowerbed[i<span class="number">-1</span>]==<span class="number">1</span>) <span class="keyword">continue</span>;</div>
<div class="line">            <span class="keyword">if</span> (i&lt;l<span class="number">-1</span> &amp;&amp; flowerbed[i+<span class="number">1</span>]==<span class="number">1</span>) <span class="keyword">continue</span>;</div>
<div class="line">            res ++;</div>
<div class="line">            flowerbed[i] = <span class="number">1</span>;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">if</span> (res&gt;=n)</div>
<div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div>
<div class="line">        <span class="keyword">else</span></div>
<div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Non-decreasing-Array"><a href="#Non-decreasing-Array" class="headerlink" title="Non-decreasing Array"></a>Non-decreasing Array</h4><h5 id="题目-19"><a href="#题目-19" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/non-decreasing-array/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given an array with <code>n</code> integers, your task is to check if it could become non-decreasing by modifying <strong>at most</strong> <code>1</code> element.</p>
<p>We define an array is non-decreasing if <code>array[i] &lt;= array[i + 1]</code> holds for every <code>i</code> (1 &lt;= i &lt; n).</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>]</div>
<div class="line">Output: True</div>
<div class="line">Explanation: You could modify the first <span class="number">4</span> to <span class="number">1</span> to get a non-decreasing <span class="built_in">array</span>.</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>]</div>
<div class="line">Output: False</div>
<div class="line">Explanation: You can't get a non-decreasing <span class="built_in">array</span> by modify at most one element.</div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong> The <code>n</code> belongs to [1, 10,000].</p>

</div></div>
<h5 id="思路-20"><a href="#思路-20" class="headerlink" title="思路"></a><a href="http://www.cnblogs.com/grandyang/p/7565424.html" target="_blank" rel="noopener">思路</a></h5><h5 id="代码-20"><a href="#代码-20" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">checkPossibility</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">int</span> l = nums.size();</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;l<span class="number">-1</span>;i++)&#123;</div>
<div class="line">            <span class="keyword">if</span> (nums[i]&gt;nums[i+<span class="number">1</span>])&#123;</div>
<div class="line">                count+=<span class="number">1</span>;</div>
<div class="line">                <span class="keyword">if</span>(i==<span class="number">0</span>)&#123;</div>
<div class="line">                    nums[i]=nums[i+<span class="number">1</span>]<span class="number">-1</span>;</div>
<div class="line">                &#125;</div>
<div class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(nums[i<span class="number">-1</span>]&lt;nums[i+<span class="number">1</span>])&#123; </div>
<div class="line">                    nums[i]=nums[i+<span class="number">1</span>]<span class="number">-1</span>;</div>
<div class="line">                &#125;</div>
<div class="line">                <span class="keyword">else</span>&#123;</div>
<div class="line">                    nums[i+<span class="number">1</span>]=nums[i]+<span class="number">1</span>;</div>
<div class="line">                &#125;</div>
<div class="line">            &#125;</div>
<div class="line">                </div>
<div class="line">            <span class="keyword">if</span> (count&gt;<span class="number">1</span>)</div>
<div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="1-bit-and-2-bit-Characters"><a href="#1-bit-and-2-bit-Characters" class="headerlink" title="1-bit and 2-bit Characters"></a>1-bit and 2-bit Characters</h4><p><a href="https://leetcode.com/problems/1-bit-and-2-bit-characters/description/" target="_blank" rel="noopener">题目</a> </p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>We have two special characters. The first character can be represented by one bit <code>0</code>. The second character can be represented by two bits (<code>10</code> or <code>11</code>).</p>
<p>Now given a string represented by several bits. Return whether the last character must be a one-bit character or not. The given string will always end with a zero.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input: </div>
<div class="line">bits = [<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>]</div>
<div class="line">Output: True</div>
<div class="line">Explanation: </div>
<div class="line">The only way to decode it is two-bit character <span class="keyword">and</span> one-bit character. So the last character is one-bit character.</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input: </div>
<div class="line">bits = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>]</div>
<div class="line">Output: False</div>
<div class="line">Explanation: </div>
<div class="line">The only way to decode it is two-bit character <span class="keyword">and</span> two-bit character. So the last character is NOT one-bit character.</div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-21"><a href="#思路-21" class="headerlink" title="思路"></a>思路</h5><p>题目大意：判断字符串是否只有<code>10,11,0</code>三个子串组成，而且以<code>0</code>结尾。</p>
<p>仔细分析之后，会发现如果字符以<code>1</code>开头，那么它只能是<code>10</code>或者<code>11</code>，如果是<code>0</code>开头，那么只能是<code>0</code>。基于此，我们扫描一遍字符串，如果当前字符是<code>1</code>，那么跳过下一个字符，直接扫描<code>index = i+2</code>的字符；如果当前字符是<code>0</code>，那么扫描下一个字符，判断是否能到达最后一个字符且为<code>0</code>。</p>
<h5 id="代码-21"><a href="#代码-21" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isOneBitCharacter</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; bits)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> l=bits.size();</div>
<div class="line">        <span class="keyword">int</span> i=<span class="number">0</span>;</div>
<div class="line">        <span class="keyword">while</span>(i&lt;l<span class="number">-1</span>)&#123;</div>
<div class="line">            <span class="keyword">if</span>(bits[i]==<span class="number">0</span>)</div>
<div class="line">                i++;</div>
<div class="line">            <span class="keyword">else</span></div>
<div class="line">                i+=<span class="number">2</span>;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">if</span> (i==(l<span class="number">-1</span>) &amp;&amp; bits[i]==<span class="number">0</span>)</div>
<div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</div>
<div class="line">        <span class="keyword">else</span></div>
<div class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Find-Pivot-Index"><a href="#Find-Pivot-Index" class="headerlink" title="Find Pivot Index"></a>Find Pivot Index</h4><p><a href="https://leetcode.com/problems/find-pivot-index/description/" target="_blank" rel="noopener">题目</a> </p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>Given an array of integers <code>nums</code>, write a method that returns the “pivot” index of this array.</p>
<p>We define the pivot index as the index where the sum of the numbers to the left of the index is equal to the sum of the numbers to the right of the index.</p>
<p>If no such index exists, we should return -1. If there are multiple pivot indexes, you should return the left-most pivot index.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line">Input: </div>
<div class="line">nums = [1, 7, 3, 6, 5, 6]</div>
<div class="line">Output: 3</div>
<div class="line">Explanation: </div>
<div class="line">The sum of the numbers to the left of index 3 (nums[3] = 6) is equal to the sum of numbers to the right of index 3.</div>
<div class="line">Also, 3 is the first index where this occurs.</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input: </div>
<div class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div>
<div class="line">Output: -<span class="number">1</span></div>
<div class="line">Explanation: </div>
<div class="line">There is no index that satisfies the conditions in the problem statement.</div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-22"><a href="#思路-22" class="headerlink" title="思路"></a>思路</h5><p>题目大意：在一数组中寻找一个点，使该点左边的元素和等于该点的右边元素和。</p>
<p>第一种方法是遍历每个点，然后分别计算点左边和，点右边和。但是这样的复杂度是$O(n)$.</p>
<p>第二中方法是同样遍历每个点，但是并不是每次都去计算左边和，右边和。实际上，每一次遍历的时候，左边和、右边和的差异就是当前点：即左边和=上一次的和+当前点，右边和=上一次的和-当前点。</p>
<h5 id="代码-22"><a href="#代码-22" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pivotIndex</span><span class="params">(self, nums)</span>:</span></div>
<div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums : <span class="keyword">return</span> <span class="number">-1</span></div>
<div class="line">        l = len(nums)</div>
<div class="line">        lsum = <span class="number">0</span></div>
<div class="line">        rsum = sum(nums)</div>
<div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(l):</div>
<div class="line">            <span class="keyword">if</span> (lsum==(rsum-nums[i])):</div>
<div class="line">                <span class="keyword">return</span> i</div>
<div class="line">            lsum += nums[i]</div>
<div class="line">            rsum -= nums[i]</div>
<div class="line">        <span class="keyword">return</span> <span class="number">-1</span></div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Largest-Number-At-Least-Twice-of-Others"><a href="#Largest-Number-At-Least-Twice-of-Others" class="headerlink" title="Largest Number At Least Twice of Others"></a>Largest Number At Least Twice of Others</h4><p><a href="https://leetcode.com/problems/largest-number-at-least-twice-of-others/description/" target="_blank" rel="noopener">题目</a> </p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>In a given integer array <code>nums</code>, there is always exactly one largest element.</p>
<p>Find whether the largest element in the array is at least twice as much as every other number in the array.</p>
<p>If it is, return the <strong>index</strong> of the largest element, otherwise return -1.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line">Input: nums = [<span class="number">3</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">0</span>]</div>
<div class="line">Output: <span class="number">1</span></div>
<div class="line">Explanation: <span class="number">6</span> is the largest integer, <span class="keyword">and</span> <span class="keyword">for</span> every other number in the <span class="built_in">array</span> x,</div>
<div class="line"><span class="number">6</span> is more than twice as big as x.  The index of value <span class="number">6</span> is <span class="number">1</span>, so we <span class="keyword">return</span> <span class="number">1.</span></div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</div>
<div class="line">Output: <span class="number">-1</span></div>
<div class="line">Explanation: <span class="number">4</span> isn't at least as big as twice the value of <span class="number">3</span>, so we <span class="keyword">return</span> <span class="number">-1.</span></div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li><code>nums</code> will have a length in the range <code>[1, 50]</code>.</li>
<li>Every <code>nums[i]</code> will be an integer in the range <code>[0, 99]</code>.</li>
</ol>

</div></div>
<h5 id="思路-23"><a href="#思路-23" class="headerlink" title="思路"></a>思路</h5><p>题目大意：判断数组中最大数是否比剩下每个元素的两倍之大。</p>
<p>遍历一次，找出最大和次大的元素。重点是在次大元素的更新，每次最大元素更新，次大元素继承上一次最大元素值。</p>
<h5 id="代码-23"><a href="#代码-23" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dominantIndex</span><span class="params">(self, nums)</span>:</span></div>
<div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:<span class="keyword">return</span> <span class="number">-1</span></div>
<div class="line">        res_index = <span class="number">0</span></div>
<div class="line">        highest = <span class="number">0</span></div>
<div class="line">        secondHighest = <span class="number">0</span></div>
<div class="line">        <span class="keyword">for</span> idx,v <span class="keyword">in</span> enumerate(nums):</div>
<div class="line">            <span class="keyword">if</span> highest&lt;v:</div>
<div class="line">                secondHighest = highest</div>
<div class="line">                highest=v</div>
<div class="line">                res_index = idx</div>
<div class="line">            <span class="keyword">elif</span> secondHighest&lt;v:</div>
<div class="line">                secondHighest = v</div>
<div class="line">        <span class="keyword">if</span> highest&gt;=<span class="number">2</span>*secondHighest:</div>
<div class="line">            <span class="keyword">return</span> res_index</div>
<div class="line">        <span class="keyword">else</span>:</div>
<div class="line">            <span class="keyword">return</span> <span class="number">-1</span></div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Toeplitz-Matrix"><a href="#Toeplitz-Matrix" class="headerlink" title="Toeplitz Matrix"></a>Toeplitz Matrix</h4><p><a href="https://leetcode.com/problems/toeplitz-matrix/description/" target="_blank" rel="noopener">题目</a> </p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>A matrix is <em>Toeplitz</em> if every diagonal from top-left to bottom-right has the same element.</p>
<p>Now given an <code>M x N</code> matrix, return <code>True</code> if and only if the matrix is <em>Toeplitz</em>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line">Input:</div>
<div class="line">matrix = [</div>
<div class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</div>
<div class="line">  [<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</div>
<div class="line">  [<span class="number">9</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>]</div>
<div class="line">]</div>
<div class="line">Output: True</div>
<div class="line">Explanation:</div>
<div class="line">In the above grid, the diagonals are:</div>
<div class="line"><span class="string">"[9]"</span>, <span class="string">"[5, 5]"</span>, <span class="string">"[1, 1, 1]"</span>, <span class="string">"[2, 2, 2]"</span>, <span class="string">"[3, 3]"</span>, <span class="string">"[4]"</span>.</div>
<div class="line">In each diagonal all elements are the same, so the answer is True.</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
</pre></td><td class="code"><pre><div class="line">Input:</div>
<div class="line">matrix = [</div>
<div class="line">  [<span class="number">1</span>,<span class="number">2</span>],</div>
<div class="line">  [<span class="number">2</span>,<span class="number">2</span>]</div>
<div class="line">]</div>
<div class="line">Output: False</div>
<div class="line">Explanation:</div>
<div class="line">The diagonal <span class="string">"[1, 2]"</span> has different elements.</div>
<div class="line">**Note:**</div>
</pre></td></tr></table></figure>
<ol>
<li><code>matrix</code> will be a 2D array of integers.</li>
<li><code>matrix</code> will have a number of rows and columns in range <code>[1, 20]</code>.</li>
<li><code>matrix[i][j]</code> will be integers in range <code>[0, 99]</code>.</li>
</ol>

</div></div>
<h5 id="思路-24"><a href="#思路-24" class="headerlink" title="思路"></a>思路</h5><p>题目大意：判断一个矩阵所有对角线上的元素是否相等。</p>
<p>感觉挺巧的想法，遍历一遍矩阵，每次判断当前元素与其紧邻的对角线元素是否相等。</p>
<h5 id="代码-24"><a href="#代码-24" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isToeplitzMatrix</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> row = matrix.size();</div>
<div class="line">        <span class="keyword">int</span> col = matrix[<span class="number">0</span>].size();</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;row<span class="number">-1</span>;i++)&#123;</div>
<div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;col<span class="number">-1</span>;j++)&#123;</div>
<div class="line">                <span class="keyword">if</span> (matrix[i][j]!=matrix[i+<span class="number">1</span>][j+<span class="number">1</span>])</div>
<div class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="X-of-a-Kind-in-a-Deck-of-Cards"><a href="#X-of-a-Kind-in-a-Deck-of-Cards" class="headerlink" title="X of a Kind in a Deck of Cards"></a>X of a Kind in a Deck of Cards</h4><h5 id="题目-20"><a href="#题目-20" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/x-of-a-kind-in-a-deck-of-cards/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>In a deck of cards, each card has an integer written on it.</p>
<p>Return <code>true</code> if and only if you can choose <code>X &gt;= 2</code> such that it is possible to split the entire deck into 1 or more groups of cards, where:</p>
<ul>
<li>Each group has exactly <code>X</code> cards.</li>
<li>All the cards in each group have the same integer.</li>
</ul>
<p><strong>Example 1:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</div>
<div class="line">Output: <span class="literal">true</span></div>
<div class="line">Explanation: Possible partition [<span class="number">1</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">4</span>]</div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>]</div>
<div class="line">Output: <span class="literal">false</span></div>
<div class="line">Explanation: No possible partition.</div>
</pre></td></tr></table></figure>
<p><strong>Example 3:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>]</div>
<div class="line">Output: <span class="literal">false</span></div>
<div class="line">Explanation: No possible partition.</div>
</pre></td></tr></table></figure>
<p><strong>Example 4:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">1</span>]</div>
<div class="line">Output: <span class="literal">true</span></div>
<div class="line">Explanation: Possible partition [<span class="number">1</span>,<span class="number">1</span>]</div>
</pre></td></tr></table></figure>
<p><strong>Example 5:</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>]</div>
<div class="line">Output: <span class="literal">true</span></div>
<div class="line">Explanation: Possible partition [<span class="number">1</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">2</span>]</div>
</pre></td></tr></table></figure>

</div></div>
<h5 id="思路-25"><a href="#思路-25" class="headerlink" title="思路"></a><a href="https://leetcode.com/problems/x-of-a-kind-in-a-deck-of-cards/discuss/175845/C++JavaPython-Greatest-Common-Divisor" target="_blank" rel="noopener">思路</a></h5><p>题目大意：将数组划分成大小相同的组，每组元素相同且大小不小于2。</p>
<p>思路很直接，遍历数组，统计相同元素个数。只要最小组的长度大于2且是其他组的除数，就可以。但是，这个对例子<code>[1,1,1,1,2,2,2,2,2,2]</code>是不行的。实际上，只要各组长度之间存在大于1的最大公约数，该最大公倍数即最终划分的长度，则满足题意。</p>
<h5 id="代码-25"><a href="#代码-25" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasGroupsSizeX</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; deck)</span> </span>&#123;</div>
<div class="line">        <span class="built_in">map</span>&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; count;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i:deck)&#123;</div>
<div class="line">            count[i] ++;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">int</span> min_count = <span class="number">0</span>;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;v:count)&#123;</div>
<div class="line">            <span class="keyword">if</span> (min_count&gt;v.second)&#123;</div>
<div class="line">                min_count = v.second;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> &amp;v:count)&#123;</div>
<div class="line">            min_count = __gcd(min_count,v.second);</div>
<div class="line">            <span class="keyword">if</span> (min_count&lt;<span class="number">2</span>)&#123;</div>
<div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Maximize-Distance-to-Closest-Person"><a href="#Maximize-Distance-to-Closest-Person" class="headerlink" title="Maximize Distance to Closest Person"></a>Maximize Distance to Closest Person</h4><h5 id="题目-21"><a href="#题目-21" class="headerlink" title="题目"></a><a href="https://leetcode.com/problems/maximize-distance-to-closest-person/description/" target="_blank" rel="noopener">题目</a></h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<p>In a row of <code>seats</code>, <code>1</code> represents a person sitting in that seat, and <code>0</code> represents that the seat is empty. </p>
<p>There is at least one empty seat, and at least one person sitting.</p>
<p>Alex wants to sit in the seat such that the distance between him and the closest person to him is maximized. </p>
<p>Return that maximum distance to closest person.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]</div>
<div class="line">Output: <span class="number">2</span></div>
<div class="line">Explanation: </div>
<div class="line"><span class="function">If Alex sits in the second open <span class="title">seat</span> <span class="params">(seats[<span class="number">2</span>])</span>, then the closest person has distance 2.</span></div>
<div class="line"><span class="function">If Alex sits in any other open seat, the closest person has distance 1.</span></div>
<div class="line"><span class="function">Thus, the maximum distance to the closest person is 2.</span></div>
</pre></td></tr></table></figure>
<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">Input: [<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</div>
<div class="line">Output: <span class="number">3</span></div>
<div class="line">Explanation: </div>
<div class="line">If Alex sits in the last seat, the closest person is <span class="number">3</span> seats away.</div>
<div class="line">This is the maximum distance possible, so the answer is <span class="number">3</span>.</div>
</pre></td></tr></table></figure>
<p><strong>Note:</strong></p>
<ol>
<li><code>1 &lt;= seats.length &lt;= 20000</code></li>
<li><code>seats</code> contains only 0s or 1s, at least one <code>0</code>, and at least one <code>1</code>.</li>
</ol>

</div></div>
<h5 id="思路-26"><a href="#思路-26" class="headerlink" title="思路"></a><a href="https://blog.csdn.net/fuxuemingzhu/article/details/80643250" target="_blank" rel="noopener">思路</a></h5><p>题目大意：给定一个0/1表示的座位数组，0表示空座位，1表示该位置有人。现要求找一个位置，使最大与旁边人的距离。</p>
<p>即对于每一个空座位，需要考虑左边最近人的距离和右边最近人的距离，那么该座位与旁人的最大距离为左右两边距离的较小一个。这样每一个空座位的最大距离求出之后，选择最大距离的座位。</p>
<p>为了求出每个座位与左右两边人的最近距离，我们使用遍历两次座位数组，第一次遍历求出空座位与周边人的距离；第二次遍历求出与右边人的距离。</p>
<h5 id="代码-26"><a href="#代码-26" class="headerlink" title="代码"></a>代码</h5><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
<div class="line">26</div>
<div class="line">27</div>
<div class="line">28</div>
<div class="line">29</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxDistToClosest</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; seats)</span> </span>&#123;</div>
<div class="line">        <span class="keyword">int</span> pos = INT_MAX;</div>
<div class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dis(seats.size(),INT_MAX);</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;seats.size();i++)&#123;</div>
<div class="line">            <span class="keyword">if</span> (seats[i]==<span class="number">1</span>)&#123;</div>
<div class="line">                pos = i;</div>
<div class="line">                dis[i] = <span class="number">0</span>;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span>&#123;</div>
<div class="line">                dis[i] = <span class="built_in">abs</span>(pos-i);</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        </div>
<div class="line">        pos = INT_MAX;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=seats.size()<span class="number">-1</span>;i&gt;<span class="number">-1</span>;i--)&#123;</div>
<div class="line">            <span class="keyword">if</span> (seats[i]==<span class="number">1</span>)&#123;</div>
<div class="line">                pos = i;</div>
<div class="line">            &#125;</div>
<div class="line">            <span class="keyword">else</span>&#123;</div>
<div class="line">                dis[i] = min(<span class="built_in">abs</span>(i-pos),dis[i]);</div>
<div class="line">            &#125;</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="keyword">auto</span> maxPosition = max_element(dis.begin(), dis.end());</div>
<div class="line">        <span class="keyword">return</span> dis[maxPosition - dis.begin()];</div>
<div class="line">        </div>
<div class="line">    &#125;</div>
<div class="line">&#125;;</div>
</pre></td></tr></table></figure>

</div></div>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/20/Naive-Bayes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/20/Naive-Bayes/" itemprop="url">Naive Bayes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-20T22:09:35-05:00">
                2018-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine Learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>机器学习中的分类方法，通常是基于有限的训练样本尽可能准确地估计后验概率$P(c|x)$。大体上，对后验概率的估计有两种策略：给定$x$，直接建模$P(c|x)$来预测$c$，这样得到的模型是“判别式模型”（discriminative models）；也可以先对联合概率分布$P(x,c)$建模，然后再由此获得$P(c|x)$，这样得到的是“生成式模型”（generative models）。决策树，神经网络，支持向量机都归入判别式模型；而朴素贝叶斯法则属于生成式模型。</p>
<p>朴素贝叶斯法是基于<strong>贝叶斯定理</strong>与<strong>特征条件独立</strong>假设的分类方法。对于给定的训练数据集，首先基于特征条件独立假设学习输入|输出的联合概率分布；然后基于此模型，对于给定的输入$x$，利用贝叶斯定理求出后验概率最大的输出$y$。朴素贝叶斯法广泛应用于文本分类以及垃圾邮件检测。</p>
<p>本章叙述朴素贝叶斯法，包括朴素贝叶斯的学习与分类、朴素贝叶斯法的参数估计算法。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/09/20/Naive-Bayes/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/12/C-Programing-Language/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/12/C-Programing-Language/" itemprop="url">C++ Programing Language</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-12T17:40:37-05:00">
                2018-09-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h1><p><code>vector&lt;vector&lt;int&gt;&gt;</code> 初始化 <a href="https://blog.csdn.net/yooliee/article/details/71498321" target="_blank" rel="noopener">ref</a> </p>
<p>采用vector模板中的方法<code>push_back()</code> </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
<div class="line">26</div>
<div class="line">27</div>
</pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div>
<div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt; </span></span></div>
<div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div>
<div class="line"></div>
<div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div>
<div class="line"><span class="function"></span>&#123;</div>
<div class="line">    <span class="comment">//array用来保存一个3*3的二维数组，array的每个元素都是vector&lt;int&gt;类型</span></div>
<div class="line">    <span class="built_in">vector</span> &lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt;<span class="built_in">array</span>;</div>
<div class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</div>
<div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span>; i++)&#123;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;<span class="number">3</span>; j++)&#123;</div>
<div class="line">            <span class="keyword">int</span> value;</div>
<div class="line">            <span class="built_in">cin</span> &gt;&gt; value;</div>
<div class="line">            v.push_back(value);</div>
<div class="line">        &#125;</div>
<div class="line">        <span class="built_in">array</span>.push_back(v); <span class="comment">//保存array的每个元素</span></div>
<div class="line">        v.clear();</div>
<div class="line">    &#125;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;<span class="built_in">array</span>.size(); i++)</div>
<div class="line">    &#123;</div>
<div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;<span class="number">3</span>; j++)</div>
<div class="line">            <span class="built_in">cout</span> &lt;&lt;<span class="built_in">array</span>[i][j];</div>
<div class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</div>
<div class="line">    &#125;</div>
<div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div>
<div class="line">&#125;</div>
</pre></td></tr></table></figure>
<h1 id="Unsorted-set"><a href="#Unsorted-set" class="headerlink" title="Unsorted_set"></a>Unsorted_set</h1><p><a href="http://classfoo.com/ccby/article/qNNOJ#sec_4PWie3" target="_blank" rel="noopener">代码示例</a> </p>
<p><code>unsorted_set</code>是无序容器，基于哈希表实现。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/11/Support-Vector-Machine/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/11/Support-Vector-Machine/" itemprop="url">Support Vector Machine</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-11T12:11:24-05:00">
                2018-09-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine Learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>支持向量机(SVM)是一个用于分类和回归的线性模型，它可以解决线性和非线性问题。</p>
<p>支持向量机的思想很简单：我们尽量找到一条直线或者一个超平面将数据集分成不同的类。</p>
<p>在逻辑斯蒂回归中，我们用了sigmoid激活函数将$y=wx+b$的计算结果压缩到$[0,1]$范围内，这样，如果我们的压缩值大于临界值0.5，我们就将该样例分类到正例；否则我们将之分类到负例。在SVM中，我们将临界值设置为-1和+1，即如果$y=wx+b$的计算结果大于1，我们分类至正例；如果$y=wx+b$的计算结果小于-1，我们分类至负例，这样我们就得到了一个区间$[-1,1]$，称之为间隔。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/09/11/Support-Vector-Machine/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/09/03/Grid-Search/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/03/Grid-Search/" itemprop="url">Grid Search</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-03T11:47:49-05:00">
                2018-09-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine Learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>模型参数(Model Parameters)</p>
<p>模型参数是根据训练集数据而定义的，故它们是利用训练集数据训练得到的，它们往往不能手动设置，常见的模型参数包括：</p>
<ul>
<li>线性模型、非线性模型的系数</li>
<li>神经网络的权重，隐藏层的层数，每一层的神经元个数等</li>
<li>随机森林中决策树的个数</li>
</ul>
<p>模型超参数(Model Hyper-Parameters)</p>
<p>模型超参数往往独立于训练集而被定义，所以它们不能从训练集中学习得到。常见的超参数包括：</p>
<ul>
<li>模型的学习速率</li>
<li>k折交叉验证的k值</li>
</ul>
<p>Grid Search</p>
<p>每一个模型几乎都有许多超参数，所以寻找超参数的一个直观的方法是尝试这些超参数的不能组合，然后比较结果。</p>
<p>Python实现</p>
<p>下面我们以寻找逻辑斯蒂回归模型最佳正则函数和学习速率为例，来感受一个Grid Search。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment"># Create logistic regression object</span></div>
<div class="line">logistic = linear_model.LogisticRegression()</div>
<div class="line"><span class="comment"># Create a list of all of the different penalty values that you want to test and save them to a variable called 'penalty'</span></div>
<div class="line">penalty = [<span class="string">'l1'</span>, <span class="string">'l2'</span>]</div>
<div class="line"><span class="comment"># Create a list of all of the different C values that you want to test and save them to a variable called 'C'</span></div>
<div class="line">C = [<span class="number">0.0001</span>, <span class="number">0.001</span>, <span class="number">0.01</span>, <span class="number">1</span>, <span class="number">100</span>]</div>
<div class="line"><span class="comment"># Now that you have two lists each holding the different values that you want test, use the dict() function to combine them into a dictionary.</span></div>
<div class="line"><span class="comment"># Save your new dictionary to the variable 'hyperparameters'</span></div>
<div class="line">hyperparameters = dict(C=C, penalty=penalty)</div>
<div class="line"><span class="comment"># Fit your model using gridsearch</span></div>
<div class="line">clf = GridSearchCV(logistic, hyperparameters, cv=<span class="number">5</span>, verbose=<span class="number">0</span>)</div>
<div class="line">best_model = clf.fit(X, Y)</div>
<div class="line"><span class="comment">#Print all the Parameters that gave the best results:</span></div>
<div class="line">print(<span class="string">'Best Parameters'</span>,clf.best_params_)</div>
<div class="line"><span class="comment"># You can also print the best penalty and C value individually from best_model.best_estimator_.get_params()</span></div>
<div class="line">print(<span class="string">'Best Penalty:'</span>, best_model.best_estimator_.get_params()[<span class="string">'penalty'</span>])</div>
<div class="line">print(<span class="string">'Best C:'</span>, best_model.best_estimator_.get_params()[<span class="string">'C'</span>])</div>
</pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/23/Tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/23/Tree/" itemprop="url">Tree</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-23T16:55:10-05:00">
                2018-08-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <h5 id="树的定义"><a href="#树的定义" class="headerlink" title="树的定义"></a>树的定义</h5><!--�713-->
<h5 id="树的遍历"><a href="#树的遍历" class="headerlink" title="树的遍历"></a>树的遍历</h5><p>Pre-order ：root， (left)，(right)</p>
<!--�714-->
<p>In-order： (left)，root，(right)</p>
<!--�715-->
<p>Post-order： (left)，(right)，root</p>
<!--�716-->
<h5 id="队列"><a href="#队列" class="headerlink" title="队列"></a>队列</h5><!--�717-->
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/08/23/Tree/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/20/Variant-GAN/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/20/Variant-GAN/" itemprop="url">Variant GAN</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-20T10:54:39-05:00">
                2018-08-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Deep-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Deep Learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>我们之前介绍了GAN模型，在本章中，将介绍一些GAN的变体模型。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/08/20/Variant-GAN/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/18/Logistic-Regression/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/18/Logistic-Regression/" itemprop="url">Logistic Regression</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-18T16:44:27-05:00">
                2018-08-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Machine-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Machine Learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>用于分类任务的逻辑斯蒂回归。</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/08/18/Logistic-Regression/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/09/Python-Sth/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/09/Python-Sth/" itemprop="url">Python Sth</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-09T10:52:36-05:00">
                2018-08-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="EasyDict"><a href="#EasyDict" class="headerlink" title="EasyDict"></a>EasyDict</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> easydict <span class="keyword">import</span> EasyDict <span class="keyword">as</span> edict</div>
<div class="line">mydict = edict(&#123;&#125;)</div>
<div class="line">mydict.foo = <span class="number">3</span></div>
<div class="line">print(mydict.foo) <span class="comment"># 3</span></div>
</pre></td></tr></table></figure>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>检查目录，并生成一级目录</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">path = <span class="string">'./xx/'</span></div>
<div class="line"><span class="keyword">if</span> os.path.isdir(path) == <span class="keyword">False</span>:</div>
<div class="line">    os.mkdir(path)</div>
</pre></td></tr></table></figure>
<p>多级目录生成</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">path = <span class="string">'./xx/yy/zz/'</span></div>
<div class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(path):</div>
<div class="line">    os.makedirs(path)</div>
</pre></td></tr></table></figure>
<h2 id="R-amp-W-in-TXT"><a href="#R-amp-W-in-TXT" class="headerlink" title="R &amp; W in TXT"></a>R &amp; W in TXT</h2><p> <a href="https://blog.csdn.net/heyijia0327/article/details/42506063" target="_blank" rel="noopener">ref</a> </p>
<p><code>np.loadtxt()</code>用于从文本加载数据。 文本文件中的每一行必须含有相同的数据。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">loadtxt(fname, dtype=&lt;class 'float'&gt;, comments='#', delimiter=None, converters=None, skiprows=0, usecols=None, unpack=False, ndmin=0)</div>
</pre></td></tr></table></figure>
<ul>
<li>fname：文件名</li>
<li>dtype：数据类型，默认float</li>
<li>comments：注释</li>
<li>delimiter：分隔符，默认是空格</li>
<li>skiprows：跳过前几行，0是第一行，必须int</li>
<li><code>usecols</code>：要读取哪些列，0是第一列。例如，usecols = （1,4,5）将提取第2，第5和第6列。默认读取所有列。</li>
<li><code>unpack</code>如果为<code>True</code>，将分列读取。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> open(<span class="string">'odom.txt'</span>, <span class="string">'r'</span>) <span class="keyword">as</span> f:</div>
<div class="line">    data = f.readlines()  <span class="comment">#txt中所有字符串读入data</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> data:</div>
<div class="line">        odom = line.split()        <span class="comment">#将单个数据分隔开存好</span></div>
<div class="line">        numbers_float = map(float, odom) <span class="comment">#转化为浮点数</span></div>
</pre></td></tr></table></figure>
<p>TXT追加内容</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line">my_open = open(file_name, <span class="string">'a'</span>)</div>
<div class="line"><span class="comment">#打开fie_name路径下的my_infor.txt文件,采用追加模式</span></div>
<div class="line"><span class="comment">#若文件不存在,创建，若存在，追加</span></div>
<div class="line">my_open.write(<span class="string">'xx\n'</span>)</div>
<div class="line">my_open.close()</div>
</pre></td></tr></table></figure>
<h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h3 id="文件移动"><a href="#文件移动" class="headerlink" title="文件移动"></a>文件移动</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> shutil</div>
<div class="line">shutil.move(src,des)</div>
</pre></td></tr></table></figure>
<h1 id="Print"><a href="#Print" class="headerlink" title="Print"></a>Print</h1><h2 id="pprint"><a href="#pprint" class="headerlink" title="pprint"></a>pprint</h2><p>it is used for pretty-print data structures.</p>
<h2 id="Random"><a href="#Random" class="headerlink" title="Random"></a>Random</h2><h3 id="np-random-rand"><a href="#np-random-rand" class="headerlink" title="np.random.rand()"></a>np.random.rand()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.random.rand(d0,d1,…,dn)</div>
</pre></td></tr></table></figure>
<ul>
<li>rand函数根据给定维度生成[0,1)之间的数据，包含0，不包含1</li>
<li>dn为每个维度</li>
<li>返回值为指定维度的数组</li>
</ul>
<h3 id="np-random-randn"><a href="#np-random-randn" class="headerlink" title="np.random.randn()"></a>np.random.randn()</h3><ul>
<li>randn函数返回具有标准正态分布的数据。</li>
<li>dn为每个维度</li>
<li>返回值为指定维度的数组</li>
</ul>
<h3 id="np-random-randint"><a href="#np-random-randint" class="headerlink" title="np.random.randint()"></a>np.random.randint()</h3><p><code>numpy.random.randint(low, high, size)</code></p>
<ul>
<li>返回开区间 <strong>[low, high)</strong>范围内的整数值</li>
<li>默认high是None,如果只有low，那范围就是[0,low)。如果有high，范围就是[low,high)</li>
<li>size是输出数组的维度（形状），可以是列表，或者元组</li>
</ul>
<h3 id="np-random-choice"><a href="#np-random-choice" class="headerlink" title="np.random.choice()"></a>np.random.choice()</h3><p><code>numpy.random.choice(a, size)</code></p>
<ul>
<li>a可以是一个数或者一个array，如果是一个数则sample范围是【0，a);如果是array，则从中sample</li>
<li>size为sample大小；如果size=(m,n,k)，则采样$m<em>n</em>k$个。</li>
</ul>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="数字补0"><a href="#数字补0" class="headerlink" title="数字补0"></a>数字补0</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">n = <span class="number">123</span></div>
<div class="line">number = <span class="string">"%05d"</span>%n <span class="comment">### number = 00123</span></div>
</pre></td></tr></table></figure>
<h2 id="Plt"><a href="#Plt" class="headerlink" title="Plt"></a>Plt</h2><p>图片保存去除周边空白<a href="https://www.jianshu.com/p/5f4c71b3024d" target="_blank" rel="noopener">ref</a> </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">plt.figure(figsize=(<span class="number">15</span>,<span class="number">8</span>)) </div>
<div class="line">p = plt.subplot(<span class="number">111</span>)</div>
<div class="line">plt.savefig(<span class="string">'image_name'</span>, ,bbox_inches=<span class="string">'tight'</span>)</div>
</pre></td></tr></table></figure>
<blockquote>
<p>bbox_inches =’tight’ 只能用于保存图片，不能用于显示。</p>
</blockquote>
<h2 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> time</div>
<div class="line">start_time = time.time()</div>
</pre></td></tr></table></figure>
<h2 id="Zip"><a href="#Zip" class="headerlink" title="Zip"></a>Zip</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line">name = [ <span class="string">"Manjeet"</span>, <span class="string">"Nikhil"</span>, <span class="string">"Shambhavi"</span>, <span class="string">"Astha"</span> ] </div>
<div class="line">roll_no = [ <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span> ] </div>
<div class="line">marks = [ <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span> ] </div>
<div class="line"><span class="comment"># using zip() to map values </span></div>
<div class="line">mapped = zip(name, roll_no, marks) </div>
<div class="line"><span class="comment"># converting values to print as set </span></div>
<div class="line">mapped = set(mapped)</div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">The zipped result <span class="keyword">is</span> : &#123;(<span class="string">'Shambhavi'</span>, <span class="number">3</span>, <span class="number">60</span>), (<span class="string">'Astha'</span>, <span class="number">2</span>, <span class="number">70</span>), (<span class="string">'Manjeet'</span>, <span class="number">4</span>, <span class="number">40</span>), (<span class="string">'Nikhil'</span>, <span class="number">1</span>, <span class="number">50</span>)&#125;</div>
</pre></td></tr></table></figure>
<p><strong>How to unzip?</strong><br>Unzipping means converting the zipped values back to the individual self as they were. This is done with the help of “<strong>*</strong>” operator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
</pre></td><td class="code"><pre><div class="line">name = [ <span class="string">"Manjeet"</span>, <span class="string">"Nikhil"</span>, <span class="string">"Shambhavi"</span>, <span class="string">"Astha"</span> ] </div>
<div class="line">roll_no = [ <span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span> ] </div>
<div class="line">marks = [ <span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span> ] </div>
<div class="line"><span class="comment"># using zip() to map values </span></div>
<div class="line">mapped = zip(name, roll_no, marks) </div>
<div class="line"><span class="comment"># converting values to print as list </span></div>
<div class="line">mapped = list(mapped) </div>
<div class="line"><span class="comment"># printing resultant values  </span></div>
<div class="line"><span class="keyword">print</span> (<span class="string">"The zipped result is : "</span>,end=<span class="string">""</span>) </div>
<div class="line"><span class="keyword">print</span> (mapped) </div>
<div class="line">print(<span class="string">"\n"</span>) </div>
<div class="line"><span class="comment"># unzipping values </span></div>
<div class="line">namz, roll_noz, marksz = zip(*mapped) </div>
<div class="line"><span class="keyword">print</span> (<span class="string">"The unzipped result: \n"</span>,end=<span class="string">""</span>) </div>
<div class="line"><span class="comment"># printing initial lists </span></div>
<div class="line"><span class="keyword">print</span> (<span class="string">"The name list is : "</span>,end=<span class="string">""</span>) </div>
<div class="line"><span class="keyword">print</span> (namz) </div>
<div class="line"><span class="keyword">print</span> (<span class="string">"The roll_no list is : "</span>,end=<span class="string">""</span>) </div>
<div class="line"><span class="keyword">print</span> (roll_noz) </div>
<div class="line"><span class="keyword">print</span> (<span class="string">"The marks list is : "</span>,end=<span class="string">""</span>) </div>
<div class="line"><span class="keyword">print</span> (marksz)</div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line">The zipped result <span class="keyword">is</span> : [(<span class="string">'Manjeet'</span>, <span class="number">4</span>, <span class="number">40</span>), (<span class="string">'Nikhil'</span>, <span class="number">1</span>, <span class="number">50</span>), </div>
<div class="line">(<span class="string">'Shambhavi'</span>, <span class="number">3</span>, <span class="number">60</span>), (<span class="string">'Astha'</span>, <span class="number">2</span>, <span class="number">70</span>)]</div>
<div class="line">The unzipped result: </div>
<div class="line">The name list <span class="keyword">is</span> : (<span class="string">'Manjeet'</span>, <span class="string">'Nikhil'</span>, <span class="string">'Shambhavi'</span>, <span class="string">'Astha'</span>)</div>
<div class="line">The roll_no list <span class="keyword">is</span> : (<span class="number">4</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>)</div>
<div class="line">The marks list <span class="keyword">is</span> : (<span class="number">40</span>, <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>)</div>
</pre></td></tr></table></figure>
<h2 id="Parser"><a href="#Parser" class="headerlink" title="Parser"></a>Parser</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> argparse</div>
<div class="line">    parser = argparse.ArgumentParser(description=<span class="string">"Process some parameters."</span>)</div>
<div class="line">    parser.add_argument(<span class="string">'--trainFeature'</span>, <span class="string">'-tf'</span>, type=int, required=<span class="keyword">True</span>, default=<span class="number">1</span>, help=<span class="string">'train feature'</span>)</div>
<div class="line">    parser.add_argument(<span class="string">'--trainInitial'</span>, <span class="string">'-ti'</span>, type=int, required=<span class="keyword">True</span>, default=<span class="number">1</span>,help=<span class="string">'train initial'</span>)</div>
<div class="line">    parser.add_argument(<span class="string">'--learningRate'</span>, <span class="string">'-lr'</span>, type=float, required=<span class="keyword">True</span>, default=<span class="number">0.00001</span>,help=<span class="string">'learning rate'</span>)</div>
<div class="line">    parser.add_argument(<span class="string">'--criticNum'</span>, <span class="string">'-cn'</span>, type=int, required=<span class="keyword">True</span>, default=<span class="number">5</span>,help=<span class="string">'critic number'</span>)</div>
<div class="line">    parser.add_argument(<span class="string">'--clipRange'</span>, <span class="string">'-cr'</span>, type=float, required=<span class="keyword">True</span>,default=<span class="number">0.01</span>, help=<span class="string">'clip range'</span>)</div>
<div class="line"></div>
<div class="line">    args = parser.parse_args()</div>
<div class="line">    opts = &#123;k:v <span class="keyword">for</span> k,v <span class="keyword">in</span> args._get_kwagrs()&#125;</div>
<div class="line">    n_critic = args.criticNum</div>
<div class="line">    train_initial = args.trainInitial</div>
<div class="line">    train_feature = args.trainFeature</div>
<div class="line">    lr = args.learningRate</div>
<div class="line">    clip = args.clipRange</div>
<div class="line"></div>
<div class="line">    dgan = StageTwo(n_critic,train_initial,train_feature,lr,clip)</div>
</pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">python xx.py -trainFeature 1 -trainInitial 1 -learningRate 0.001 -criticNum 5 -clipRange 0.01</div>
</pre></td></tr></table></figure>
<h2 id="Matplotlib"><a href="#Matplotlib" class="headerlink" title="Matplotlib"></a>Matplotlib</h2><p><a href="https://towardsdatascience.com/5-quick-and-easy-data-visualizations-in-python-with-code-a2284bae952f" target="_blank" rel="noopener">5 Quick and Easy Data Visualizations in Python with Code</a> </p>
<p><a href="https://mail.google.com/mail/u/0/#inbox/FMfcgxwBVWMvVdMrPPqPgrmqWvZFZxvh" target="_blank" rel="noopener">8 of the best articles on visualizing data</a> </p>
<h2 id="ElementTree"><a href="#ElementTree" class="headerlink" title="ElementTree"></a>ElementTree</h2><p>！！！！！所有的输入都必须是<strong>字符串</strong>！！！！！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
<div class="line">26</div>
<div class="line">27</div>
<div class="line">28</div>
<div class="line">29</div>
<div class="line">30</div>
<div class="line">31</div>
<div class="line">32</div>
<div class="line">33</div>
<div class="line">34</div>
<div class="line">35</div>
<div class="line">36</div>
<div class="line">37</div>
<div class="line">38</div>
<div class="line">39</div>
<div class="line">40</div>
<div class="line">41</div>
<div class="line">42</div>
<div class="line">43</div>
<div class="line">44</div>
<div class="line">45</div>
<div class="line">46</div>
<div class="line">47</div>
<div class="line">48</div>
<div class="line">49</div>
<div class="line">50</div>
<div class="line">51</div>
<div class="line">52</div>
<div class="line">53</div>
<div class="line">54</div>
<div class="line">55</div>
</pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">indent</span><span class="params">(elem, level=<span class="number">0</span>)</span>:</span></div>
<div class="line">  i = <span class="string">"\n"</span> + level*<span class="string">"  "</span></div>
<div class="line">  <span class="keyword">if</span> len(elem):</div>
<div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> elem.text <span class="keyword">or</span> <span class="keyword">not</span> elem.text.strip():</div>
<div class="line">      elem.text = i + <span class="string">"  "</span></div>
<div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> elem.tail <span class="keyword">or</span> <span class="keyword">not</span> elem.tail.strip():</div>
<div class="line">      elem.tail = i</div>
<div class="line">    <span class="keyword">for</span> elem <span class="keyword">in</span> elem:</div>
<div class="line">      indent(elem, level+<span class="number">1</span>)</div>
<div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> elem.tail <span class="keyword">or</span> <span class="keyword">not</span> elem.tail.strip():</div>
<div class="line">      elem.tail = i</div>
<div class="line">  <span class="keyword">else</span>:</div>
<div class="line">    <span class="keyword">if</span> level <span class="keyword">and</span> (<span class="keyword">not</span> elem.tail <span class="keyword">or</span> <span class="keyword">not</span> elem.tail.strip()):</div>
<div class="line">      elem.tail = i</div>
<div class="line"></div>
<div class="line"><span class="function"><span class="keyword">def</span> <span class="title">createXML</span><span class="params">()</span>:</span></div>
<div class="line">    root =ET.Element(<span class="string">'annotation'</span>)</div>
<div class="line">    filename = ET.Element(<span class="string">'filename'</span>)</div>
<div class="line">    filename.text = <span class="string">'xx'</span></div>
<div class="line">    root.append(filename)</div>
<div class="line"></div>
<div class="line">    folder = ET.Element(<span class="string">'folder'</span>)</div>
<div class="line">    folder.text = <span class="string">'cad60/'</span></div>
<div class="line">    root.append(folder)</div>
<div class="line"></div>
<div class="line">    object = ET.Element(<span class="string">'object'</span>)</div>
<div class="line">    root.append(object)</div>
<div class="line"></div>
<div class="line">    name = ET.SubElement(object,<span class="string">'name'</span>)</div>
<div class="line">    name.text = <span class="string">'person'</span></div>
<div class="line">    action = ET.SubElement(object, <span class="string">'action'</span>)</div>
<div class="line">    action.text = <span class="string">'12'</span></div>
<div class="line">    bndbox = ET.SubElement(object,<span class="string">'bndbox'</span>)</div>
<div class="line">    xmax = ET.SubElement(bndbox,<span class="string">'xmax'</span>)</div>
<div class="line">    xmax.text = <span class="string">'1'</span></div>
<div class="line">    xmin = ET.SubElement(bndbox, <span class="string">'xmin'</span>)</div>
<div class="line">    xmin.text = <span class="string">'2'</span></div>
<div class="line">    ymax = ET.SubElement(bndbox, <span class="string">'ymax'</span>)</div>
<div class="line">    ymax.text = <span class="string">'3'</span></div>
<div class="line">    ymin = ET.SubElement(bndbox,<span class="string">'ymin'</span>)</div>
<div class="line">    ymin.text = <span class="string">'4'</span></div>
<div class="line"></div>
<div class="line">    size = ET.Element(<span class="string">'size'</span>)</div>
<div class="line">    root.append(size)</div>
<div class="line">    depth = ET.SubElement(size,<span class="string">'depth'</span>)</div>
<div class="line">    depth.text = <span class="string">'1'</span></div>
<div class="line">    height = ET.SubElement(size, <span class="string">'height'</span>)</div>
<div class="line">    height.text = <span class="string">'2'</span></div>
<div class="line">    width = ET.SubElement(size, <span class="string">'width'</span>)</div>
<div class="line">    width.text = <span class="string">'3'</span></div>
<div class="line"></div>
<div class="line">    indent(root)</div>
<div class="line"></div>
<div class="line">    tree = ET.ElementTree(root)</div>
<div class="line">    tree.write(<span class="string">'wq.xml'</span>,<span class="string">'utf-8'</span>)</div>
</pre></td></tr></table></figure>
<p><img src="/2018/08/09/Python-Sth/Screen Shot 2019-07-27 at 8.41.15 PM.png" alt="creen Shot 2019-07-27 at 8.41.15 P"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/08/08/Adversarial-AutoEncoder/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/08/Adversarial-AutoEncoder/" itemprop="url">Adversarial AutoEncoder</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-08T16:27:54-05:00">
                2018-08-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Deep-Learning/" itemprop="url" rel="index">
                    <span itemprop="name">Deep Learning</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Adversarial-Autoencoder"><a href="#Adversarial-Autoencoder" class="headerlink" title="Adversarial Autoencoder"></a>Adversarial Autoencoder</h1><p><a href="https://duvenaud.github.io/learn-discrete/slides/AdversarialAutoencoders.pdf" target="_blank" rel="noopener">ref1</a> <a href="http://closure11.com/%E5%AF%B9%E6%8A%97%E8%87%AA%E7%BC%96%E7%A0%81%E5%99%A8%EF%BC%9Aadversarial-autoencoders/" target="_blank" rel="noopener">gocha</a> <a href="https://towardsdatascience.com/a-wizards-guide-to-adversarial-autoencoders-part-2-exploring-latent-space-with-adversarial-2d53a6f8a4f9" target="_blank" rel="noopener">good one</a>  </p>
<h2 id="无监督AAE"><a href="#无监督AAE" class="headerlink" title="无监督AAE"></a>无监督AAE</h2><p>autoencoder中的encoder的输出(潜在码)并不能在某一特定空间均匀分布，而且AE 的 G 只能保证将由 x 生成的 z 还原为 x。如果我们随机生成 1 个 z，经过 AE 的 G 后往往不会得到有效的图像。</p>
<p>所以我们希望encoder的输出可以服从某一分布，这个分布可以是正态分布，均匀分布等，这样就会使encoder的输出均匀分布在给定的先验分布，使decoder学习到一个先验分布到输入数据的映射(本例中就是学习到MNIST手写体数据的分布)，那么此时只需从这个先验分布采样出 z，就能通过 G 得到有效的图像。</p>
<p>假设你正在学习一门课程，如果你的老师并没有提供任何资料，你又会如何学习这门课呢？但是考试怎么办呢，难道要自己瞎答吗？这种情况就是类似我们的encoder的输出并不服从某种特定分布，这样decoder就无法学习到一个从任意数字到图片的映射。</p>
<p>但是如果你有了一个课程指导书，你就可以在考试之前复习这本书，这样就知道了可能的考试内容。类似的，如果我们的encoder输出服从一个已知分布，那么encoder就会将潜在码覆盖整个先验分布。</p>
<h3 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h3><p><img src="/2018/08/08/Adversarial-AutoEncoder/Screen-Shot-2016-10-13-at-11.17.21-AM-690x332.png" alt="Screen-Shot-2016-10-13-at-11.17.21-AM-690x332"></p>
<p><img src="/2018/08/08/Adversarial-AutoEncoder/Screen Shot 2018-08-08 at 9.33.36 PM.png" alt="Screen Shot 2018-08-08 at 9.33.36 PM"></p>
<p><img src="/2018/08/08/Adversarial-AutoEncoder/1_nnf4UUq9Uuf2l19iCYaNfg.png" alt="1_nnf4UUq9Uuf2l19iCYaNfg"></p>
<ul>
<li>$x$是输入</li>
<li>$q(z|x)$是encoder基于输入$x$的输出</li>
<li>$z$是潜在码，同时也是一个假输入，从$q(z|x)$中采样得到</li>
<li>$z’$是采样自想要的分布，作为真实输入</li>
<li>$p(x|z)$是基于$z$的decoder输入</li>
<li>$x_$是重构图像</li>
</ul>
<p>我们的主要目的是迫使encoder的输出逼近一个先验分布（比如正态分布，gamma分布等）。我们将使用encoder$(q(z|x))$作为生成器，而判别器辨别它的输入是来自于一个先验分布$p(z)$，亦或是来自于encoder的输出$z$，decoder仍然进行图片重构的工作。</p>
<h3 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h3><p>AAE的训练分成两个部分：重构阶段和正则化阶段。</p>
<p>训练上述模型，分成两个阶段：一个是对辨别器的训练；另一个是对GAN模型的训练。</p>
<p>对于分辨器，其输入就是真假latent code，输出real概率</p>
<p>对于GAN模型，它需要配合分辨器来完成训练。encoder-decoder产生两个输出：一个是latent code，一个是image，但是我们只需要latent code作为分辨器的输入，从而完成GAN模型的训练。</p>
<h4 id="重构阶段"><a href="#重构阶段" class="headerlink" title="重构阶段"></a>重构阶段</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_DKPl7YOnX-8FJQuHAZop-g.png" alt="1_DKPl7YOnX-8FJQuHAZop-g"></p>
<p>在该阶段，我们需要训练encoder和decoder来最小化重构误差（输入图片与重构图片间的均方误差）。我们将输入传递给encoder，encoder输出一个潜在码；随后，我们将该潜在码送入decoder从而得到一张重构图像。</p>
<h4 id="正则化阶段"><a href="#正则化阶段" class="headerlink" title="正则化阶段"></a>正则化阶段</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1__pIXKcCCqJRNmIWTRymJzA.png" alt="1__pIXKcCCqJRNmIWTRymJzA"></p>
<p>在该阶段，我们训练生成器和辨别器，我们将encod的输出$z$和随机采样$z’$（来自于想要的分布）作为输入来训练辨别器，这样辨别器就会返回1如果输入是$z’$，而返回0如果输入是$z$。接下来，为了迫使encoder的输出$z$逼近我们想要的分布，我们将encoder的输出作为辨别器的输入，连接encoder和辨别器。</p>
<p><img src="/2018/08/08/Adversarial-AutoEncoder/1_DoJESN2LvxpxNVYADRJXWw.png" alt="1_DoJESN2LvxpxNVYADRJXWw"></p>
<p>我们固定辨别器的权重参数，固定输入的目标标签为1，然后我们输入一些图像到encoder，并计算辨别器的输出与目标标签间的差异（使用交叉熵损失函数），这个阶段我们只更新encoder的权重参数，这样促使encoder去学习我们想要的分布，使输出服从这个分布。</p>
<h3 id="Python实现"><a href="#Python实现" class="headerlink" title="Python实现"></a>Python实现</h3><h4 id="Encoder构造"><a href="#Encoder构造" class="headerlink" title="Encoder构造"></a>Encoder构造</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_Hud7t2vLY2JIP3SXn4WTDA.png" alt="1_Hud7t2vLY2JIP3SXn4WTDA"></p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_encoder</span><span class="params">(self)</span>:</span></div>
<div class="line">    input_img = Input(self.input)</div>
<div class="line">    h = Flatten()(input_img)</div>
<div class="line">    h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(h)</div>
<div class="line">    h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(h)</div>
<div class="line">    mean = Dense(<span class="number">2</span>)(h)</div>
<div class="line">    logvar = Dense(<span class="number">2</span>)(h)</div>
<div class="line">    z = Lambda(self.sampling, output_shape=(self.latent_dim,))([mean, logvar])</div>
<div class="line">    encoder = Model(input_img,z)</div>
<div class="line">    encoder.summary()</div>
<div class="line">    <span class="keyword">return</span> encoder</div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sampling</span><span class="params">(self, args)</span>:</span></div>
<div class="line">    z_mean, z_log_sigma = args</div>
<div class="line">    epsilon = K.random_normal(shape=(K.shape(z_mean)[<span class="number">0</span>], self.latent_dim), mean=<span class="number">0.</span>, stddev=<span class="number">1.0</span>)</div>
<div class="line">    <span class="keyword">return</span> z_mean + K.exp(z_log_sigma / <span class="number">2</span>) * epsilon</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Decoder构造"><a href="#Decoder构造" class="headerlink" title="Decoder构造"></a>Decoder构造</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_0t7JrvUqyzg7AdQGDjZkRw.png" alt="1_0t7JrvUqyzg7AdQGDjZkRw"></p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
</pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_decoder</span><span class="params">(self)</span>:</span> <span class="comment"># ok</span></div>
<div class="line">    input_code = Input((self.latent_dim,))</div>
<div class="line">    h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(input_code)</div>
<div class="line">    h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(h)</div>
<div class="line">    h = Dense(<span class="number">784</span>,activation=<span class="string">'sigmoid'</span>)(h)</div>
<div class="line">    recon_img = Reshape(self.input)(h)</div>
<div class="line">    decoder = Model(input_code,recon_img)</div>
<div class="line">    decoder.summary()</div>
<div class="line">    <span class="keyword">return</span> decoder</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="Discriminator构造"><a href="#Discriminator构造" class="headerlink" title="Discriminator构造"></a>Discriminator构造</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_Df3_l66beZqsqRe5i6lZRw.png" alt="1_Df3_l66beZqsqRe5i6lZRw"></p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
</pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_discriminator</span><span class="params">(self)</span>:</span> <span class="comment"># ok</span></div>
<div class="line">    input_code = Input((self.latent_dim,))</div>
<div class="line">    h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(input_code)</div>
<div class="line">    h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(h)</div>
<div class="line">    valid = Dense(<span class="number">1</span>)(h)</div>
<div class="line">    discriminator = Model(input_code,valid)</div>
<div class="line">    discriminator.summary()</div>
<div class="line">    <span class="keyword">return</span> discriminator</div>
</pre></td></tr></table></figure>

</div></div>
<h4 id="GAN的构造与编译"><a href="#GAN的构造与编译" class="headerlink" title="GAN的构造与编译"></a>GAN的构造与编译</h4><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
<div class="line">26</div>
<div class="line">27</div>
<div class="line">28</div>
<div class="line">29</div>
</pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">aae</span><span class="params">()</span>:</span></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div>
<div class="line">        self.input = (<span class="number">28</span>,<span class="number">28</span>,<span class="number">1</span>)</div>
<div class="line">        self.latent_dim = <span class="number">2</span></div>
<div class="line">        optimizer = Adam(lr=<span class="number">0.0002</span>,beta_1=<span class="number">0.5</span>)</div>
<div class="line"></div>
<div class="line">        <span class="comment"># Build and compile the discriminator</span></div>
<div class="line">        self.discriminator = self.make_discriminator()</div>
<div class="line">        self.discriminator.compile(optimizer=optimizer,</div>
<div class="line">                                   loss=[<span class="string">'binary_crossentropy'</span>],</div>
<div class="line">                                   metrics=[<span class="string">'accuracy'</span>])</div>
<div class="line"></div>
<div class="line">        <span class="comment"># Build the encoder / decoder</span></div>
<div class="line">        self.encoder = self.make_encoder()</div>
<div class="line">        self.decoder = self.make_decoder()</div>
<div class="line">        image = Input(self.input)</div>
<div class="line">        latent_code = self.encoder(image)</div>
<div class="line">        recon_img = self.decoder(latent_code)</div>
<div class="line"></div>
<div class="line">        <span class="comment"># for the adversarial_autoencoder model, we only train the generator</span></div>
<div class="line">        self.discriminator.trainable = <span class="keyword">False</span></div>
<div class="line">        valid = self.discriminator(latent_code)</div>
<div class="line"></div>
<div class="line">        <span class="comment"># The adversarial_autoencoder model  (stacked generator and discriminator)</span></div>
<div class="line"></div>
<div class="line">        self.adversarial_autoencoder = Model(image,[recon_img,valid])</div>
<div class="line">        self.adversarial_autoencoder.compile(loss=[<span class="string">'mae'</span>,<span class="string">'binary_crossentropy'</span>],</div>
<div class="line">                                             loss_weights=[<span class="number">0.999</span>,<span class="number">0.001</span>],</div>
<div class="line">                                             optimizer=optimizer)</div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
<div class="line">26</div>
<div class="line">27</div>
</pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span><span class="params">(self,epoches=<span class="number">1000</span>,batch_size=<span class="number">100</span>)</span>:</span></div>
<div class="line"></div>
<div class="line">    <span class="comment"># Load the dataset</span></div>
<div class="line">    (X_train, _), (_, _) = mnist.load_data()</div>
<div class="line">    <span class="comment"># Configure input</span></div>
<div class="line">    X_train = (X_train.astype(np.float32) - <span class="number">127.5</span>) / <span class="number">127.5</span> <span class="comment"># pixel between [-1,1]</span></div>
<div class="line">    X_train = np.expand_dims(X_train, axis=<span class="number">3</span>) <span class="comment"># change shape from (60000,28,28) to (60000,28,28,1)</span></div>
<div class="line">    <span class="comment"># Adversarial ground truths</span></div>
<div class="line">    valid = np.ones((batch_size, <span class="number">1</span>))</div>
<div class="line">    fake = np.zeros((batch_size, <span class="number">1</span>))</div>
<div class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">1</span>,epoches+<span class="number">1</span>):</div>
<div class="line">        <span class="comment"># Select a random half batch of images</span></div>
<div class="line">        idx = np.random.randint(<span class="number">0</span>, X_train.shape[<span class="number">0</span>], batch_size)</div>
<div class="line">        imgs = X_train[idx]</div>
<div class="line"></div>
<div class="line">        latent_fake = self.encoder.predict(imgs)</div>
<div class="line">        latent_real = np.random.normal(<span class="number">0</span>, <span class="number">1</span>, (batch_size, <span class="number">2</span>))</div>
<div class="line"></div>
<div class="line">        <span class="comment"># train the discriminator</span></div>
<div class="line">        d_loss_real = self.discriminator.train_on_batch(latent_real, valid)</div>
<div class="line">        d_loss_fake = self.discriminator.train_on_batch(latent_fake, fake)</div>
<div class="line">        d_loss = <span class="number">0.5</span> * np.add(d_loss_real, d_loss_fake)</div>
<div class="line"></div>
<div class="line">        <span class="comment"># train the generator</span></div>
<div class="line">        g_loss = self.adversarial_autoencoder.train_on_batch(imgs, [imgs, valid])</div>
<div class="line">        print(<span class="string">"%d [D loss: %f, acc: %.2f%%] [G loss: %f, mse: %f]"</span> % (</div>
<div class="line">        epoch, d_loss[<span class="number">0</span>], <span class="number">100</span> * d_loss[<span class="number">1</span>], g_loss[<span class="number">0</span>], g_loss[<span class="number">1</span>]))</div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div>
<div class="line">    model = aae()</div>
<div class="line">    model.train()</div>
</pre></td></tr></table></figure>

</div></div>
<h2 id="监督AAE"><a href="#监督AAE" class="headerlink" title="监督AAE"></a>监督AAE</h2><p><a href="https://towardsdatascience.com/a-wizards-guide-to-adversarial-autoencoders-part-3-disentanglement-of-style-and-content-89262973a4d7" target="_blank" rel="noopener">Disentanglement of style and content</a> </p>
<p>对于一个写作主题，每一个人写出来的文章都有不同的内容（content）和字体（style）。对于MNIST字体，可以发现它的所有图像都有一样的style，所以我们想要从这个数据集中学习MNIST字体的style。为了更明确content和style的区别，我们有如下图：</p>
<p><img src="/2018/08/08/Adversarial-AutoEncoder/Screen Shot 2018-08-28 at 11.39.06 AM.png" alt="Screen Shot 2018-08-28 at 11.39.06 AM"></p>
<p>每个文本都有相同的content “Autoencoder”，但是它们的字体是不一样的，现在我们想要从图片中去区分style（Myriad Pro, MV Boil,…）和content，特征分离是表征学习(<a href="http://www.cl.uni-heidelberg.de/courses/ws14/deepl/BengioETAL12.pdf" target="_blank" rel="noopener">representation learning</a>)的一个重要内容。</p>
<p>Autoencoder和Adversarial Autoencoder都是无监督学习，因为在训练过程中我们并没有世人任何label信息，但是如果利用图片的label信息则会帮助AAE去提取style信息而不受图片content的影响，这样我们的AAE就变成了一个监督模型。</p>
<h3 id="模型-1"><a href="#模型-1" class="headerlink" title="模型"></a>模型</h3><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_vGU0REkvre1DI7sFLU97_g.png" alt="1_vGU0REkvre1DI7sFLU97_g"></p>
<p>除了利用latent code作为decoder的输入，我们同时把标签<code>y</code>信息作为另一个输入，decoder利用这两个输入来生成图片。encoder学习图片的style，decoder利用该学习到的style和额外的内容信息<code>y</code>来重构输入图片</p>
<p>相比较于无监督AAE，唯一的区别就是decoder的输入：</p>
<ul>
<li>来自encoder的latent code</li>
<li>图像标签的独热表示</li>
</ul>
<h3 id="训练-1"><a href="#训练-1" class="headerlink" title="训练"></a>训练</h3><h4 id="重构阶段-1"><a href="#重构阶段-1" class="headerlink" title="重构阶段"></a>重构阶段</h4><p>我们将输入图像送入encoder得到输出latent code<code>z</code>，然后将<code>z</code>和图像标签<code>y</code>串接起来成为一个更大的输入送入decoder。我们训练AE使最小化图片重构损失</p>
<h4 id="正则化阶段-1"><a href="#正则化阶段-1" class="headerlink" title="正则化阶段"></a>正则化阶段</h4><p>与无监督    AAE一样。</p>
<h3 id="Python实现-1"><a href="#Python实现-1" class="headerlink" title="Python实现"></a>Python实现</h3><h4 id="Decoder"><a href="#Decoder" class="headerlink" title="Decoder"></a>Decoder</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_lzIl05QPdy-aEtVvh-y1LQ.png" alt="1_lzIl05QPdy-aEtVvh-y1LQ"></p>
<p>MNIST的图像总共有10类，则<code>y</code>的独热向量长度就是10，laten code的长度是2，则decoder的输入长度是（10+2）</p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
<div class="line">25</div>
<div class="line">26</div>
<div class="line">27</div>
<div class="line">28</div>
<div class="line">29</div>
<div class="line">30</div>
<div class="line">31</div>
<div class="line">32</div>
<div class="line">33</div>
<div class="line">34</div>
<div class="line">35</div>
<div class="line">36</div>
<div class="line">37</div>
<div class="line">38</div>
<div class="line">39</div>
<div class="line">40</div>
<div class="line">41</div>
<div class="line">42</div>
<div class="line">43</div>
<div class="line">44</div>
<div class="line">45</div>
<div class="line">46</div>
<div class="line">47</div>
<div class="line">48</div>
<div class="line">49</div>
<div class="line">50</div>
<div class="line">51</div>
<div class="line">52</div>
<div class="line">53</div>
<div class="line">54</div>
<div class="line">55</div>
<div class="line">56</div>
<div class="line">57</div>
<div class="line">58</div>
<div class="line">59</div>
<div class="line">60</div>
<div class="line">61</div>
<div class="line">62</div>
<div class="line">63</div>
<div class="line">64</div>
<div class="line">65</div>
<div class="line">66</div>
<div class="line">67</div>
<div class="line">68</div>
<div class="line">69</div>
<div class="line">70</div>
<div class="line">71</div>
<div class="line">72</div>
<div class="line">73</div>
<div class="line">74</div>
<div class="line">75</div>
<div class="line">76</div>
<div class="line">77</div>
<div class="line">78</div>
<div class="line">79</div>
<div class="line">80</div>
<div class="line">81</div>
<div class="line">82</div>
<div class="line">83</div>
<div class="line">84</div>
<div class="line">85</div>
<div class="line">86</div>
<div class="line">87</div>
<div class="line">88</div>
<div class="line">89</div>
<div class="line">90</div>
<div class="line">91</div>
<div class="line">92</div>
<div class="line">93</div>
<div class="line">94</div>
<div class="line">95</div>
<div class="line">96</div>
<div class="line">97</div>
<div class="line">98</div>
<div class="line">99</div>
<div class="line">100</div>
<div class="line">101</div>
<div class="line">102</div>
<div class="line">103</div>
<div class="line">104</div>
<div class="line">105</div>
<div class="line">106</div>
<div class="line">107</div>
<div class="line">108</div>
<div class="line">109</div>
<div class="line">110</div>
<div class="line">111</div>
<div class="line">112</div>
<div class="line">113</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</div>
<div class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Input, Dense, Reshape, Flatten, Dropout, multiply</div>
<div class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> BatchNormalization, Embedding, Lambda,Concatenate</div>
<div class="line"><span class="keyword">from</span> keras.layers.advanced_activations <span class="keyword">import</span> LeakyReLU</div>
<div class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential, Model</div>
<div class="line"><span class="keyword">from</span> keras.optimizers <span class="keyword">import</span> Adam</div>
<div class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</div>
<div class="line"><span class="keyword">import</span> keras</div>
<div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div>
<div class="line"><span class="keyword">import</span> os</div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line"><span class="class"><span class="keyword">class</span> <span class="title">aae</span><span class="params">()</span>:</span></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div>
<div class="line">        self.input = (<span class="number">28</span>,<span class="number">28</span>,<span class="number">1</span>)</div>
<div class="line">        self.latent_dim = <span class="number">15</span></div>
<div class="line">        self.classes = <span class="number">10</span></div>
<div class="line">        optimizer = Adam(lr=<span class="number">0.0002</span>,beta_1=<span class="number">0.5</span>)</div>
<div class="line"></div>
<div class="line">        <span class="comment"># Build and compile the discriminator</span></div>
<div class="line">        self.discriminator = self.make_discriminator()</div>
<div class="line">        self.discriminator.compile(optimizer=optimizer,</div>
<div class="line">                                   loss=[<span class="string">'binary_crossentropy'</span>],</div>
<div class="line">                                   metrics=[<span class="string">'accuracy'</span>])</div>
<div class="line"></div>
<div class="line">        <span class="comment"># Build the encoder / decoder</span></div>
<div class="line">        self.encoder = self.make_encoder()</div>
<div class="line">        self.decoder = self.make_decoder()</div>
<div class="line">        image = Input(self.input)</div>
<div class="line">        label = Input((self.classes,))</div>
<div class="line">        latent_code = self.encoder(image)</div>
<div class="line">        recon_img = self.decoder([label,latent_code])</div>
<div class="line"></div>
<div class="line">        <span class="comment"># for the adversarial_autoencoder model, we only train the generator</span></div>
<div class="line">        self.discriminator.trainable = <span class="keyword">False</span></div>
<div class="line">        valid = self.discriminator(latent_code)</div>
<div class="line"></div>
<div class="line">        <span class="comment"># The adversarial_autoencoder model  (stacked generator and discriminator)</span></div>
<div class="line"></div>
<div class="line">        self.adversarial_autoencoder = Model([image,label],[recon_img,valid])</div>
<div class="line">        self.adversarial_autoencoder.compile(loss=[<span class="string">'mse'</span>,<span class="string">'binary_crossentropy'</span>],</div>
<div class="line">                                             loss_weights=[<span class="number">0.999</span>,<span class="number">0.001</span>],</div>
<div class="line">                                             optimizer=optimizer)</div>
<div class="line"></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sampling</span><span class="params">(self, args)</span>:</span></div>
<div class="line">        z_mean, z_log_sigma = args</div>
<div class="line">        epsilon = K.random_normal(shape=(K.shape(z_mean)[<span class="number">0</span>], self.latent_dim), mean=<span class="number">0.</span>, stddev=<span class="number">1.0</span>)</div>
<div class="line">        <span class="keyword">return</span> z_mean + K.exp(z_log_sigma / <span class="number">2</span>) * epsilon</div>
<div class="line"></div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_encoder</span><span class="params">(self)</span>:</span></div>
<div class="line">        input_img = Input(self.input)</div>
<div class="line">        h = Flatten()(input_img)</div>
<div class="line">        h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(h)</div>
<div class="line">        h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(h)</div>
<div class="line">        mean = Dense(self.latent_dim)(h)</div>
<div class="line">        logvar = Dense(self.latent_dim)(h)</div>
<div class="line">        z = Lambda(self.sampling, output_shape=(self.latent_dim,))([mean, logvar])</div>
<div class="line">        encoder = Model(input_img,z)</div>
<div class="line">        encoder.summary()</div>
<div class="line">        <span class="keyword">return</span> encoder</div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_decoder</span><span class="params">(self)</span>:</span> <span class="comment"># ok</span></div>
<div class="line">        input_code = Input((self.latent_dim,))</div>
<div class="line">        input_label = Input((self.classes,))</div>
<div class="line">        combine_input = Concatenate(axis=<span class="number">-1</span>)([input_label, input_code])</div>
<div class="line">        h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(combine_input)</div>
<div class="line">        h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(h)</div>
<div class="line">        h = Dense(<span class="number">784</span>,activation=<span class="string">'sigmoid'</span>)(h)</div>
<div class="line">        recon_img = Reshape(self.input)(h)</div>
<div class="line">        decoder = Model([input_label,input_code],recon_img)</div>
<div class="line">        decoder.summary()</div>
<div class="line">        <span class="keyword">return</span> decoder</div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">make_discriminator</span><span class="params">(self)</span>:</span> <span class="comment"># ok</span></div>
<div class="line">        input_code = Input((self.latent_dim,))</div>
<div class="line">        h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(input_code)</div>
<div class="line">        h = Dense(<span class="number">1000</span>,activation=<span class="string">'relu'</span>)(h)</div>
<div class="line">        valid = Dense(<span class="number">1</span>)(h)</div>
<div class="line">        discriminator = Model(input_code,valid)</div>
<div class="line">        discriminator.summary()</div>
<div class="line">        <span class="keyword">return</span> discriminator</div>
<div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">train</span><span class="params">(self,epoches=<span class="number">1000</span>,batch_size=<span class="number">100</span>)</span>:</span></div>
<div class="line"></div>
<div class="line">        <span class="comment"># Load the dataset</span></div>
<div class="line">        (X_train, y_train), (_, _) = mnist.load_data()</div>
<div class="line">        <span class="comment"># Configure input</span></div>
<div class="line">        X_train = (X_train.astype(np.float32) - <span class="number">127.5</span>) / <span class="number">127.5</span> <span class="comment"># pixel between [-1,1]</span></div>
<div class="line">        X_train = np.expand_dims(X_train, axis=<span class="number">3</span>) <span class="comment"># change shape from (60000,28,28) to (60000,28,28,1)</span></div>
<div class="line">        y_train = y_train.reshape(<span class="number">-1</span>, <span class="number">1</span>)</div>
<div class="line">        <span class="comment"># Adversarial ground truths</span></div>
<div class="line">        valid = np.ones((batch_size, <span class="number">1</span>))</div>
<div class="line">        fake = np.zeros((batch_size, <span class="number">1</span>))</div>
<div class="line">        <span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">1</span>,epoches+<span class="number">1</span>):</div>
<div class="line">            <span class="comment"># Select a random half batch of images</span></div>
<div class="line">            idx = np.random.randint(<span class="number">0</span>, X_train.shape[<span class="number">0</span>], batch_size)</div>
<div class="line">            imgs = X_train[idx]</div>
<div class="line">            labels = y_train[idx]</div>
<div class="line">            labels = keras.utils.to_categorical(labels,self.classes)</div>
<div class="line"></div>
<div class="line">            latent_fake = self.encoder.predict(imgs)</div>
<div class="line">            latent_real = np.random.normal(<span class="number">0</span>, <span class="number">5.</span>, (batch_size, self.latent_dim))</div>
<div class="line"></div>
<div class="line">            <span class="comment"># train the discriminator</span></div>
<div class="line">            d_loss_real = self.discriminator.train_on_batch(latent_real, valid)</div>
<div class="line">            d_loss_fake = self.discriminator.train_on_batch(latent_fake, fake)</div>
<div class="line">            d_loss = <span class="number">0.5</span> * np.add(d_loss_real, d_loss_fake)</div>
<div class="line"></div>
<div class="line">            <span class="comment"># train the generator</span></div>
<div class="line">            g_loss = self.adversarial_autoencoder.train_on_batch([imgs,labels], [imgs, valid])</div>
<div class="line">            print(<span class="string">"%d [D loss: %f, acc: %.2f%%] [G loss: %f, mse: %f]"</span> % (</div>
<div class="line">            epoch, d_loss[<span class="number">0</span>], <span class="number">100</span> * d_loss[<span class="number">1</span>], g_loss[<span class="number">0</span>], g_loss[<span class="number">1</span>]))</div>
<div class="line"></div>
<div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div>
<div class="line">    model = aae()</div>
<div class="line">    model.train()</div>
</pre></td></tr></table></figure>

</div></div>
<h2 id="GAN分类器"><a href="#GAN分类器" class="headerlink" title="GAN分类器"></a>GAN分类器</h2><p><a href="https://towardsdatascience.com/a-wizards-guide-to-adversarial-autoencoders-part-4-classify-mnist-using-1000-labels-2ca08071f95" target="_blank" rel="noopener">ref</a> </p>
<p>本节我们将介绍如何利用encoder对MNIST手写体进行分类，并与传统的神经网络分类器(NN)比较，为保证实验公平性，encoder和NN使用相同的结构。</p>
<p>我们首先介绍传统的NN分类器，如下图所示，</p>
<p><img src="/2018/08/08/Adversarial-AutoEncoder/1_OPtU8py5KBpbVUZKylGDPA.png" alt="1_OPtU8py5KBpbVUZKylGDPA"></p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">

</div></div>
<p>那么我们如何将encoder改造成为一个分类器呢？实际上，encoder分类器不仅能够提升分类准确率，还可以减少数据维度，从图片中分离内容和风格，我们的模型如下：</p>
<p><img src="/2018/08/08/Adversarial-AutoEncoder/1_8RuZ8kguLuosOGoDpiSgUQ.png" alt="1_8RuZ8kguLuosOGoDpiSgUQ"></p>
<p>可以看到，我们增加了额外的discriminator（$D_{cat}$），该分类器以对抗的方式与encoder一起训练，从而迫使encoder产生10维的独热分类向量</p>
<p>在AAE的基础上对encoder作了修改，此时encoder有两个输出：latent code（z）和classification（y），由于有10个类，则y为10维向量，而z的维度由用户决定。</p>
<h4 id="图片重构阶段"><a href="#图片重构阶段" class="headerlink" title="图片重构阶段"></a>图片重构阶段</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_onLoFTa8qcFMdgm9ILKDaw.png" alt="1_onLoFTa8qcFMdgm9ILKDaw"></p>
<p>该阶段我们欲使生成的图片逼近我们的真实图片，所以我们使用MSE（mean squared error）来衡量输入图片与输出图片间的差异。</p>
<h4 id="正则化阶段-2"><a href="#正则化阶段-2" class="headerlink" title="正则化阶段"></a>正则化阶段</h4><p>该阶段由两个部分组成：$D_{cat}$和$D_{gauss}$的训练</p>
<p><img src="/2018/08/08/Adversarial-AutoEncoder/1_HKvMbwaXmDAg12GjgOC39Q.png" alt="1_HKvMbwaXmDAg12GjgOC39Q"></p>
<p>我们首先训练discriminator <strong>D_cat</strong>来辨别真实的分类标签$y^{‘}$和encoder生成的分类标签$y$。为此，我们将图片作为encoder的输入取产生$y$和$z$，然后将生成的$y$和真实的$y^{‘}$用于discriminator的训练。最后，我们固定分辨器的参数，并设置目标为1，训练encoder来欺骗分辨器。</p>
<p><img src="/2018/08/08/Adversarial-AutoEncoder/1_qMGBvI2q14lNKGMrx_gMnw.png" alt="1_qMGBvI2q14lNKGMrx_gMnw"></p>
<p>同样的，为了生成具有高斯分布的latent code（z），我们还需要训练分辨器$D_{gauss}$。</p>
<h4 id="半监督分类器阶段"><a href="#半监督分类器阶段" class="headerlink" title="半监督分类器阶段"></a>半监督分类器阶段</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_ZS7wa7H8tHUDWkuqGZJT2Q.png" alt="1_ZS7wa7H8tHUDWkuqGZJT2Q"></p>
<p>最终我们训练encoder来对手写体数字进行分类，目的是最小化生成的分类标签与真实的标签的交叉熵。</p>
<h3 id="Python实现-2"><a href="#Python实现-2" class="headerlink" title="Python实现"></a>Python实现</h3><h4 id="Encoder"><a href="#Encoder" class="headerlink" title="Encoder"></a>Encoder</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_qufKKgKUPUGvYKWsmqiv5w.png" alt="1_qufKKgKUPUGvYKWsmqiv5w"></p>
<p>在原始encoder的基础上，只需要需改encoder的输出维度，增加对分类标签的输出</p>
<h4 id="Decoder-1"><a href="#Decoder-1" class="headerlink" title="Decoder"></a>Decoder</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_nRF013A75pCdlgOT48w0MA.png" alt="1_nRF013A75pCdlgOT48w0MA"></p>
<h4 id="Discriminator"><a href="#Discriminator" class="headerlink" title="Discriminator"></a>Discriminator</h4><p><img src="/2018/08/08/Adversarial-AutoEncoder/1_jzDB_IJhVL74Zb0NU03Uew.png" alt="1_jzDB_IJhVL74Zb0NU03Uew"></p>
<p>我们需要两个分辨器，它们除了输入维度不同，其他是一样的</p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">

</div></div>
<h2 id="CVAE-GAN"><a href="#CVAE-GAN" class="headerlink" title="CVAE-GAN"></a>CVAE-GAN</h2><p><a href="https://www.jiqizhixin.com/articles/2018-06-12-5" target="_blank" rel="noopener">REF1</a> </p>
<p>《 CVAE-GAN: Fine-Grained Image Generation through Asymmetric Training》</p>
<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold">

</div></div>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Qing Wong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">88</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">65</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qing Wong</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
