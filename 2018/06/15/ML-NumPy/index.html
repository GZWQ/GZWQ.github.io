<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Python," />










<meta name="description" content="NumPy 是一个 Python 包。 它代表 “Numeric Python”。 它是一个由多维数组对象和用于处理数组的例程集合组成的库。">
<meta name="keywords" content="Python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python - NumPy">
<meta property="og:url" content="http://yoursite.com/2018/06/15/ML-NumPy/index.html">
<meta property="og:site_name" content="Blog of Qing">
<meta property="og:description" content="NumPy 是一个 Python 包。 它代表 “Numeric Python”。 它是一个由多维数组对象和用于处理数组的例程集合组成的库。">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-15%20at%204.03.50%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-15%20at%204.14.21%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-17%20at%2010.23.27%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-17%20at%2010.27.52%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-17%20at%2010.31.34%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-18%20at%203.53.25%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-18%20at%204.01.08%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-18%20at%204.11.26%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-19%20at%203.32.30%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-19%20at%203.43.35%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-19%20at%203.50.55%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-20%20at%209.10.44%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-20%20at%203.24.42%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-20%20at%203.34.40%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-21%20at%209.31.30%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-21%20at%209.56.48%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-24%20at%208.37.20%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-24%20at%208.38.05%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-24%20at%208.42.56%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-25%20at%2012.11.39%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-26%20at%209.35.31%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-26%20at%209.50.26%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-26%20at%203.40.41%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-26%20at%203.49.39%20PM.png">
<meta property="og:updated_time" content="2019-04-01T02:12:50.864Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python - NumPy">
<meta name="twitter:description" content="NumPy 是一个 Python 包。 它代表 “Numeric Python”。 它是一个由多维数组对象和用于处理数组的例程集合组成的库。">
<meta name="twitter:image" content="http://yoursite.com/2018/06/15/ML-NumPy/Screen%20Shot%202018-06-15%20at%204.03.50%20PM.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/06/15/ML-NumPy/"/>





  <title>Python - NumPy | Blog of Qing</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Blog of Qing</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/15/ML-NumPy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Python - NumPy</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-15T15:57:23-05:00">
                2018-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>NumPy 是一个 Python 包。 它代表 “Numeric Python”。 它是一个由多维数组对象和用于处理数组的例程集合组成的库。</p>
<a id="more"></a>
<h1 id="混淆速记"><a href="#混淆速记" class="headerlink" title="混淆速记"></a>混淆速记</h1><h2 id="np-max-np-maximum"><a href="#np-max-np-maximum" class="headerlink" title="np.max, np.maximum"></a>np.max, np.maximum</h2><p>np.maximum: compare two arrays and returns a new array containing the element-wise maxima</p>
<p>np.max: return the maximum of an array or maximum along an axis.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">-1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">-5</span>,<span class="number">6</span>]])</div>
<div class="line">print(np.max(a,axis=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [3 6]</span></div>
<div class="line">print(np.maximum(<span class="number">0</span>,a))</div>
<div class="line"><span class="comment"># [[0,2,3],[4,0,6]]</span></div>
</pre></td></tr></table></figure>
<h2 id="np-random-normal-np-ranodm-normn"><a href="#np-random-normal-np-ranodm-normn" class="headerlink" title="np.random.normal, np.ranodm.normn"></a>np.random.normal, np.ranodm.normn</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.random.randn(d0, d1, ..., dn)</div>
</pre></td></tr></table></figure>
<p>Return a sample (or samples) from the “<strong>standard normal</strong>” distribution.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.random.normal(loc=<span class="number">0.0</span>, scale=<span class="number">1.0</span>, size=<span class="keyword">None</span>)</div>
</pre></td></tr></table></figure>
<p>Draw random samples from a <strong>normal (Gaussian) distribution</strong>.</p>
<h2 id="dot，outer，"><a href="#dot，outer，" class="headerlink" title="dot，outer，*"></a>dot，outer，*</h2><p>dot：矩阵乘法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</div>
<div class="line"><span class="comment"># [[1 2]</span></div>
<div class="line"><span class="comment">#  [3 4]]</span></div>
<div class="line">b = np.array([<span class="number">5</span>,<span class="number">6</span>])</div>
<div class="line"><span class="comment"># [5 6] shape = (2,1)</span></div>
<div class="line">print(np.dot(a,b))</div>
<div class="line"><span class="comment"># [17 39]</span></div>
</pre></td></tr></table></figure>
<p>outer：接受两个数组a和b，分别将a和b展开为一维数组，两个for循环遍历a和b，循环内做乘法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
</pre></td><td class="code"><pre><div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</div>
<div class="line"><span class="comment"># [[1 2]</span></div>
<div class="line"><span class="comment">#  [3 4]]</span></div>
<div class="line">b = np.array([<span class="number">5</span>,<span class="number">6</span>])</div>
<div class="line"><span class="comment"># [5 6] shape = (2,1)</span></div>
<div class="line">print(np.outer(a,b))</div>
<div class="line"><span class="comment"># [[ 5  6]</span></div>
<div class="line"><span class="comment">#  [10 12]</span></div>
<div class="line"><span class="comment">#  [15 18]</span></div>
<div class="line"><span class="comment">#  [20 24]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#####等价于#####</span></div>
<div class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</div>
<div class="line">b = [<span class="number">5</span>,<span class="number">6</span>]</div>
<div class="line">result = []</div>
<div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</div>
<div class="line">    t = []</div>
<div class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> b:</div>
<div class="line">        t.append(i*j)</div>
<div class="line">    result.append(t)</div>
<div class="line">print(result)</div>
<div class="line"><span class="comment"># [[5, 6], [10, 12], [15, 18], [20, 24]]</span></div>
</pre></td></tr></table></figure>
<p>*：对应元素相乘，要求形状相同。</p>
<h1 id="Ndarray对象"><a href="#Ndarray对象" class="headerlink" title="Ndarray对象"></a>Ndarray对象</h1><p>NumPy 中定义的最重要的对象是称为 <code>ndarray</code> 的 N 维数组类型。 它描述相同类型的元素集合。 可以使用基于零的索引访问集合中的项目。</p>
<p><code>ndarray</code>中的每个元素在内存中使用相同大小的块。 <code>ndarray</code>中的每个元素是数据类型对象的对象(称为 <code>dtype</code>)。</p>
<p> 基本的<code>ndarray</code>是使用 NumPy 中的数组函数创建的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.array(object, dtype = <span class="keyword">None</span>, copy = <span class="keyword">True</span>, order = <span class="keyword">None</span>, subok = <span class="keyword">False</span>, ndmin = <span class="number">0</span>)</div>
</pre></td></tr></table></figure>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-15 at 4.03.50 PM.png" alt="Screen Shot 2018-06-15 at 4.03.50 PM"></p>
<h2 id="一维数组"><a href="#一维数组" class="headerlink" title="一维数组"></a>一维数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </div>
<div class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])  </div>
<div class="line"><span class="keyword">print</span> a </div>
<div class="line"><span class="comment">#[1, 2, 3]</span></div>
</pre></td></tr></table></figure>
<h2 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </div>
<div class="line">a = np.array([[<span class="number">1</span>,  <span class="number">2</span>],  [<span class="number">3</span>,  <span class="number">4</span>]])  </div>
<div class="line"><span class="keyword">print</span> a</div>
<div class="line"><span class="comment"># [[1, 2] </span></div>
<div class="line"><span class="comment"># [3, 4]]</span></div>
</pre></td></tr></table></figure>
<h2 id="数组属性"><a href="#数组属性" class="headerlink" title="数组属性"></a>数组属性</h2><h3 id="ndarray-shape"><a href="#ndarray-shape" class="headerlink" title="ndarray.shape"></a>ndarray.shape</h3><p>这一数组属性返回一个包含数组维度的元组，它也可以用于调整数组大小。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div>
<div class="line">print(a.shape)</div>
<div class="line"><span class="comment"># (2, 3)</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div>
<div class="line">a.shape=(<span class="number">3</span>,<span class="number">2</span>) <span class="comment"># 调整数组大小 </span></div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[1 2]</span></div>
<div class="line"><span class="comment">#  [3 4]</span></div>
<div class="line"><span class="comment">#  [5 6]]</span></div>
</pre></td></tr></table></figure>
<p>NumPy 也提供了<code>reshape</code>函数来调整数组大小。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div>
<div class="line">b = a.reshape(<span class="number">3</span>,<span class="number">2</span>)</div>
<div class="line"><span class="keyword">print</span> (b)</div>
<div class="line"><span class="comment"># # [[1 2]</span></div>
<div class="line"><span class="comment"># #  [3 4]</span></div>
<div class="line"><span class="comment"># #  [5 6]]</span></div>
</pre></td></tr></table></figure>
<h1 id="数组创建"><a href="#数组创建" class="headerlink" title="数组创建"></a>数组创建</h1><h2 id="numpy-empty"><a href="#numpy-empty" class="headerlink" title="numpy.empty()"></a>numpy.empty()</h2><p>它创建指定形状和<code>dtype</code>的未初始化数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.empty(shape, dtype = float, order = <span class="string">'C'</span>)</div>
</pre></td></tr></table></figure>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-15 at 4.14.21 PM.png" alt="Screen Shot 2018-06-15 at 4.14.21 PM"></p>
<blockquote>
<p>shape参数以”( )”或者“[ ]”传递整数元组</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.empty([<span class="number">3</span>,<span class="number">2</span>], dtype =  int)</div>
<div class="line"><span class="keyword">print</span> (x)</div>
<div class="line"><span class="comment"># [[-9223372036854775808  1152930269942935736]</span></div>
<div class="line"><span class="comment">#  [ 3401169227572248579  7795500255900756322]</span></div>
<div class="line"><span class="comment">#  [          4298072681      844429423207176]]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>数组元素为随机值，因为它们未初始化。</p>
</blockquote>
<h2 id="numpy-zeros"><a href="#numpy-zeros" class="headerlink" title="numpy.zeros()"></a>numpy.zeros()</h2><p>返回特定大小，以 0 填充的新数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.zeros(shape, dtype = float, order = <span class="string">'C'</span>)</div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment"># 含有 5 个 0 的数组，默认类型为 float  </span></div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </div>
<div class="line">x = np.zeros(<span class="number">5</span>)  </div>
<div class="line"><span class="keyword">print</span> (x)</div>
<div class="line"><span class="comment"># [0. 0. 0. 0. 0.]</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.zeros((<span class="number">5</span>,), dtype = np.int)</div>
<div class="line"><span class="keyword">print</span> (x)</div>
<div class="line"><span class="comment"># [0 0 0 0 0]</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.zeros((<span class="number">5</span>,<span class="number">2</span>), dtype = np.int)</div>
<div class="line"><span class="keyword">print</span> (x)</div>
<div class="line"><span class="comment"># [[0 0]</span></div>
<div class="line"><span class="comment">#  [0 0]</span></div>
<div class="line"><span class="comment">#  [0 0]</span></div>
<div class="line"><span class="comment">#  [0 0]</span></div>
<div class="line"><span class="comment">#  [0 0]]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-ones"><a href="#numpy-ones" class="headerlink" title="numpy.ones()"></a>numpy.ones()</h2><p>返回特定大小，以 1 填充的新数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.ones(<span class="number">5</span>)</div>
<div class="line">print(x)</div>
<div class="line"><span class="comment"># [1. 1. 1. 1. 1.]</span></div>
<div class="line"></div>
<div class="line">x = np.ones([<span class="number">2</span>,<span class="number">2</span>], dtype =  int)</div>
<div class="line">print(x)</div>
<div class="line"><span class="comment"># [[1 1]</span></div>
<div class="line"><span class="comment">#  [1 1]]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-asarray"><a href="#numpy-asarray" class="headerlink" title="numpy.asarray()"></a>numpy.asarray()</h2><p>此函数类似于<code>numpy.array</code>，除了它有较少的参数。 这个例程对于将 Python 序列转换为<code>ndarray</code>非常有用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.asarray(a, dtype = <span class="keyword">None</span>, order = <span class="keyword">None</span>)</div>
</pre></td></tr></table></figure>
<blockquote>
<p><code>a</code> 任意形式的输入参数，比如列表、列表的元组、元组、元组的元组、元组的列表</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment"># 将列表转换为 ndarray </span></div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </div>
<div class="line"></div>
<div class="line">x =  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] </div>
<div class="line">a = np.asarray(x)  </div>
<div class="line"><span class="keyword">print</span> (a)</div>
<div class="line"><span class="comment"># [1 2 3]</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment"># 设置了 dtype</span></div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">x =  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</div>
<div class="line">a = np.asarray(x, dtype =  float)</div>
<div class="line"><span class="keyword">print</span> (a)</div>
<div class="line"><span class="comment"># [1. 2. 3.]</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment"># 来自元组的 ndarray</span></div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">x =  (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</div>
<div class="line">a = np.asarray(x)</div>
<div class="line"><span class="keyword">print</span> (a)</div>
<div class="line"><span class="comment"># [1 2 3]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-fromiter"><a href="#numpy-fromiter" class="headerlink" title="numpy.fromiter()"></a>numpy.fromiter()</h2><p>此函数从任何可迭代对象构建一个<code>ndarray</code>对象，返回一个新的一维数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.fromiter(iterable, dtype, count = <span class="number">-1</span>)</div>
</pre></td></tr></table></figure>
<p>以下示例展示了如何使用内置的<code>range()</code>函数返回列表对象。 此列表的迭代器用于形成<code>ndarray</code>对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment"># 使用 range 函数创建列表对象  </span></div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </div>
<div class="line">list = range(<span class="number">5</span>)  </div>
<div class="line"><span class="keyword">print</span> (list)</div>
<div class="line"><span class="comment"># range(0, 5)</span></div>
<div class="line"></div>
<div class="line">it = iter(list)</div>
<div class="line"><span class="comment"># 使用迭代器创建 ndarray</span></div>
<div class="line">x = np.fromiter(it, dtype =  float)</div>
<div class="line">print(x)</div>
<div class="line"><span class="comment"># [0. 1. 2. 3. 4.]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-arange"><a href="#numpy-arange" class="headerlink" title="numpy.arange()"></a>numpy.arange()</h2><p>这个函数返回<code>ndarray</code>对象，包含给定范围内的等间隔值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.arange(start, stop, step, dtype)</div>
</pre></td></tr></table></figure>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-17 at 10.23.27 AM.png" alt="Screen Shot 2018-06-17 at 10.23.27 AM"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.arange(<span class="number">5</span>)  </div>
<div class="line"><span class="keyword">print</span> (x)</div>
<div class="line"><span class="comment"># [0 1 2 3 4]</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="comment"># 设置了 dtype</span></div>
<div class="line">x = np.arange(<span class="number">5</span>, dtype =  float)  </div>
<div class="line"><span class="keyword">print</span> (x)</div>
<div class="line"><span class="comment"># [0.  1.  2.  3.  4.]</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment"># 设置了起始值和终止值参数  </span></div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.arange(<span class="number">10</span>,<span class="number">20</span>,<span class="number">2</span>)  </div>
<div class="line"><span class="keyword">print</span> (x)</div>
<div class="line"><span class="comment"># [10  12  14  16  18]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-linspace"><a href="#numpy-linspace" class="headerlink" title="numpy.linspace"></a>numpy.linspace</h2><p>此函数类似于<code>arange()</code>函数。 在此函数中，指定了范围之间的均匀间隔数量，而不是步长。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.linspace(start, stop, num, endpoint, retstep, dtype)</div>
</pre></td></tr></table></figure>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-17 at 10.27.52 AM.png" alt="Screen Shot 2018-06-17 at 10.27.52 AM"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.linspace(<span class="number">10</span>,<span class="number">20</span>,<span class="number">5</span>)</div>
<div class="line"><span class="keyword">print</span> (x)</div>
<div class="line"><span class="comment"># [10.  12.5 15.  17.5 20. ]</span></div>
<div class="line"></div>
<div class="line">x = np.linspace(<span class="number">10</span>,<span class="number">20</span>,  <span class="number">5</span>, endpoint =  <span class="keyword">False</span>)  </div>
<div class="line"><span class="comment"># [10.   12.   14.   16.   18.]</span></div>
<div class="line"></div>
<div class="line">x = np.linspace(<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>, retstep =  <span class="keyword">True</span>)</div>
<div class="line"><span class="comment"># (array([ 1.  ,  1.25,  1.5 ,  1.75,  2.  ]), 0.25)</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-logspace"><a href="#numpy-logspace" class="headerlink" title="numpy.logspace()"></a>numpy.logspace()</h2><p>此函数返回一个<code>ndarray</code>对象，其中包含在对数刻度上均匀分布的数字。 刻度的开始和结束端点是某个底数的幂，通常为 10。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.logscale(start, stop, num, endpoint, base, dtype)</div>
</pre></td></tr></table></figure>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-17 at 10.31.34 AM.png" alt="Screen Shot 2018-06-17 at 10.31.34 AM"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="comment"># 默认底数是 10</span></div>
<div class="line">a = np.logspace(<span class="number">1.0</span>,  <span class="number">2.0</span>, num =  <span class="number">10</span>)</div>
<div class="line"><span class="keyword">print</span> (a)</div>
<div class="line"><span class="comment"># [ 10.          12.91549665  16.68100537  21.5443469   27.82559402</span></div>
<div class="line"><span class="comment">#   35.93813664  46.41588834  59.94842503  77.42636827 100.        ]</span></div>
<div class="line"></div>
<div class="line">a = np.logspace(<span class="number">1</span>,<span class="number">10</span>,num =  <span class="number">10</span>,  base  =  <span class="number">2</span>)  </div>
<div class="line"><span class="keyword">print</span> (a)</div>
<div class="line"><span class="comment"># [   2.    4.    8.   16.   32.   64.  128.  256.  512. 1024.]</span></div>
</pre></td></tr></table></figure>
<h1 id="切片和索引"><a href="#切片和索引" class="headerlink" title="切片和索引"></a>切片和索引</h1><h2 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h2><p><code>ndarray</code>对象的内容可以通过索引或切片来访问和修改, <code>ndarray</code>对象中的元素遵循基于零的索引。 有三种可用的索引方法类型： <strong>字段访问，基本切片</strong>和<strong>高级索引</strong>。</p>
<p>基本切片是 Python 中基本切片概念到 n 维的扩展。 通过将<code>start</code>，<code>stop</code>和<code>step</code>参数提供给内置的<code>slice</code>函数来构造一个 Python <code>slice</code>对象。 此<code>slice</code>对象被传递给数组来提取数组的一部分。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.arange(<span class="number">10</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [0 1 2 3 4 5 6 7 8 9]</span></div>
<div class="line">s = slice(<span class="number">2</span>,<span class="number">7</span>,<span class="number">2</span>)</div>
<div class="line"><span class="keyword">print</span> (a[s])</div>
<div class="line"><span class="comment"># [2 4 6]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>在上面的例子中，<code>ndarray</code>对象由<code>arange()</code>函数创建。 然后，分别用起始，终止和步长值<code>2</code>，<code>7</code>和<code>2</code>定义切片对象。 当这个切片对象传递给<code>ndarray</code>时，会对它的一部分进行切片，从索引<code>2</code>到<code>7</code>，步长为<code>2</code>。</p>
</blockquote>
<p>通过将由冒号分隔的切片参数(<code>start:stop:step</code>)直接提供给<code>ndarray</code>对象，也可以获得相同的结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.arange(<span class="number">10</span>)</div>
<div class="line">b = a[<span class="number">2</span>:<span class="number">7</span>:<span class="number">2</span>]</div>
<div class="line"><span class="keyword">print</span> (b)</div>
<div class="line"><span class="comment"># [2 4 6]</span></div>
</pre></td></tr></table></figure>
<p>如果只输入一个参数，则将返回与索引对应的单个项目。 如果使用<code>a:</code>，则从该索引向后的所有项目将被提取。 如果使用两个参数(以<code>:</code>分隔)，则对两个索引(不包括停止索引)之间的元素以默认步骤进行切片。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment"># 对单个元素进行切片  </span></div>
<div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.arange(<span class="number">10</span>)</div>
<div class="line">b = a[<span class="number">5</span>]  </div>
<div class="line"><span class="keyword">print</span> (b)</div>
<div class="line"><span class="comment"># 5</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 对始于索引的元素进行切片</span></div>
<div class="line">a = np.arange(<span class="number">10</span>)</div>
<div class="line"><span class="keyword">print</span> (a[<span class="number">2</span>:])</div>
<div class="line"><span class="comment"># [2 3 4 5 6 7 8 9]</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 对索引之间的元素进行切片</span></div>
<div class="line">a = np.arange(<span class="number">10</span>)</div>
<div class="line"><span class="keyword">print</span> (a[<span class="number">2</span>:<span class="number">5</span>])</div>
<div class="line"><span class="comment"># [2  3  4]</span></div>
</pre></td></tr></table></figure>
<p>上面的描述也可用于多维<code>ndarray</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </div>
<div class="line"><span class="keyword">print</span> (a)</div>
<div class="line"><span class="comment"># [[1 2 3]</span></div>
<div class="line"><span class="comment">#  [3 4 5]</span></div>
<div class="line"><span class="comment">#  [4 5 6]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 对始于索引的元素进行切片</span></div>
<div class="line"><span class="keyword">print</span> (a[<span class="number">1</span>:])</div>
<div class="line"><span class="comment"># [[3 4 5]</span></div>
<div class="line"><span class="comment">#  [4 5 6]]</span></div>
</pre></td></tr></table></figure>
<p>切片还可以包括省略号(<code>...</code>)，来使选择元组的长度与数组的维度相同。 如果在行位置使用省略号，它将返回包含行中元素的<code>ndarray</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
<div class="line">24</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])  </div>
<div class="line"><span class="keyword">print</span> (a)</div>
<div class="line"><span class="comment"># [[1 2 3]</span></div>
<div class="line"><span class="comment">#  [3 4 5]</span></div>
<div class="line"><span class="comment">#  [4 5 6]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 这会返回第二列元素的数组：</span></div>
<div class="line"><span class="keyword">print</span> (<span class="string">'第二列的元素是：'</span>)</div>
<div class="line"><span class="keyword">print</span> (a[...,<span class="number">1</span>])</div>
<div class="line"><span class="comment"># [2 4 5]</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment"># 现在我们从第二行切片所有元素：</span></div>
<div class="line"><span class="keyword">print</span>  (<span class="string">'第二行的元素是：'</span> )</div>
<div class="line"><span class="keyword">print</span> (a[<span class="number">1</span>,...])</div>
<div class="line"><span class="comment"># [3 4 5]</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 现在我们从第二列向后切片所有元素：</span></div>
<div class="line"><span class="keyword">print</span>  (<span class="string">'第二列及其剩余元素是：'</span> )</div>
<div class="line"><span class="keyword">print</span> (a[...,<span class="number">1</span>:])</div>
<div class="line"><span class="comment"># [[2 3]</span></div>
<div class="line"><span class="comment">#  [4 5]</span></div>
<div class="line"><span class="comment">#  [5 6]]</span></div>
</pre></td></tr></table></figure>
<h2 id="高级索引"><a href="#高级索引" class="headerlink" title="高级索引"></a>高级索引</h2><p>高级索引始终返回数据的副本。 与此相反，切片只提供了一个视图。</p>
<p>有两种类型的高级索引：整数和布尔值。</p>
<h2 id="整数索引"><a href="#整数索引" class="headerlink" title="整数索引"></a>整数索引</h2><p>这种机制有助于基于 N 维索引来获取数组中任意元素。 每个整数数组表示该维度的下标值。 当索引的元素个数就是目标<code>ndarray</code>的维度时，会变得相当直接。</p>
<p>以下示例获取了<code>ndarray</code>对象中每一行指定列的一个元素。 因此，行索引包含所有行号，列索引指定要选择的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">x = np.array([[<span class="number">1</span>,  <span class="number">2</span>],  [<span class="number">3</span>,  <span class="number">4</span>],  [<span class="number">5</span>,  <span class="number">6</span>]])</div>
<div class="line">y = x[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>],  [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>]]</div>
<div class="line"><span class="keyword">print</span> (y)</div>
<div class="line"><span class="comment"># [1 4 5]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>该结果包括数组中<code>(0,0)</code>，<code>(1,1)</code>和<code>(2,0)</code>位置处的元素。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.array([[  <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],[  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],[  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],[  <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>]])</div>
<div class="line">print(x)</div>
<div class="line"><span class="comment"># [[ 0  1  2]</span></div>
<div class="line"><span class="comment">#  [ 3  4  5]</span></div>
<div class="line"><span class="comment">#  [ 6  7  8]</span></div>
<div class="line"><span class="comment">#  [ 9 10 11]]</span></div>
<div class="line">rows = np.array([[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">3</span>]])</div>
<div class="line">cols = np.array([[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">2</span>]])</div>
<div class="line">z = [rows,cols]</div>
<div class="line">print(z)</div>
<div class="line"><span class="comment"># [array([[0, 0],[3, 3]]),</span></div>
<div class="line"><span class="comment">#  array([[0, 2],[0, 2]])]</span></div>
<div class="line">y = x[rows,cols]</div>
<div class="line">print(y)</div>
<div class="line"><span class="comment"># [[ 0  2]</span></div>
<div class="line"><span class="comment">#  [ 9 11]]</span></div>
<div class="line">w = x[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">2</span>]]</div>
<div class="line">print(w)</div>
<div class="line"><span class="comment"># [ 0  2  9 11]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>示例获取了 4X3 数组中的每个角处的元素。 行索引是<code>[0,0]</code>和<code>[3,3]</code>，而列索引是<code>[0,2]</code>和<code>[0,2]</code>。</p>
</blockquote>
<p>高级和基本索引可以通过使用切片<code>:</code>或省略号<code>...</code>与索引数组组合。 以下示例使用<code>slice</code>作为列索引和高级索引。 当切片用于两者时，结果是相同的。 但高级索引会导致复制，并且可能有不同的内存布局。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.array([[  <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],[  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],[  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],[  <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>]])</div>
<div class="line">print(x)</div>
<div class="line"><span class="comment"># [[ 0  1  2]</span></div>
<div class="line"><span class="comment">#  [ 3  4  5]</span></div>
<div class="line"><span class="comment">#  [ 6  7  8]</span></div>
<div class="line"><span class="comment">#  [ 9 10 11]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 切片</span></div>
<div class="line">z = x[<span class="number">1</span>:<span class="number">4</span>,<span class="number">1</span>:<span class="number">3</span>]</div>
<div class="line">print(z)</div>
<div class="line"><span class="comment"># [[ 4  5]</span></div>
<div class="line"><span class="comment">#  [ 7  8]</span></div>
<div class="line"><span class="comment">#  [10 11]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 对列使用高级索引</span></div>
<div class="line">y = x[<span class="number">1</span>:<span class="number">4</span>,[<span class="number">1</span>,<span class="number">2</span>]]</div>
<div class="line">print(y)</div>
<div class="line"><span class="comment"># [[ 4  5]</span></div>
<div class="line"><span class="comment">#  [ 7  8]</span></div>
<div class="line"><span class="comment">#  [10 11]]</span></div>
</pre></td></tr></table></figure>
<h2 id="布尔索引"><a href="#布尔索引" class="headerlink" title="布尔索引"></a>布尔索引</h2><p>当结果对象是布尔运算(例如比较运算符)的结果时，将使用此类型的高级索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.array([[  <span class="number">0</span>,  <span class="number">1</span>,  <span class="number">2</span>],[  <span class="number">3</span>,  <span class="number">4</span>,  <span class="number">5</span>],[  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>],[  <span class="number">9</span>,  <span class="number">10</span>,  <span class="number">11</span>]])</div>
<div class="line">print(x)</div>
<div class="line"><span class="comment"># [[ 0  1  2]</span></div>
<div class="line"><span class="comment">#  [ 3  4  5]</span></div>
<div class="line"><span class="comment">#  [ 6  7  8]</span></div>
<div class="line"><span class="comment">#  [ 9 10 11]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 现在我们会打印出大于 5 的元素</span></div>
<div class="line"><span class="keyword">print</span>  (<span class="string">'大于 5 的元素是：'</span>  )</div>
<div class="line"><span class="keyword">print</span> (x[x &gt;  <span class="number">5</span>])</div>
<div class="line"><span class="comment"># 大于 5 的元素是：</span></div>
<div class="line"><span class="comment"># [ 6  7  8  9 10 11]</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([np.nan,  <span class="number">1</span>,<span class="number">2</span>,np.nan,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</div>
<div class="line"><span class="keyword">print</span> (a[~np.isnan(a)])</div>
<div class="line"><span class="comment"># [1. 2. 3. 4. 5.]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>这个例子使用了<code>~</code>(取补运算符)来过滤<code>NaN</code>。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">1</span>,  <span class="number">2</span>+<span class="number">6j</span>,  <span class="number">5</span>,  <span class="number">3.5</span>+<span class="number">5j</span>])</div>
<div class="line"><span class="keyword">print</span> (a[np.iscomplex(a)])</div>
<div class="line"><span class="comment"># [2. +6.j 3.5+5.j]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>示例显示如何从数组中过滤掉非复数元素。</p>
</blockquote>
<h1 id="NumPy广播"><a href="#NumPy广播" class="headerlink" title="NumPy广播"></a>NumPy广播</h1><p><strong>广播</strong>是指 NumPy 在算术运算期间处理不同形状的数组的能力。 对数组的算术运算通常在相应的元素上进行。 如果两个阵列具有完全相同的形状，则这些操作被无缝执行。</p>
<p>如果两个数组的维数不相同，则元素到元素的操作是不可能的。 然而，在 NumPy 中仍然可以对形状不相似的数组进行操作，因为它拥有广播功能。 较小的数组会<strong>广播</strong>到较大数组的大小，以便使它们的形状可兼容。</p>
<h2 id="Scalar-and-One-Dimensional-Array"><a href="#Scalar-and-One-Dimensional-Array" class="headerlink" title="Scalar and One-Dimensional Array"></a>Scalar and One-Dimensional Array</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div>
<div class="line">b = <span class="number">2</span></div>
<div class="line">c = a+b</div>
<div class="line"><span class="comment"># c = [1+2,2+2,3+2]=[3,4,5]</span></div>
</pre></td></tr></table></figure>
<h2 id="Scalar-and-Two-Dimensional-Array"><a href="#Scalar-and-Two-Dimensional-Array" class="headerlink" title="Scalar and Two-Dimensional Array"></a>Scalar and Two-Dimensional Array</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div>
<div class="line">b = <span class="number">2</span></div>
<div class="line">c = a+b</div>
<div class="line"><span class="comment"># [[1+2,2+2,3+2],[4+2,5+2,6+2]]=[[3,4,5],[6,7,8]]</span></div>
</pre></td></tr></table></figure>
<h2 id="One-Dimensional-and-Two-Dimensional-Arrays"><a href="#One-Dimensional-and-Two-Dimensional-Arrays" class="headerlink" title="One-Dimensional and Two-Dimensional Arrays"></a>One-Dimensional and Two-Dimensional Arrays</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div>
<div class="line">b = np.array([<span class="number">-1</span>,<span class="number">-2</span>,<span class="number">-3</span>])</div>
<div class="line">c = a+b</div>
<div class="line"><span class="comment"># [[0,0,0],[3,3,3]]</span></div>
</pre></td></tr></table></figure>
<h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>Element-wise operations on arrays are only valid when the arrays’ shapes are either equal or compatible. The equal shapes case is trivial - this is the stretched array from the example above. What does “compatible” mean, though?</p>
<p>To determine if two shapes are compatible, Numpy compares their dimensions, starting with the trailing ones and working its way backwards. <strong>If two dimensions are equal, or if one of them equals 1, the comparison continues.</strong> Otherwise, you’ll see a <code>ValueError</code> raised (saying something like “operands could not be broadcast together with shapes …”). When one of the shapes runs out of dimensions (because it has less dimensions than the other shape), Numpy will use 1 in the comparison process until the other shape’s dimensions run out as well. Once Numpy determines that two shapes are compatible, the shape of the result is simply the maximum of the two shapes’ sizes in each dimension.</p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>The definition above is precise and complete; to get a feel for it, we’ll need a few examples.</p>
<p>I’m using the Numpy convention of describing shapes as tuples. <code>macros</code> is a 4-by-3 array, meaning that it has 4 rows with 3 columns each, or 4x3. The Numpy way of describing the shape of <code>macros</code> is <code>(4, 3)</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">In [<span class="number">80</span>]: macros.shape</div>
<div class="line">Out[<span class="number">80</span>]: (<span class="number">4</span>, <span class="number">3</span>)</div>
</pre></td></tr></table></figure>
<p>When we computed the caloric table using broadcasting, what we did was an operation between <code>macros</code>- a <code>(4, 3)</code> array, and <code>cal_per_macro</code>, a <code>(3,)</code> array <a href="https://eli.thegreenplace.net/2015/broadcasting-arrays-in-numpy/#id9" target="_blank" rel="noopener">[4]</a>. Therefore, following the broadcasting rules outlined above, the shape <code>(3,)</code> is left-padded with 1 to make comparison with <code>(4, 3)</code> possible. The shapes are then deemed compatible and the result shape is <code>(4, 3)</code>, which is exactly what we observed.</p>
<p>Schematically:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">(<span class="number">4</span>, <span class="number">3</span>)                   (<span class="number">4</span>, <span class="number">3</span>)</div>
<div class="line">         == padding ==&gt;          == result ==&gt; (4, 3)</div>
<div class="line">(<span class="number">3</span>,)                     (<span class="number">1</span>, <span class="number">3</span>)</div>
</pre></td></tr></table></figure>
<p>Here’s another example, broadcasting between a 3-D and a 1-D array:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">(<span class="number">3</span>,)                       (<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>)</div>
<div class="line">           == padding ==&gt;             == result ==&gt; (5, 4, 3)</div>
<div class="line">(<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)                  (<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)</div>
</pre></td></tr></table></figure>
<p>Note, however, that only left-padding with 1s is allowed. Therefore:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">(<span class="number">5</span>,)                       (<span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>)</div>
<div class="line">           == padding ==&gt;             ==&gt; error (5 != 3)</div>
<div class="line">(<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)                  (<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)</div>
</pre></td></tr></table></figure>
<p>Theoretically, had the broadcasting rules been less rigid - we could say that this broadcasting is valid if we <em>right-pad</em> <code>(5,)</code> with 1s. However, this is not how the rules are defined - therefore these shapes are incompatible.</p>
<p>Broadcasting is valid between higher-dimensional arrays too:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">(<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)                     (<span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)</div>
<div class="line">              == padding ==&gt;                == result ==&gt; (6, 5, 4, 3)</div>
<div class="line">(<span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)                  (<span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>)</div>
</pre></td></tr></table></figure>
<p>Also, in the beginning of the article I mentioned that broadcasting does not necessarily occur between arrays of different number of dimensions. It’s perfectly valid to broadcast arrays with the same number of dimensions, as long as they are compatible:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line">(<span class="number">5</span>, <span class="number">4</span>, <span class="number">1</span>)</div>
<div class="line">           == no padding needed ==&gt; result ==&gt; (5, 4, 3)</div>
<div class="line">(<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>)</div>
</pre></td></tr></table></figure>
<h1 id="NumPy数组迭代"><a href="#NumPy数组迭代" class="headerlink" title="NumPy数组迭代"></a>NumPy数组迭代</h1><p>NumPy 包包含一个迭代器对象<code>numpy.nditer</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>)</div>
<div class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 0  5 10 15]</span></div>
<div class="line"><span class="comment">#  [20 25 30 35]</span></div>
<div class="line"><span class="comment">#  [40 45 50 55]]</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> np.nditer(a):</div>
<div class="line">    print(ele)</div>
<div class="line"><span class="comment"># 0 5 10 15 20 25 30 35 40 45 50 55</span></div>
</pre></td></tr></table></figure>
<h2 id="迭代顺序"><a href="#迭代顺序" class="headerlink" title="迭代顺序"></a>迭代顺序</h2><p><strong>F/C order</strong></p>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-18 at 3.53.25 PM.png" alt="Screen Shot 2018-06-18 at 3.53.25 PM"></p>
<p><strong>修改数组的值</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>)</div>
<div class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 0  5 10 15]</span></div>
<div class="line"><span class="comment">#  [20 25 30 35]</span></div>
<div class="line"><span class="comment">#  [40 45 50 55]]</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> np.nditer(a, op_flags=[<span class="string">'readwrite'</span>]):</div>
<div class="line">    ele[...] = <span class="number">2</span>*ele</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[  0  10  20  30]</span></div>
<div class="line"><span class="comment">#  [ 40  50  60  70]</span></div>
<div class="line"><span class="comment">#  [ 80  90 100 110]]</span></div>
</pre></td></tr></table></figure>
<p><strong>外部循环</strong></p>
<p><code>nditer</code>类的构造器拥有<code>flags</code>参数，如果其值是<code>external_loop</code> 给出的值是具有多个值的一维数组，而不是零维数组。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.arange(<span class="number">0</span>,<span class="number">60</span>,<span class="number">5</span>)</div>
<div class="line">a = a.reshape(<span class="number">3</span>,<span class="number">4</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 0  5 10 15]</span></div>
<div class="line"><span class="comment">#  [20 25 30 35]</span></div>
<div class="line"><span class="comment">#  [40 45 50 55]]</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> np.nditer(a, flags=[<span class="string">'external_loop'</span>],order=<span class="string">'F'</span>):</div>
<div class="line">    print(ele)</div>
<div class="line"><span class="comment"># [ 0 20 40]</span></div>
<div class="line"><span class="comment"># [ 5 25 45]</span></div>
<div class="line"><span class="comment"># [10 30 50]</span></div>
<div class="line"><span class="comment"># [15 35 55]</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> np.nditer(a, flags=[<span class="string">'external_loop'</span>]):</div>
<div class="line">    print(ele)</div>
<div class="line"><span class="comment"># [ 0  5 10 15 20 25 30 35 40 45 50 55]</span></div>
</pre></td></tr></table></figure>
<h1 id="NumPy数组操作"><a href="#NumPy数组操作" class="headerlink" title="NumPy数组操作"></a>NumPy数组操作</h1><p>提供了几个处理<code>ndarray</code>对象中的元素的方法</p>
<h2 id="修改数组形状"><a href="#修改数组形状" class="headerlink" title="修改数组形状"></a>修改数组形状</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-18 at 4.01.08 PM.png" alt="Screen Shot 2018-06-18 at 4.01.08 PM"></p>
<h3 id="numpy-reshape"><a href="#numpy-reshape" class="headerlink" title="numpy.reshape"></a>numpy.reshape</h3><p>这个函数在不改变数据的条件下修改形状，它接受如下参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.reshape(arr, newshape, order&apos;)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：要修改形状的数组</li>
<li><code>newshape</code>：整数或者整数数组，新的形状应当兼容原有形状</li>
<li><code>order</code>：<code>&#39;C&#39;</code>为 C 风格顺序，<code>&#39;F&#39;</code>为 F 风格顺序，<code>&#39;A&#39;</code>为保留原顺序。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.arange(<span class="number">8</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [0 1 2 3 4 5 6 7]</span></div>
<div class="line"></div>
<div class="line">b = a.reshape(<span class="number">4</span>,<span class="number">2</span>)</div>
<div class="line">print(b)</div>
<div class="line"><span class="comment"># [[0 1]</span></div>
<div class="line"><span class="comment">#  [2 3]</span></div>
<div class="line"><span class="comment">#  [4 5]</span></div>
<div class="line"><span class="comment">#  [6 7]]</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-ndarray-flat"><a href="#numpy-ndarray-flat" class="headerlink" title="numpy.ndarray.flat"></a>numpy.ndarray.flat</h3><p>该函数返回数组上的一维迭代器，行为类似 Python 内建的迭代器。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">16</span>]).reshape(<span class="number">4</span>,<span class="number">2</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 2  4]</span></div>
<div class="line"><span class="comment">#  [ 6  8]</span></div>
<div class="line"><span class="comment">#  [10 12]</span></div>
<div class="line"><span class="comment">#  [14 16]]</span></div>
<div class="line"></div>
<div class="line">print(a.flat[<span class="number">4</span>])</div>
<div class="line"><span class="comment"># 10</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-ndarray-flatten"><a href="#numpy-ndarray-flatten" class="headerlink" title="numpy.ndarray.flatten"></a>numpy.ndarray.flatten</h3><p>该函数返回折叠为一维的数组副本，函数接受下列参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">ndarray.flatten(order)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><p><code>order</code>：<code>&#39;C&#39;</code> — 按行，<code>&#39;F&#39;</code> — 按列，<code>&#39;A&#39;</code> — 原顺序，<code>&#39;k&#39;</code> — 元素在内存中的出现顺序。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">16</span>]).reshape(<span class="number">4</span>,<span class="number">2</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 2  4]</span></div>
<div class="line"><span class="comment">#  [ 6  8]</span></div>
<div class="line"><span class="comment">#  [10 12]</span></div>
<div class="line"><span class="comment">#  [14 16]]</span></div>
<div class="line"></div>
<div class="line">print(a.flatten())</div>
<div class="line"><span class="comment"># [ 2  4  6  8 10 12 14 16]</span></div>
<div class="line">print(a.flatten(order=<span class="string">'F'</span>))</div>
<div class="line"><span class="comment"># [ 2  6 10 14  4  8 12 16]</span></div>
</pre></td></tr></table></figure>
</li>
</ul>
<h3 id="numpy-ravel"><a href="#numpy-ravel" class="headerlink" title="numpy.ravel"></a>numpy.ravel</h3><p>这个函数返回展开的一维数组，并且按需生成副本。返回的数组和输入数组拥有相同数据类型。这个函数接受两个参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.ravel(a, order)</div>
</pre></td></tr></table></figure>
<p>构造器接受下列参数：</p>
<ul>
<li><code>order</code>：<code>&#39;C&#39;</code> — 按行，<code>&#39;F&#39;</code> — 按列，<code>&#39;A&#39;</code> — 原顺序，<code>&#39;k&#39;</code> — 元素在内存中的出现顺序。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">16</span>]).reshape(<span class="number">4</span>,<span class="number">2</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 2  4]</span></div>
<div class="line"><span class="comment">#  [ 6  8]</span></div>
<div class="line"><span class="comment">#  [10 12]</span></div>
<div class="line"><span class="comment">#  [14 16]]</span></div>
<div class="line"></div>
<div class="line">print(np.ravel(a))</div>
<div class="line"><span class="comment"># [ 2  4  6  8 10 12 14 16]</span></div>
<div class="line">print(np.ravel(a,order=<span class="string">'F'</span>))</div>
<div class="line"><span class="comment"># [ 2  6 10 14  4  8 12 16]</span></div>
</pre></td></tr></table></figure>
<h2 id="数组翻转"><a href="#数组翻转" class="headerlink" title="数组翻转"></a>数组翻转</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-18 at 4.11.26 PM.png" alt="Screen Shot 2018-06-18 at 4.11.26 PM"></p>
<h3 id="numpy-transpose"><a href="#numpy-transpose" class="headerlink" title="numpy.transpose()"></a>numpy.transpose()</h3><p>这个函数翻转给定数组的维度。如果可能的话它会返回一个视图。函数接受下列参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.transpose(arr, axes)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：要转置的数组</li>
<li><code>axes</code>：整数的列表，对应维度，通常所有维度都会翻转。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">16</span>]).reshape(<span class="number">4</span>,<span class="number">2</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 2  4]</span></div>
<div class="line"><span class="comment">#  [ 6  8]</span></div>
<div class="line"><span class="comment">#  [10 12]</span></div>
<div class="line"><span class="comment">#  [14 16]]</span></div>
<div class="line"></div>
<div class="line">print(np.transpose(a))</div>
<div class="line"><span class="comment"># [[ 2  6 10 14]</span></div>
<div class="line"><span class="comment">#  [ 4  8 12 16]]</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-ndarray-T"><a href="#numpy-ndarray-T" class="headerlink" title="numpy.ndarray.T"></a>numpy.ndarray.T</h3><p>该函数属于<code>ndarray</code>类，行为类似于<code>numpy.transpose</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">16</span>]).reshape(<span class="number">4</span>,<span class="number">2</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 2  4]</span></div>
<div class="line"><span class="comment">#  [ 6  8]</span></div>
<div class="line"><span class="comment">#  [10 12]</span></div>
<div class="line"><span class="comment">#  [14 16]]</span></div>
<div class="line"></div>
<div class="line">print(a.T)</div>
<div class="line"><span class="comment"># [[ 2  6 10 14]</span></div>
<div class="line"><span class="comment">#  [ 4  8 12 16]]</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-rollaxis"><a href="#numpy-rollaxis" class="headerlink" title="numpy.rollaxis()"></a>numpy.rollaxis()</h3><p>该函数向后滚动特定的轴，直到一个特定位置。这个函数接受三个参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.rollaxis(arr, axis, start)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>axis</code>：要向后滚动的轴，其它轴的相对位置不会改变</li>
<li><code>start</code>：默认为零，表示完整的滚动。会滚动到特定位置。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line"><span class="comment">#有些数据集的图片默认图片格式是[chanel][height][width], 然而有些地方显示图片是[height][width][chanel], 这就需要改变一下图片轴的次序。</span></div>
<div class="line"><span class="comment"># old_img是3*32*32的，new_img是32*32*3的</span></div>
<div class="line">newimg = np.rollaxis(old_img, <span class="number">0</span>, <span class="number">3</span>)  <span class="comment"># 把轴0放到轴3的位置</span></div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.arange(<span class="number">8</span>)</div>
<div class="line">a = a.reshape(<span class="number">2</span>,<span class="number">4</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[0 1 2 3]</span></div>
<div class="line"><span class="comment">#  [4 5 6 7]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#将轴1滚动到轴0，(2,4)-&gt;(4,2)</span></div>
<div class="line">print(np.rollaxis(a,<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [[0 4]</span></div>
<div class="line"><span class="comment">#  [1 5]</span></div>
<div class="line"><span class="comment">#  [2 6]</span></div>
<div class="line"><span class="comment">#  [3 7]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#即轴1滚动到轴1，不变</span></div>
<div class="line">print(np.rollaxis(a,<span class="number">1</span>,<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [[0 1 2 3]</span></div>
<div class="line"><span class="comment">#  [4 5 6 7]]</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-swapaxes"><a href="#numpy-swapaxes" class="headerlink" title="numpy.swapaxes()"></a>numpy.swapaxes()</h3><p>该函数交换数组的两个轴。对于 1.10 之前的 NumPy 版本，会返回交换后数组的试图。这个函数接受下列参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.swapaxes(arr, axis1, axis2)</div>
</pre></td></tr></table></figure>
<ul>
<li><code>arr</code>：要交换其轴的输入数组</li>
<li><code>axis1</code>：对应第一个轴的整数</li>
<li><p><code>axis2</code>：对应第二个轴的整数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.arange(<span class="number">16</span>)</div>
<div class="line">a = a.reshape(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[[ 0  1  2  3]</span></div>
<div class="line"><span class="comment">#   [ 4  5  6  7]]</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#  [[ 8  9 10 11]</span></div>
<div class="line"><span class="comment">#   [12 13 14 15]]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#就是将第三个维度和第二个维度交换,</span></div>
<div class="line"><span class="comment"># 数字7来说，之前的索引是(0,1,3),那么交换之后，就应该是(0,3,1)</span></div>
<div class="line">print(np.swapaxes(a,<span class="number">2</span>,<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [[[ 0  4]</span></div>
<div class="line"><span class="comment">#   [ 1  5]</span></div>
<div class="line"><span class="comment">#   [ 2  6]</span></div>
<div class="line"><span class="comment">#   [ 3  7]]</span></div>
<div class="line"><span class="comment">#</span></div>
<div class="line"><span class="comment">#  [[ 8 12]</span></div>
<div class="line"><span class="comment">#   [ 9 13]</span></div>
<div class="line"><span class="comment">#   [10 14]</span></div>
<div class="line"><span class="comment">#   [11 15]]]</span></div>
</pre></td></tr></table></figure>
</li>
</ul>
<h2 id="修改维度"><a href="#修改维度" class="headerlink" title="修改维度"></a>修改维度</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-19 at 3.32.30 PM.png" alt="Screen Shot 2018-06-19 at 3.32.30 PM"></p>
<h3 id="numpy-expand-dims"><a href="#numpy-expand-dims" class="headerlink" title="numpy.expand_dims()"></a>numpy.expand_dims()</h3><p>函数通过在指定位置插入新的轴来扩展数组形状。该函数需要两个参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.expand_dims(arr, axis)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>axis</code>：新轴插入的位置</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">x = np.array([<span class="number">1</span>,<span class="number">2</span>])</div>
<div class="line">print(x,x.shape)</div>
<div class="line"><span class="comment"># [1 2],(2,)</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">y = np.expand_dims(x,axis=<span class="number">0</span>)</div>
<div class="line">print(y,y.shape)</div>
<div class="line"><span class="comment"># [[1 2]],(1, 2)</span></div>
<div class="line"></div>
<div class="line">y = np.expand_dims(x,axis=<span class="number">1</span>)</div>
<div class="line">print(y,y.shape)</div>
<div class="line"><span class="comment"># [[1]</span></div>
<div class="line"><span class="comment">#  [2]]  (2, 1)</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-squeeze"><a href="#numpy-squeeze" class="headerlink" title="numpy.squeeze()"></a>numpy.squeeze()</h3><p>函数从给定数组的形状中删除一维条目,即shape=(x,..,1,…y),那么就会变成（x,.,y）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.squeeze(arr, axis)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>axis</code>：整数或整数元组，用于选择形状中单一维度条目的子集</li>
</ul>
<h2 id="数组连接"><a href="#数组连接" class="headerlink" title="数组连接"></a>数组连接</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-19 at 3.43.35 PM.png" alt="Screen Shot 2018-06-19 at 3.43.35 PM"></p>
<h3 id="numpy-concatenate"><a href="#numpy-concatenate" class="headerlink" title="numpy.concatenate()"></a>numpy.concatenate()</h3><p>数组的连接是指连接。 此函数用于沿指定轴连接相同形状的两个或多个数组。 该函数接受以下参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.concatenate((a1, a2, ...), axis)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>a1, a2, ...</code>：相同类型的数组序列</li>
<li><code>axis</code>：沿着它连接数组的轴，默认为 0，即添加在下方；axis=1使添加在右方</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[1 2]</span></div>
<div class="line"><span class="comment">#  [3 4]]</span></div>
<div class="line"></div>
<div class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</div>
<div class="line">print(b)</div>
<div class="line"><span class="comment"># [[5 6]</span></div>
<div class="line"><span class="comment">#  [7 8]]</span></div>
<div class="line"></div>
<div class="line">print(np.concatenate((a,b)))</div>
<div class="line"><span class="comment"># [[1 2]</span></div>
<div class="line"><span class="comment">#  [3 4]</span></div>
<div class="line"><span class="comment">#  [5 6]</span></div>
<div class="line"><span class="comment">#  [7 8]]</span></div>
<div class="line"></div>
<div class="line">print(np.concatenate((a,b),axis=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [[1 2 5 6]</span></div>
<div class="line"><span class="comment">#  [3 4 7 8]]</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-stack"><a href="#numpy-stack" class="headerlink" title="numpy.stack()"></a>numpy.stack()</h3><p>此函数沿新轴连接数组序列。 此功能添加自 NumPy 版本 1.10.0。 需要提供以下参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.stack(arrays, axis)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arrays</code>：相同形状的数组序列</li>
<li><code>axis</code>：返回数组中的轴，输入数组沿着它来堆叠</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div>
<div class="line"></div>
<div class="line">b = np.array([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</div>
<div class="line"></div>
<div class="line">print(np.stack((a,b)))</div>
<div class="line"><span class="comment"># [[1 2 3]</span></div>
<div class="line"><span class="comment">#  [4 5 6]]</span></div>
<div class="line"><span class="comment"># shape = (2,3)</span></div>
<div class="line"></div>
<div class="line">print(np.stack((a,b),axis=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [[1 4]</span></div>
<div class="line"><span class="comment">#  [2 5]</span></div>
<div class="line"><span class="comment">#  [3 6]]</span></div>
<div class="line"><span class="comment"># shape = (3,2)</span></div>
</pre></td></tr></table></figure>
<h2 id="数组分割"><a href="#数组分割" class="headerlink" title="数组分割"></a>数组分割</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-19 at 3.50.55 PM.png" alt="Screen Shot 2018-06-19 at 3.50.55 PM"></p>
<h3 id="numpy-split"><a href="#numpy-split" class="headerlink" title="numpy.split()"></a>numpy.split()</h3><p>该函数沿特定的轴将数组分割为子数组。函数接受三个参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.split(ary, indices_or_sections, axis)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>ary</code>：被分割的输入数组</li>
<li><code>indices_or_sections</code>：可以是整数，表明要从输入数组创建的，等大小的子数组的数量。 如果此参数是一维数组，则其元素表明要创建新子数组的点。</li>
<li><code>axis</code>：默认为 0</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.arange(<span class="number">9</span>)</div>
<div class="line"></div>
<div class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</div>
<div class="line"><span class="keyword">print</span> (a)</div>
<div class="line"></div>
<div class="line"><span class="keyword">print</span> (<span class="string">'将数组分为三个大小相等的子数组：'</span>)</div>
<div class="line">b = np.split(a,<span class="number">3</span>)</div>
<div class="line"><span class="keyword">print</span> (b)</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keyword">print</span> (<span class="string">'将数组在一维数组中表明的位置分割：'</span>)</div>
<div class="line">b = np.split(a,[<span class="number">4</span>,<span class="number">7</span>])</div>
<div class="line"><span class="keyword">print</span> (b)</div>
<div class="line"></div>
<div class="line"><span class="comment"># 第一个数组：</span></div>
<div class="line"><span class="comment"># [0 1 2 3 4 5 6 7 8]</span></div>
<div class="line"><span class="comment"># 将数组分为三个大小相等的子数组：</span></div>
<div class="line"><span class="comment"># [array([0, 1, 2]), array([3, 4, 5]), array([6, 7, 8])]</span></div>
<div class="line"><span class="comment"># 将数组在一维数组中表明的位置分割：</span></div>
<div class="line"><span class="comment"># [array([0, 1, 2, 3]), array([4, 5, 6]), array([7, 8])]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>如果之前的shape是(x,y)，那么分割之后是(x/2 , y) 或者 (x , y/2)</p>
</blockquote>
<h2 id="元素添加-删除"><a href="#元素添加-删除" class="headerlink" title="元素添加/删除"></a>元素添加/删除</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-20 at 9.10.44 AM.png" alt="Screen Shot 2018-06-20 at 9.10.44 AM"></p>
<h3 id="numpy-resize"><a href="#numpy-resize" class="headerlink" title="numpy.resize()"></a>numpy.resize()</h3><p>此函数返回指定大小的新数组。 如果新大小大于原始大小，则包含原始数组中的元素的重复副本。 该函数接受以下参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.resize(arr, shape)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：要修改大小的输入数组</li>
<li><code>shape</code>：返回数组的新形状</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[1 2 3]</span></div>
<div class="line"><span class="comment">#  [4 5 6]]</span></div>
<div class="line"></div>
<div class="line">b = np.resize(a,(<span class="number">3</span>,<span class="number">2</span>))<span class="comment">#效果等于reshape</span></div>
<div class="line">print(b)</div>
<div class="line"><span class="comment"># [[1 2]</span></div>
<div class="line"><span class="comment">#  [3 4]</span></div>
<div class="line"><span class="comment">#  [5 6]]</span></div>
<div class="line"></div>
<div class="line">b = np.resize(a,(<span class="number">3</span>,<span class="number">5</span>))<span class="comment">#不能用reshape</span></div>
<div class="line">print(b)</div>
<div class="line"><span class="comment"># [[1 2 3 4 5]</span></div>
<div class="line"><span class="comment">#  [6 1 2 3 4]</span></div>
<div class="line"><span class="comment">#  [5 6 1 2 3]]</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-append"><a href="#numpy-append" class="headerlink" title="numpy.append()"></a>numpy.append()</h3><p>此函数在输入数组的末尾添加值。 附加操作不是原地的，而是分配新的数组。 此外，输入数组的维度必须匹配否则将生成<code>ValueError</code>。</p>
<p>函数接受下列函数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.append(arr, values, axis)</div>
</pre></td></tr></table></figure>
<p> 其中：</p>
<ul>
<li><p><code>arr</code>：输入数组</p>
</li>
<li><p><code>values</code>：要向<code>arr</code>添加的值，比如和<code>arr</code>形状相同(除了要添加的轴)</p>
</li>
<li><p><code>axis</code>：沿着它完成操作的轴。如果没有提供，两个参数都会被展开。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[1 2 3]</span></div>
<div class="line"><span class="comment">#  [4 5 6]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#没有提供axis，则展开所有轴</span></div>
<div class="line">print(np.append(a,[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]))</div>
<div class="line"><span class="comment"># [1 2 3 4 5 6 7 8 9]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#添加数组维度必须原来的匹配，此例中原来数组是shape=(2,3),则axis=0，那么列的维度相同，shape=(x,3)</span></div>
<div class="line">print(np.append(a,[[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>],[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]],axis=<span class="number">0</span>))</div>
<div class="line"><span class="comment"># [[1 2 3]</span></div>
<div class="line"><span class="comment">#  [4 5 6]</span></div>
<div class="line"><span class="comment">#  [7 8 9]</span></div>
<div class="line"><span class="comment">#  [5 5 5]</span></div>
<div class="line"><span class="comment">#  [1 2 3]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#axis=1,则竖向添加，行的维度相同，shape=(2,x)</span></div>
<div class="line">print(np.append(a,[[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>]],axis=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [[ 1  2  3  5  5  5  5]</span></div>
<div class="line"><span class="comment">#  [ 4  5  6  7  8  9 10]]</span></div>
</pre></td></tr></table></figure>
</li>
</ul>
<h3 id="numpy-insert"><a href="#numpy-insert" class="headerlink" title="numpy.insert()"></a>numpy.insert()</h3><p>此函数在给定索引之前，沿给定轴在输入数组中插入值。 如果值的类型转换为要插入，则它与输入数组不同。 插入没有原地的，函数会返回一个新数组。 此外，如果未提供轴，则输入数组会被展开。</p>
<p><code>insert()</code>函数接受以下参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.insert(arr, obj, values, axis)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>obj</code>：在其之前插入值的索引</li>
<li><code>values</code>：要插入的值</li>
<li><code>axis</code>：沿着它插入的轴，如果未提供，则输入数组会被展开</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[1 2]</span></div>
<div class="line"><span class="comment">#  [3 4]</span></div>
<div class="line"><span class="comment">#  [5 6]]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#在index=3插入【11，12】</span></div>
<div class="line">print(np.insert(a,<span class="number">3</span>,[<span class="number">11</span>,<span class="number">12</span>]))</div>
<div class="line"><span class="comment"># [ 1  2  3 11 12  4  5  6]</span></div>
<div class="line"></div>
<div class="line">print(np.insert(a,<span class="number">1</span>,[<span class="number">11</span>],axis=<span class="number">0</span>))</div>
<div class="line"><span class="comment"># [[ 1  2]</span></div>
<div class="line"><span class="comment">#  [11 11]</span></div>
<div class="line"><span class="comment">#  [ 3  4]</span></div>
<div class="line"><span class="comment">#  [ 5  6]]</span></div>
<div class="line"></div>
<div class="line">print(np.insert(a,<span class="number">1</span>,<span class="number">11</span>,axis=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [[ 1 11  2]</span></div>
<div class="line"><span class="comment">#  [ 3 11  4]</span></div>
<div class="line"><span class="comment">#  [ 5 11  6]]</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-delete"><a href="#numpy-delete" class="headerlink" title="numpy.delete()"></a>numpy.delete()</h3><p>此函数返回从输入数组中删除指定子数组的新数组。 与<code>insert()</code>函数的情况一样，如果未提供轴参数，则输入数组将展开。 该函数接受以下参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">Numpy.delete(arr, obj, axis)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：输入数组</li>
<li><code>obj</code>：可以被切片，整数或者整数数组，表明要从输入数组删除的子数组</li>
<li><code>axis</code>：沿着它删除给定子数组的轴，如果未提供，则输入数组会被展开</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]).reshape(<span class="number">3</span>,<span class="number">4</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[ 1  2  3  4]</span></div>
<div class="line"><span class="comment">#  [ 5  6  7  8]</span></div>
<div class="line"><span class="comment">#  [ 9 10 11 12]]</span></div>
<div class="line"></div>
<div class="line">print(np.delete(a,<span class="number">5</span>))<span class="comment">#删除index=5的值</span></div>
<div class="line"><span class="comment"># [ 1  2  3  4  5  7  8  9 10 11 12]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#删除第二行</span></div>
<div class="line">print(np.delete(a,<span class="number">1</span>,axis=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [[ 1  3  4]</span></div>
<div class="line"><span class="comment">#  [ 5  7  8]</span></div>
<div class="line"><span class="comment">#  [ 9 11 12]]</span></div>
<div class="line"></div>
<div class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>])</div>
<div class="line">print(np.delete(a,np.s_[::<span class="number">2</span>]))</div>
<div class="line"><span class="comment"># [ 2  4  6  8 10]</span></div>
</pre></td></tr></table></figure>
<h3 id="numpy-unique"><a href="#numpy-unique" class="headerlink" title="numpy.unique()"></a>numpy.unique()</h3><p>此函数返回输入数组中的去重元素数组。 该函数能够返回一个元组，包含去重数组和相关索引的数组。 索引的性质取决于函数调用中返回参数的类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.unique(arr, return_index, return_inverse, return_counts)</div>
</pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li><code>arr</code>：输入数组，如果不是一维数组则会展开</li>
<li><code>return_index</code>：如果为<code>true</code>，返回输入数组中的元素下标</li>
<li><code>return_inverse</code>：如果为<code>true</code>，返回去重数组的下标，它可以用于重构输入数组</li>
<li><code>return_counts</code>：如果为<code>true</code>，返回去重数组中的元素在原数组中的出现次数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">9</span>])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [5 2 6 2 7 5 6 8 2 9]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#返回去重之后的数组</span></div>
<div class="line">u = np.unique(a)</div>
<div class="line">print(u)</div>
<div class="line"><span class="comment"># [2 5 6 7 8 9]</span></div>
<div class="line"></div>
<div class="line"><span class="comment"># 去重数组的索引</span></div>
<div class="line">u,indices = np.unique(a,return_index=<span class="keyword">True</span>)</div>
<div class="line">print(indices)</div>
<div class="line"><span class="comment">#[1 0 2 4 7 9]</span></div>
<div class="line"></div>
<div class="line"><span class="comment">#</span></div>
<div class="line">u,counts = np.unique(a,return_counts=<span class="keyword">True</span>)</div>
<div class="line">print(counts)</div>
<div class="line"><span class="comment"># [3 2 2 1 1 1]</span></div>
</pre></td></tr></table></figure>
<h1 id="NumPy位操作"><a href="#NumPy位操作" class="headerlink" title="NumPy位操作"></a>NumPy位操作</h1><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-20 at 3.24.42 PM.png" alt="Screen Shot 2018-06-20 at 3.24.42 PM"></p>
<h2 id="bitwise-and"><a href="#bitwise-and" class="headerlink" title="bitwise_and()"></a>bitwise_and()</h2><p>通过<code>np.bitwise_and()</code>函数对输入数组中的整数的二进制表示的相应位执行位与运算。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = <span class="number">13</span></div>
<div class="line">b =<span class="number">17</span></div>
<div class="line">print(bin(a))</div>
<div class="line"><span class="comment"># 0b1101</span></div>
<div class="line">print(bin(b))</div>
<div class="line"><span class="comment"># 0b10001</span></div>
<div class="line"></div>
<div class="line">print(np.bitwise_and(<span class="number">13</span>,<span class="number">17</span>))</div>
<div class="line"><span class="comment"># 1</span></div>
</pre></td></tr></table></figure>
<h2 id="bitwise-or"><a href="#bitwise-or" class="headerlink" title="bitwise_or()"></a>bitwise_or()</h2><p>通过<code>np.bitwise_or()</code>函数对输入数组中的整数的二进制表示的相应位执行位或运算。</p>
<h2 id="left-shift"><a href="#left-shift" class="headerlink" title="left_shift()"></a>left_shift()</h2><p>将数组元素的二进制表示中的位向左移动到指定位置，右侧附加相等数量的 0。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line">a = <span class="number">13</span></div>
<div class="line">print(bin(a))</div>
<div class="line"><span class="comment"># 0b1101</span></div>
<div class="line">a_ = np.left_shift(a,<span class="number">2</span>)</div>
<div class="line">print(bin(a_),a_)</div>
<div class="line"><span class="comment"># 0b110100 52</span></div>
</pre></td></tr></table></figure>
<h2 id="right-shift"><a href="#right-shift" class="headerlink" title="right_shift()"></a>right_shift()</h2><p>将数组元素的二进制表示中的位向右移动到指定位置，左侧附加相等数量的 0。</p>
<h1 id="NumPy字符串函数"><a href="#NumPy字符串函数" class="headerlink" title="NumPy字符串函数"></a>NumPy字符串函数</h1><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-20 at 3.34.40 PM.png" alt="Screen Shot 2018-06-20 at 3.34.40 PM"></p>
<p>这些函数在字符数组类(<code>numpy.char</code>)中定义。 <code>numpy.char</code>类中的上述函数在执行向量化字符串操作时非常有用。</p>
<h2 id="numpy-char-add"><a href="#numpy-char-add" class="headerlink" title="numpy.char.add()"></a>numpy.char.add()</h2><p>函数执行按元素的字符串连接。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">print(np.char.add([<span class="string">'hello'</span>],[<span class="string">'xyz'</span>]))</div>
<div class="line"><span class="comment"># ['helloxyz']</span></div>
<div class="line">print(np.char.add([<span class="string">'hello'</span>,<span class="string">'why'</span>],[<span class="string">'xyz'</span>,<span class="string">'like this'</span>]))</div>
<div class="line"><span class="comment"># ['helloxyz' 'whylike this']</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-multiply"><a href="#numpy-char-multiply" class="headerlink" title="numpy.char.multiply()"></a>numpy.char.multiply()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">print(np.char.multiply(<span class="string">"Wq"</span>,<span class="number">3</span>))</div>
<div class="line"><span class="comment"># WqWqWq</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-center"><a href="#numpy-char-center" class="headerlink" title="numpy.char.center()"></a>numpy.char.center()</h2><p>此函数返回所需宽度的数组，以便输入字符串位于中心，并使用<code>fillchar</code>在左侧和右侧进行填充。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line">print(np.char.center(<span class="string">'hello'</span>,<span class="number">10</span>,fillchar=<span class="string">"@"</span>))</div>
<div class="line"><span class="comment"># @@hello@@@</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-capitalize"><a href="#numpy-char-capitalize" class="headerlink" title="numpy.char.capitalize()"></a>numpy.char.capitalize()</h2><p>函数返回字符串的副本，其中第一个字母大写</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> np.char.capitalize(<span class="string">'hello world'</span>)</div>
<div class="line"><span class="comment"># Hello world</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-title"><a href="#numpy-char-title" class="headerlink" title="numpy.char.title()"></a>numpy.char.title()</h2><p>返回输入字符串的按元素标题转换版本，其中每个单词的首字母都大写。</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> np.char.title(<span class="string">'hello how are you?'</span>)</div>
<div class="line"><span class="comment"># Hello How Are You?</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-lower"><a href="#numpy-char-lower" class="headerlink" title="numpy.char.lower()"></a>numpy.char.lower()</h2><p>函数返回一个数组，其元素转换为小写。它对每个元素调用<code>str.lower</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line">print(np.char.lower(<span class="string">'HeLLo'</span>))</div>
<div class="line"><span class="comment"># hello</span></div>
<div class="line">print(np.char.lower([<span class="string">"HeLLO"</span>,<span class="string">'WORld'</span>]))</div>
<div class="line"><span class="comment"># ['hello' 'world']</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-upper"><a href="#numpy-char-upper" class="headerlink" title="numpy.char.upper()"></a>numpy.char.upper()</h2><p>函数返回一个数组，其元素转换为大写。它对每个元素调用<code>str.upper</code>。</p>
<h2 id="numpy-char-split"><a href="#numpy-char-split" class="headerlink" title="numpy.char.split()"></a>numpy.char.split()</h2><p>此函数返回输入字符串中的单词列表。 默认情况下，空格用作分隔符。 否则，指定的分隔符字符用于分割字符串。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> (np.char.split (<span class="string">'hello how are you?'</span>) )</div>
<div class="line"><span class="comment"># ['hello', 'how', 'are', 'you?']</span></div>
<div class="line"><span class="keyword">print</span> (np.char.split (<span class="string">'YiibaiPoint,Hyderabad,Telangana'</span>, sep = <span class="string">','</span>))</div>
<div class="line"><span class="comment"># ['YiibaiPoint', 'Hyderabad', 'Telangana']</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-splitlines"><a href="#numpy-char-splitlines" class="headerlink" title="numpy.char.splitlines()"></a>numpy.char.splitlines()</h2><p>函数返回数组中元素的单词列表，以换行符分割。<code>&#39;\n&#39;</code>，<code>&#39;\r&#39;</code>，<code>&#39;\r\n&#39;</code>都会用作换行符。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> (np.char.splitlines(<span class="string">'hello\nhow are you?'</span>) )</div>
<div class="line"><span class="comment"># ['hello', 'how are you?']</span></div>
<div class="line"><span class="keyword">print</span> (np.char.splitlines(<span class="string">'hello\rhow are you?'</span>))</div>
<div class="line"><span class="comment"># ['hello', 'how are you?']</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-strip"><a href="#numpy-char-strip" class="headerlink" title="numpy.char.strip()"></a>numpy.char.strip()</h2><p>函数返回数组的副本，其中元素移除了开头或结尾处的特定字符。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> np.char.strip(<span class="string">'ashok arora'</span>,<span class="string">'a'</span>) </div>
<div class="line"><span class="comment"># shok aror</span></div>
<div class="line"><span class="keyword">print</span> np.char.strip([<span class="string">'arora'</span>,<span class="string">'admin'</span>,<span class="string">'java'</span>],<span class="string">'a'</span>)</div>
<div class="line"><span class="comment"># ['ror' 'dmin' 'jav']</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-join"><a href="#numpy-char-join" class="headerlink" title="numpy.char.join()"></a>numpy.char.join()</h2><p>这个函数返回一个字符串，其中单个字符由特定的分隔符连接。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> np.char.join(<span class="string">':'</span>,<span class="string">'dmy'</span>) </div>
<div class="line"><span class="keyword">print</span> np.char.join([<span class="string">':'</span>,<span class="string">'-'</span>],[<span class="string">'dmy'</span>,<span class="string">'ymd'</span>])</div>
<div class="line"><span class="comment"># d:m:y</span></div>
<div class="line"><span class="comment"># ['d:m:y' 'y-m-d']</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-char-replace"><a href="#numpy-char-replace" class="headerlink" title="numpy.char.replace()"></a>numpy.char.replace()</h2><p>这个函数返回字符串副本，其中所有字符序列的出现位置都被另一个给定的字符序列取代。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </div>
<div class="line"><span class="keyword">print</span> np.char.replace (<span class="string">'He is a good boy'</span>, <span class="string">'is'</span>, <span class="string">'was'</span>)</div>
<div class="line"><span class="comment"># He was a good boy</span></div>
</pre></td></tr></table></figure>
<h1 id="NumPy算数函数"><a href="#NumPy算数函数" class="headerlink" title="NumPy算数函数"></a>NumPy算数函数</h1><p>NumPy 提供标准的三角函数，算术运算的函数，复数处理函数等。</p>
<h2 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h2><p><a href="https://www.yiibai.com/numpy/numpy_mathematical_functions.html#article-start" target="_blank" rel="noopener">参考</a></p>
<h2 id="舍入函数"><a href="#舍入函数" class="headerlink" title="舍入函数"></a>舍入函数</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-21 at 9.31.30 AM.png" alt="Screen Shot 2018-06-21 at 9.31.30 AM"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([<span class="number">1.0</span>,<span class="number">5.55</span>,  <span class="number">123</span>,  <span class="number">0.567</span>,  <span class="number">25.532</span>])</div>
<div class="line"></div>
<div class="line">print(np.around(a))</div>
<div class="line"><span class="comment"># [1.  6.  123.   1.  26.]</span></div>
<div class="line">print(np.around(a,decimals=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [1.  5.6 123.   0.6  25.5]</span></div>
<div class="line">print(np.around(a,decimals=<span class="number">-1</span>))</div>
<div class="line"><span class="comment"># [0.  10. 120.   0.  30.]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-floor-ceil"><a href="#numpy-floor-ceil" class="headerlink" title="numpy.floor()/.ceil()"></a>numpy.floor()/.ceil()</h2><p>floor() 此函数返回不大于输入参数的最大整数</p>
<p>ceil() 返回输入值的上限</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">-1.7</span>,  <span class="number">1.5</span>,  <span class="number">-0.2</span>,  <span class="number">0.6</span>,  <span class="number">10</span>])</div>
<div class="line">print(np.floor(a))</div>
<div class="line"><span class="comment"># [-2.  1. -1.  0. 10.]</span></div>
<div class="line">print(np.ceil(a))</div>
<div class="line"><span class="comment"># [-1.  2. -0.  1. 10.]</span></div>
</pre></td></tr></table></figure>
<h1 id="NumPy算数运算"><a href="#NumPy算数运算" class="headerlink" title="NumPy算数运算"></a>NumPy算数运算</h1><p>用于执行算术运算(如<code>add()</code>，<code>subtract()</code>，<code>multiply()</code>和<code>divide()</code>)的输入数组必须具有相同的形状或符合数组广播规则。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
<div class="line">19</div>
<div class="line">20</div>
<div class="line">21</div>
<div class="line">22</div>
<div class="line">23</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[0 1 2]</span></div>
<div class="line"><span class="comment">#  [3 4 5]</span></div>
<div class="line"><span class="comment">#  [6 7 8]]</span></div>
<div class="line">b = np.array([<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>])</div>
<div class="line">print(a+b) <span class="comment">#等价于np.add(a,b)</span></div>
<div class="line"><span class="comment"># [[10 11 12]</span></div>
<div class="line"><span class="comment">#  [13 14 15]</span></div>
<div class="line"><span class="comment">#  [16 17 18]]</span></div>
<div class="line">print(a-b) <span class="comment">#等价于np.subtract(a,b)</span></div>
<div class="line"><span class="comment"># [[-10  -9  -8]</span></div>
<div class="line"><span class="comment">#  [ -7  -6  -5]</span></div>
<div class="line"><span class="comment">#  [ -4  -3  -2]]</span></div>
<div class="line">print(a*b) <span class="comment">#等价于np.multiply(a,b)</span></div>
<div class="line"><span class="comment"># [[ 0 10 20]</span></div>
<div class="line"><span class="comment">#  [30 40 50]</span></div>
<div class="line"><span class="comment">#  [60 70 80]]</span></div>
<div class="line">print(a/b) <span class="comment">#等价于np.divide(a,b)</span></div>
<div class="line"><span class="comment"># [[0.  0.1 0.2]</span></div>
<div class="line"><span class="comment">#  [0.3 0.4 0.5]</span></div>
<div class="line"><span class="comment">#  [0.6 0.7 0.8]]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-reciprocal"><a href="#numpy-reciprocal" class="headerlink" title="numpy.reciprocal()"></a>numpy.reciprocal()</h2><p>此函数返回参数逐元素的倒数，。 由于 Python 处理整数除法的方式，对于绝对值大于 1 的整数元素，结果始终为 0， 对于整数 0，则发出溢出警告。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">0.25</span>,  <span class="number">1.33</span>,  <span class="number">1</span>,  <span class="number">0</span>,  <span class="number">100</span>])</div>
<div class="line">print(np.reciprocal(a))</div>
<div class="line"><span class="comment"># [4.  0.7518797   1.   inf   0.01 ]</span></div>
<div class="line">b = np.array([<span class="number">100</span>],dtype=int)</div>
<div class="line">print(np.reciprocal(b))</div>
<div class="line"><span class="comment"># [0]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-power"><a href="#numpy-power" class="headerlink" title="numpy.power()"></a>numpy.power()</h2><p>此函数将第一个输入数组中的元素作为底数，计算它与第二个输入数组中相应元素的幂。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</div>
<div class="line">print(np.power(a,<span class="number">2</span>))</div>
<div class="line"><span class="comment"># [ 4  9 16]</span></div>
<div class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</div>
<div class="line">print(np.power(a,b))</div>
<div class="line"><span class="comment"># [ 2  9 64]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-mod"><a href="#numpy-mod" class="headerlink" title="numpy.mod()"></a>numpy.mod()</h2><p>此函数返回输入数组中相应元素的除法余数。 函数<code>numpy.remainder()</code>也产生相同的结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>])</div>
<div class="line">b = np.array([<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>])</div>
<div class="line">print(np.mod(a,b))</div>
<div class="line"><span class="comment"># [1 0 2]</span></div>
<div class="line">print(np.remainder(a,b))</div>
<div class="line"><span class="comment"># [1 0 2]</span></div>
</pre></td></tr></table></figure>
<h1 id="NumPy统计函数"><a href="#NumPy统计函数" class="headerlink" title="NumPy统计函数"></a>NumPy统计函数</h1><p>NumPy 有很多有用的统计函数，用于从数组中给定的元素中查找最小，最大，百分标准差和方差等。</p>
<h2 id="numpy-amin-amax"><a href="#numpy-amin-amax" class="headerlink" title="numpy.amin()/.amax()"></a>numpy.amin()/.amax()</h2><p>从给定数组中的元素沿指定轴返回最小值和最大值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[3 7 5]</span></div>
<div class="line"><span class="comment">#  [8 4 3]</span></div>
<div class="line"><span class="comment">#  [2 4 9]]</span></div>
<div class="line">print(np.amin(a,<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [3 3 2]</span></div>
<div class="line">print(np.amin(a,<span class="number">0</span>))</div>
<div class="line"><span class="comment"># [2 4 3]</span></div>
<div class="line">print(np.amin(a))</div>
<div class="line"><span class="comment"># 2</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-ptp"><a href="#numpy-ptp" class="headerlink" title="numpy.ptp()"></a>numpy.ptp()</h2><p>返回沿轴的值的范围(最大值 - 最小值)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>,<span class="number">9</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[3 7 5]</span></div>
<div class="line"><span class="comment">#  [8 4 3]</span></div>
<div class="line"><span class="comment">#  [2 4 9]]</span></div>
<div class="line">print(np.ptp(a))</div>
<div class="line"><span class="comment"># 7 (9-2)</span></div>
<div class="line">print(np.ptp(a,axis=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [4 5 7]</span></div>
<div class="line">print(np.ptp(a,<span class="number">0</span>))</div>
<div class="line"><span class="comment"># [6 3 6]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-percentile"><a href="#numpy-percentile" class="headerlink" title="numpy.percentile()"></a>numpy.percentile()</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-21 at 9.56.48 AM.png" alt="Screen Shot 2018-06-21 at 9.56.48 AM"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([[<span class="number">30</span>,<span class="number">40</span>,<span class="number">70</span>],[<span class="number">80</span>,<span class="number">20</span>,<span class="number">10</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[30 40 70]</span></div>
<div class="line"><span class="comment">#  [80 20 10]</span></div>
<div class="line">print(np.percentile(a,<span class="number">50</span>))<span class="comment"># #50%的分位数，就是a里排序之后的中位数</span></div>
<div class="line"><span class="comment"># 35.0</span></div>
<div class="line">print(np.percentile(a,<span class="number">50</span>,axis=<span class="number">1</span>))</div>
<div class="line"><span class="comment"># [40. 20.]</span></div>
<div class="line">print(np.percentile(a,<span class="number">50</span>,axis=<span class="number">0</span>))</div>
<div class="line"><span class="comment"># [55. 30. 40.]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-median"><a href="#numpy-median" class="headerlink" title="numpy.median()"></a>numpy.median()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.median(a,axis)</div>
</pre></td></tr></table></figure>
<h2 id="numpy-mean"><a href="#numpy-mean" class="headerlink" title="numpy.mean()"></a>numpy.mean()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">numpy.mean(a,axis)</div>
</pre></td></tr></table></figure>
<h2 id="numpy-average"><a href="#numpy-average" class="headerlink" title="numpy.average()"></a>numpy.average()</h2><p>加权平均值是由每个分量乘以反映其重要性的因子得到的平均值。 <code>numpy.average()</code>函数根据在另一个数组中给出的各自的权重计算数组中元素的加权平均值。 该函数可以接受一个轴参数。 如果没有指定轴，则数组会被展开。</p>
<p>考虑数组<code>[1,2,3,4]</code>和相应的权重<code>[4,3,2,1]</code>，通过将相应元素的乘积相加，并将和除以权重的和，来计算加权平均值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">加权平均值 = (<span class="number">1</span>*<span class="number">4</span>+<span class="number">2</span>*<span class="number">3</span>+<span class="number">3</span>*<span class="number">2</span>+<span class="number">4</span>*<span class="number">1</span>)/(<span class="number">4</span>+<span class="number">3</span>+<span class="number">2</span>+<span class="number">1</span>)</div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</div>
<div class="line">print(np.mean(a))</div>
<div class="line"><span class="comment"># 2.5</span></div>
<div class="line">weight = np.array([<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>])</div>
<div class="line">print(np.average(a,weights=weight))</div>
<div class="line"><span class="comment"># 2.0</span></div>
<div class="line">print(np.average(a,weights=weight,returned=<span class="keyword">True</span>))  <span class="comment"># 如果 returned 参数设为 true，则返回权重的和</span></div>
<div class="line"><span class="comment"># (2.0, 10.0)</span></div>
</pre></td></tr></table></figure>
<p>在多维数组中，可以使用axis，指定用于计算的轴。</p>
<h2 id="numpy-std"><a href="#numpy-std" class="headerlink" title="numpy.std()"></a>numpy.std()</h2><p>标准差</p>
<h2 id="numpy-var"><a href="#numpy-var" class="headerlink" title="numpy.var()"></a>numpy.var()</h2><p>方差</p>
<h1 id="NumPy排序、搜索和计数"><a href="#NumPy排序、搜索和计数" class="headerlink" title="NumPy排序、搜索和计数"></a>NumPy排序、搜索和计数</h1><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-24 at 8.37.20 PM.png" alt="Screen Shot 2018-06-24 at 8.37.20 PM"></p>
<h2 id="numpy-sort"><a href="#numpy-sort" class="headerlink" title="numpy.sort()"></a>numpy.sort()</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-24 at 8.38.05 PM.png" alt="Screen Shot 2018-06-24 at 8.38.05 PM"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
<div class="line">16</div>
<div class="line">17</div>
<div class="line">18</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">a = np.array([[<span class="number">3</span>,<span class="number">7</span>],[<span class="number">9</span>,<span class="number">1</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[3 7]</span></div>
<div class="line"><span class="comment">#  [9 1]]</span></div>
<div class="line">print(np.sort(a))</div>
<div class="line"><span class="comment"># [[3 7]</span></div>
<div class="line"><span class="comment">#  [1 9]]</span></div>
<div class="line">print(np.sort(a,axis=<span class="number">0</span>))</div>
<div class="line"><span class="comment"># [[3 1]</span></div>
<div class="line"><span class="comment">#  [9 7]]</span></div>
<div class="line">dt = np.dtype([(<span class="string">'name'</span>,  <span class="string">'S10'</span>),(<span class="string">'age'</span>,  int)])</div>
<div class="line">a = np.array([(<span class="string">"raju"</span>,<span class="number">21</span>),(<span class="string">"anil"</span>,<span class="number">25</span>),(<span class="string">"ravi"</span>,  <span class="number">17</span>),  (<span class="string">"amar"</span>,<span class="number">27</span>)], dtype = dt)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [(b'raju', 21) (b'anil', 25) (b'ravi', 17) (b'amar', 27)]</span></div>
<div class="line">print(np.sort(a,order=<span class="string">'name'</span>))</div>
<div class="line"><span class="comment"># [(b'amar', 27) (b'anil', 25) (b'raju', 21) (b'ravi', 17)]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-argsort"><a href="#numpy-argsort" class="headerlink" title="numpy.argsort()"></a>numpy.argsort()</h2><p><code>numpy.argsort()</code>函数对输入数组沿给定轴执行间接排序，并使用指定排序类型返回数据的索引数组。 这个索引数组用于构造排序后的数组。</p>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-24 at 8.42.56 PM.png" alt="Screen Shot 2018-06-24 at 8.42.56 PM"></p>
<h2 id="numpy-lexsort"><a href="#numpy-lexsort" class="headerlink" title="numpy.lexsort()"></a>numpy.lexsort()</h2><p>用于对多个序列进行排序。把它想象成对电子表格进行排序，每一列代表一个序列，排序时优先照顾靠后的列。这里举一个应用场景：小升初考试，重点班录取学生按照总成绩录取。在总成绩相同时，数学成绩高的优先录取，在总成绩和数学成绩都相同时，按照英语成绩录取…… 这里，总成绩排在电子表格的最后一列，数学成绩在倒数第二列，英语成绩在倒数第三列。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"></div>
<div class="line">surnames =    (<span class="string">'Hertz'</span>,    <span class="string">'Galilei'</span>, <span class="string">'Hertz'</span>)</div>
<div class="line">first_names = (<span class="string">'Heinrich'</span>, <span class="string">'Galileo'</span>, <span class="string">'Gustav'</span>)</div>
<div class="line">ind = np.lexsort((first_names, surnames))</div>
<div class="line">print(ind)</div>
<div class="line"><span class="comment"># [1 2 0]</span></div>
<div class="line">print([surnames[i] + <span class="string">", "</span> + first_names[i] <span class="keyword">for</span> i <span class="keyword">in</span> ind])</div>
<div class="line"><span class="comment"># ['Galilei, Galileo', 'Hertz, Gustav', 'Hertz, Heinrich']</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-argmax-argmin"><a href="#numpy-argmax-argmin" class="headerlink" title="numpy.argmax()/.argmin()"></a>numpy.argmax()/.argmin()</h2><p>这两个函数分别沿给定轴返回最大和最小元素的<strong>索引</strong>。</p>
<h2 id="numpy-nonzero"><a href="#numpy-nonzero" class="headerlink" title="numpy.nonzero()"></a>numpy.nonzero()</h2><p>返回输入数组中非零元素的索引。</p>
<h2 id="numpy-where"><a href="#numpy-where" class="headerlink" title="numpy.where()"></a>numpy.where()</h2><p>函数返回输入数组中满足给定条件的元素的<strong>索引</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.arange(<span class="number">9.</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</div>
<div class="line">print(x)</div>
<div class="line"><span class="comment"># [[0. 1. 2.]</span></div>
<div class="line"><span class="comment">#  [3. 4. 5.]</span></div>
<div class="line"><span class="comment">#  [6. 7. 8.]]</span></div>
<div class="line">y = np.where(x&gt;<span class="number">3</span>)</div>
<div class="line">print(y) <span class="comment">#总共有5个，第一个array是横坐标，第二个array是纵坐标</span></div>
<div class="line"><span class="comment"># (array([1, 1, 2, 2, 2]), array([1, 2, 0, 1, 2]))</span></div>
<div class="line">print(x[y])</div>
<div class="line"><span class="comment"># [4. 5. 6. 7. 8.]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-extract"><a href="#numpy-extract" class="headerlink" title="numpy.extract()"></a>numpy.extract()</h2><p>返回满足任何条件的元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">x = np.arange(<span class="number">9.</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</div>
<div class="line">print(x)</div>
<div class="line"><span class="comment"># [[0. 1. 2.]</span></div>
<div class="line"><span class="comment">#  [3. 4. 5.]</span></div>
<div class="line"><span class="comment">#  [6. 7. 8.]]</span></div>
<div class="line">con = np.mod(x,<span class="number">2</span>)==<span class="number">0</span></div>
<div class="line">print(np.extract(con,x))</div>
<div class="line"><span class="comment"># [0. 2. 4. 6. 8.]</span></div>
</pre></td></tr></table></figure>
<h1 id="NumPy副本和视图"><a href="#NumPy副本和视图" class="headerlink" title="NumPy副本和视图"></a>NumPy副本和视图</h1><p>在执行函数时，其中一些返回输入数组的副本，而另一些返回视图。 当内容物理存储在另一个位置时，称为<strong>副本</strong>。 另一方面，如果提供了相同内存内容的不同视图，我们将其称为<strong>视图</strong>。</p>
<h2 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h2><p>简单的赋值不会创建数组对象的副本，一个数组的任何变化都反映在另一个数组上。 例如，一个数组的形状改变也会改变另一个数组的形状。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.arange(<span class="number">6</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [0 1 2 3 4 5]</span></div>
<div class="line">b=a</div>
<div class="line">b[<span class="number">0</span>] = <span class="number">111</span></div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [111   1   2   3   4   5]</span></div>
<div class="line">b.shape=<span class="number">3</span>,<span class="number">2</span></div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[0 1]</span></div>
<div class="line"><span class="comment">#  [2 3]</span></div>
<div class="line"><span class="comment">#  [4 5]]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>改变值，改变维度</p>
</blockquote>
<h2 id="浅复制"><a href="#浅复制" class="headerlink" title="浅复制"></a>浅复制</h2><p>NumPy 拥有<code>ndarray.view()</code>方法，它是一个新的数组对象，并<strong>可查看原始数组的相同数据</strong>。 与前一种情况不同，新数组的维数更改不会更改原始数据的维数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.arange(<span class="number">6</span>).reshape(<span class="number">2</span>,<span class="number">3</span>)</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[0 1 2]</span></div>
<div class="line"><span class="comment">#  [3 4 5]]</span></div>
<div class="line">b=a.view()</div>
<div class="line">b[<span class="number">0</span>] = <span class="number">111</span></div>
<div class="line">b.shape=<span class="number">3</span>,<span class="number">2</span></div>
<div class="line">print(b)</div>
<div class="line"><span class="comment"># [[111 111]</span></div>
<div class="line"><span class="comment">#  [111   3]</span></div>
<div class="line"><span class="comment">#  [  4   5]]</span></div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[111 111 111]</span></div>
<div class="line"><span class="comment">#  [  3   4   5]]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>改变值，不改变维度</p>
</blockquote>
<p>数组的切片也会创建视图：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
<div class="line">15</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">10</span>,<span class="number">10</span>],  [<span class="number">2</span>,<span class="number">3</span>],  [<span class="number">4</span>,<span class="number">5</span>]])</div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[10 10]</span></div>
<div class="line"><span class="comment">#  [ 2  3]</span></div>
<div class="line"><span class="comment">#  [ 4  5]]</span></div>
<div class="line">s = a[:<span class="number">2</span>,:]</div>
<div class="line">s[<span class="number">0</span>]=<span class="number">-111</span></div>
<div class="line">print(s)</div>
<div class="line"><span class="comment"># [[-111 -111]</span></div>
<div class="line"><span class="comment">#  [   2    3]]</span></div>
<div class="line">print(a)</div>
<div class="line"><span class="comment"># [[-111 -111]</span></div>
<div class="line"><span class="comment">#  [   2    3]</span></div>
<div class="line"><span class="comment">#  [   4    5]]</span></div>
</pre></td></tr></table></figure>
<h2 id="深复制"><a href="#深复制" class="headerlink" title="深复制"></a>深复制</h2><p><code>ndarray.copy()</code>函数创建一个深层副本。 它是数组及其数据的完整副本，不与原始数组共享。</p>
<p><code>b=a.copy()</code>:不改变数据，不改变维度</p>
<h1 id="NumPy矩阵库"><a href="#NumPy矩阵库" class="headerlink" title="NumPy矩阵库"></a>NumPy矩阵库</h1><p>NumPy 包包含一个 Matrix库<code>numpy.matlib</code>。此模块的函数返回矩阵而不是返回<code>ndarray</code>对象。</p>
<h2 id="numpy-matlib-empty"><a href="#numpy-matlib-empty" class="headerlink" title="numpy.matlib.empty()"></a>numpy.matlib.empty()</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-25 at 12.11.39 PM.png" alt="Screen Shot 2018-06-25 at 12.11.39 PM"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="keyword">import</span> numpy.matlib</div>
<div class="line">print(np.matlib.empty((<span class="number">2</span>,<span class="number">3</span>)))</div>
<div class="line"><span class="comment"># [[-1.72723371e-077  3.11109888e+231  1.48219694e-323]</span></div>
<div class="line"><span class="comment">#  [ 0.00000000e+000  0.00000000e+000  4.17201348e-309]]</span></div>
</pre></td></tr></table></figure>
<blockquote>
<p>填充随机值</p>
</blockquote>
<h2 id="numpy-matlib-zeros"><a href="#numpy-matlib-zeros" class="headerlink" title="numpy.matlib.zeros()"></a>numpy.matlib.zeros()</h2><p>以零填充矩阵</p>
<h2 id="numpy-matlib-ones"><a href="#numpy-matlib-ones" class="headerlink" title="numpy.matlib.ones()"></a>numpy.matlib.ones()</h2><p>以一填充矩阵</p>
<h2 id="numpy-matlib-eye"><a href="#numpy-matlib-eye" class="headerlink" title="numpy.matlib.eye()"></a>numpy.matlib.eye()</h2><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-26 at 9.35.31 AM.png" alt="Screen Shot 2018-06-26 at 9.35.31 AM"></p>
<p><code>k</code>:Index of the diagonal: 0 refers to the main diagonal, a positive value refers to an upper diagonal, and a negative value to a lower diagonal. k的值设置对角元素的位置。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
<div class="line">9</div>
<div class="line">10</div>
<div class="line">11</div>
<div class="line">12</div>
<div class="line">13</div>
<div class="line">14</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="keyword">import</span> numpy.matlib</div>
<div class="line">print(np.matlib.eye(n =  <span class="number">3</span>, M =  <span class="number">4</span>, k=<span class="number">0</span>,dtype =  float))</div>
<div class="line"><span class="comment"># [[1. 0. 0. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 1. 0. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 0. 1. 0.]]</span></div>
<div class="line">print(np.matlib.eye(n =  <span class="number">3</span>, M =  <span class="number">4</span>, k=<span class="number">1</span>,dtype =  float))</div>
<div class="line"><span class="comment"># [[0. 1. 0. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 0. 1. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 0. 0. 1.]]</span></div>
<div class="line">print(np.matlib.eye(n =  <span class="number">3</span>, M =  <span class="number">4</span>, k=<span class="number">-1</span>,dtype =  float))</div>
<div class="line"><span class="comment"># [[0. 0. 0. 0.]</span></div>
<div class="line"><span class="comment">#  [1. 0. 0. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 1. 0. 0.]]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-matlib-identity"><a href="#numpy-matlib-identity" class="headerlink" title="numpy.matlib.identity()"></a>numpy.matlib.identity()</h2><p>返回给定大小的单位矩阵。单位矩阵是主对角线元素都为 1 的方阵。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
<div class="line">7</div>
<div class="line">8</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="keyword">import</span> numpy.matlib</div>
<div class="line">print(np.matlib.identity(<span class="number">5</span>))</div>
<div class="line"><span class="comment"># [[1. 0. 0. 0. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 1. 0. 0. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 0. 1. 0. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 0. 0. 1. 0.]</span></div>
<div class="line"><span class="comment">#  [0. 0. 0. 0. 1.]]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-matlib-rand"><a href="#numpy-matlib-rand" class="headerlink" title="numpy.matlib.rand()"></a>numpy.matlib.rand()</h2><p>返回给定大小的填充随机值的矩阵。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="keyword">import</span> numpy.matlib</div>
<div class="line">print(np.matlib.rand(<span class="number">3</span>,<span class="number">3</span>))</div>
<div class="line"><span class="comment"># [[0.72845877 0.93067466 0.57828842]</span></div>
<div class="line"><span class="comment">#  [0.6117656  0.29529873 0.62999305]</span></div>
<div class="line"><span class="comment">#  [0.76468178 0.18484781 0.96084426]]</span></div>
</pre></td></tr></table></figure>
<h2 id="矩阵与数组互换"><a href="#矩阵与数组互换" class="headerlink" title="矩阵与数组互换"></a>矩阵与数组互换</h2><p>np.asarray()和np.asmatrix()</p>
<h1 id="NumPy线性代数"><a href="#NumPy线性代数" class="headerlink" title="NumPy线性代数"></a>NumPy线性代数</h1><p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-26 at 9.50.26 AM.png" alt="Screen Shot 2018-06-26 at 9.50.26 AM"></p>
<blockquote>
<p>wise_element乘法：</p>
<p>向量点积、点乘、內积、数量积：对应位相乘后求和，结果是一个标量</p>
<p>矩阵乘法：numpy.dot() 、numpy.matmul()</p>
</blockquote>
<h2 id="numpy-dot"><a href="#numpy-dot" class="headerlink" title="numpy.dot()"></a>numpy.dot()</h2><p>此函数返回两个数组的点积。 对于二维向量，其等效于矩阵乘法。 对于一维数组，它是向量的内积。 对于 N 维数组，它是<code>a</code>的最后一个轴上的和与<code>b</code>的倒数第二个轴的乘积。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</div>
<div class="line">b = np.array([[<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>]])</div>
<div class="line">print(np.dot(a,b))</div>
<div class="line"><span class="comment"># [[37 40]</span></div>
<div class="line"><span class="comment">#  [85 92]]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-vdot"><a href="#numpy-vdot" class="headerlink" title="numpy.vdot()"></a>numpy.vdot()</h2><p>此函数返回两个向量的点积。多维向量会被展开成一维。即 (1 X d) * (d X 1) = [1,1]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</div>
<div class="line">b = np.array([[<span class="number">11</span>,<span class="number">12</span>],[<span class="number">13</span>,<span class="number">14</span>]])</div>
<div class="line">print(np.vdot(a,b))</div>
<div class="line"><span class="comment"># 130</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-inner"><a href="#numpy-inner" class="headerlink" title="numpy.inner()"></a>numpy.inner()</h2><p>此函数返回一维数组的向量内积。 对于更高的维度，它返回最后一个轴上的和的乘积。</p>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-26 at 3.40.41 PM.png" alt="Screen Shot 2018-06-26 at 3.40.41 PM"></p>
<h2 id="numpy-matmul"><a href="#numpy-matmul" class="headerlink" title="numpy.matmul()"></a>numpy.matmul()</h2><p>返回两个数组的矩阵乘积</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
<div class="line">6</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">a = [[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>]]</div>
<div class="line">b = [[<span class="number">4</span>,<span class="number">1</span>],[<span class="number">2</span>,<span class="number">2</span>]]</div>
<div class="line">print(np.matmul(a,b))</div>
<div class="line"><span class="comment"># [[4 1]</span></div>
<div class="line"><span class="comment">#  [2 2]]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-linalg-det"><a href="#numpy-linalg-det" class="headerlink" title="numpy.linalg.det()"></a>numpy.linalg.det()</h2><p>计算输入矩阵的行列式</p>
<h2 id="numpy-linalg-solve"><a href="#numpy-linalg-solve" class="headerlink" title="numpy.linalg.solve()"></a>numpy.linalg.solve()</h2><p>给出了矩阵形式的线性方程的解。</p>
<p><img src="/2018/06/15/ML-NumPy/Screen Shot 2018-06-26 at 3.49.39 PM.png" alt="Screen Shot 2018-06-26 at 3.49.39 PM"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">A = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">5</span>,<span class="number">-1</span>]]</div>
<div class="line">B = [<span class="number">6</span>,<span class="number">-4</span>,<span class="number">27</span>]</div>
<div class="line">print(np.linalg.solve(A,B))</div>
<div class="line"><span class="comment"># [ 5.  3. -2.]</span></div>
</pre></td></tr></table></figure>
<h2 id="numpy-linalg-inv"><a href="#numpy-linalg-inv" class="headerlink" title="numpy.linalg.inv()"></a>numpy.linalg.inv()</h2><p>求解逆矩阵</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
</pre></td><td class="code"><pre><div class="line">np.linalg.inv(x)</div>
</pre></td></tr></table></figure>
<h1 id="NumPy的IO文件操作"><a href="#NumPy的IO文件操作" class="headerlink" title="NumPy的IO文件操作"></a>NumPy的IO文件操作</h1><ul>
<li><code>load()</code>和<code>save()</code>函数处理 numPy 二进制文件(带<code>npy</code>扩展名)</li>
<li><code>loadtxt()</code>和<code>savetxt()</code>函数处理正常的文本文件</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
<div class="line">5</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line">A = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>,<span class="number">5</span>],[<span class="number">2</span>,<span class="number">5</span>,<span class="number">-1</span>]]</div>
<div class="line">a = np.array(A)</div>
<div class="line">np.save(<span class="string">'result'</span>,a) <span class="comment">##文件名是"result.npy"</span></div>
<div class="line">b = np.load(<span class="string">'result.npy'</span>)</div>
</pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div>
<div class="line">2</div>
<div class="line">3</div>
<div class="line">4</div>
</pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </div>
<div class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]) </div>
<div class="line">np.savetxt(<span class="string">'out.txt'</span>,a) </div>
<div class="line">b = np.loadtxt(<span class="string">'out.txt'</span>)</div>
</pre></td></tr></table></figure>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python/" rel="tag"># Python</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/06/10/DP-Related-Paper/" rel="next" title="DP - Related Paper">
                <i class="fa fa-chevron-left"></i> DP - Related Paper
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/06/19/DM-Collaborative-Filtering/" rel="prev" title="DM-Collaborative Filtering">
                DM-Collaborative Filtering <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Qing Wong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">88</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">66</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#混淆速记"><span class="nav-number">1.</span> <span class="nav-text">混淆速记</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#np-max-np-maximum"><span class="nav-number">1.1.</span> <span class="nav-text">np.max, np.maximum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#np-random-normal-np-ranodm-normn"><span class="nav-number">1.2.</span> <span class="nav-text">np.random.normal, np.ranodm.normn</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dot，outer，"><span class="nav-number">1.3.</span> <span class="nav-text">dot，outer，*</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ndarray对象"><span class="nav-number">2.</span> <span class="nav-text">Ndarray对象</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#一维数组"><span class="nav-number">2.1.</span> <span class="nav-text">一维数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二维数组"><span class="nav-number">2.2.</span> <span class="nav-text">二维数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组属性"><span class="nav-number">2.3.</span> <span class="nav-text">数组属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ndarray-shape"><span class="nav-number">2.3.1.</span> <span class="nav-text">ndarray.shape</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数组创建"><span class="nav-number">3.</span> <span class="nav-text">数组创建</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-empty"><span class="nav-number">3.1.</span> <span class="nav-text">numpy.empty()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-zeros"><span class="nav-number">3.2.</span> <span class="nav-text">numpy.zeros()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-ones"><span class="nav-number">3.3.</span> <span class="nav-text">numpy.ones()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-asarray"><span class="nav-number">3.4.</span> <span class="nav-text">numpy.asarray()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-fromiter"><span class="nav-number">3.5.</span> <span class="nav-text">numpy.fromiter()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-arange"><span class="nav-number">3.6.</span> <span class="nav-text">numpy.arange()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-linspace"><span class="nav-number">3.7.</span> <span class="nav-text">numpy.linspace</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-logspace"><span class="nav-number">3.8.</span> <span class="nav-text">numpy.logspace()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#切片和索引"><span class="nav-number">4.</span> <span class="nav-text">切片和索引</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#切片"><span class="nav-number">4.1.</span> <span class="nav-text">切片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#高级索引"><span class="nav-number">4.2.</span> <span class="nav-text">高级索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#整数索引"><span class="nav-number">4.3.</span> <span class="nav-text">整数索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#布尔索引"><span class="nav-number">4.4.</span> <span class="nav-text">布尔索引</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy广播"><span class="nav-number">5.</span> <span class="nav-text">NumPy广播</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Scalar-and-One-Dimensional-Array"><span class="nav-number">5.1.</span> <span class="nav-text">Scalar and One-Dimensional Array</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Scalar-and-Two-Dimensional-Array"><span class="nav-number">5.2.</span> <span class="nav-text">Scalar and Two-Dimensional Array</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#One-Dimensional-and-Two-Dimensional-Arrays"><span class="nav-number">5.3.</span> <span class="nav-text">One-Dimensional and Two-Dimensional Arrays</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Definition"><span class="nav-number">5.4.</span> <span class="nav-text">Definition</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Example"><span class="nav-number">5.4.1.</span> <span class="nav-text">Example</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy数组迭代"><span class="nav-number">6.</span> <span class="nav-text">NumPy数组迭代</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#迭代顺序"><span class="nav-number">6.1.</span> <span class="nav-text">迭代顺序</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy数组操作"><span class="nav-number">7.</span> <span class="nav-text">NumPy数组操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#修改数组形状"><span class="nav-number">7.1.</span> <span class="nav-text">修改数组形状</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-reshape"><span class="nav-number">7.1.1.</span> <span class="nav-text">numpy.reshape</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-ndarray-flat"><span class="nav-number">7.1.2.</span> <span class="nav-text">numpy.ndarray.flat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-ndarray-flatten"><span class="nav-number">7.1.3.</span> <span class="nav-text">numpy.ndarray.flatten</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-ravel"><span class="nav-number">7.1.4.</span> <span class="nav-text">numpy.ravel</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组翻转"><span class="nav-number">7.2.</span> <span class="nav-text">数组翻转</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-transpose"><span class="nav-number">7.2.1.</span> <span class="nav-text">numpy.transpose()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-ndarray-T"><span class="nav-number">7.2.2.</span> <span class="nav-text">numpy.ndarray.T</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-rollaxis"><span class="nav-number">7.2.3.</span> <span class="nav-text">numpy.rollaxis()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-swapaxes"><span class="nav-number">7.2.4.</span> <span class="nav-text">numpy.swapaxes()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#修改维度"><span class="nav-number">7.3.</span> <span class="nav-text">修改维度</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-expand-dims"><span class="nav-number">7.3.1.</span> <span class="nav-text">numpy.expand_dims()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-squeeze"><span class="nav-number">7.3.2.</span> <span class="nav-text">numpy.squeeze()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组连接"><span class="nav-number">7.4.</span> <span class="nav-text">数组连接</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-concatenate"><span class="nav-number">7.4.1.</span> <span class="nav-text">numpy.concatenate()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-stack"><span class="nav-number">7.4.2.</span> <span class="nav-text">numpy.stack()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组分割"><span class="nav-number">7.5.</span> <span class="nav-text">数组分割</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-split"><span class="nav-number">7.5.1.</span> <span class="nav-text">numpy.split()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#元素添加-删除"><span class="nav-number">7.6.</span> <span class="nav-text">元素添加/删除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-resize"><span class="nav-number">7.6.1.</span> <span class="nav-text">numpy.resize()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-append"><span class="nav-number">7.6.2.</span> <span class="nav-text">numpy.append()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-insert"><span class="nav-number">7.6.3.</span> <span class="nav-text">numpy.insert()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-delete"><span class="nav-number">7.6.4.</span> <span class="nav-text">numpy.delete()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#numpy-unique"><span class="nav-number">7.6.5.</span> <span class="nav-text">numpy.unique()</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy位操作"><span class="nav-number">8.</span> <span class="nav-text">NumPy位操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#bitwise-and"><span class="nav-number">8.1.</span> <span class="nav-text">bitwise_and()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#bitwise-or"><span class="nav-number">8.2.</span> <span class="nav-text">bitwise_or()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#left-shift"><span class="nav-number">8.3.</span> <span class="nav-text">left_shift()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#right-shift"><span class="nav-number">8.4.</span> <span class="nav-text">right_shift()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy字符串函数"><span class="nav-number">9.</span> <span class="nav-text">NumPy字符串函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-add"><span class="nav-number">9.1.</span> <span class="nav-text">numpy.char.add()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-multiply"><span class="nav-number">9.2.</span> <span class="nav-text">numpy.char.multiply()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-center"><span class="nav-number">9.3.</span> <span class="nav-text">numpy.char.center()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-capitalize"><span class="nav-number">9.4.</span> <span class="nav-text">numpy.char.capitalize()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-title"><span class="nav-number">9.5.</span> <span class="nav-text">numpy.char.title()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-lower"><span class="nav-number">9.6.</span> <span class="nav-text">numpy.char.lower()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-upper"><span class="nav-number">9.7.</span> <span class="nav-text">numpy.char.upper()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-split"><span class="nav-number">9.8.</span> <span class="nav-text">numpy.char.split()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-splitlines"><span class="nav-number">9.9.</span> <span class="nav-text">numpy.char.splitlines()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-strip"><span class="nav-number">9.10.</span> <span class="nav-text">numpy.char.strip()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-join"><span class="nav-number">9.11.</span> <span class="nav-text">numpy.char.join()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-char-replace"><span class="nav-number">9.12.</span> <span class="nav-text">numpy.char.replace()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy算数函数"><span class="nav-number">10.</span> <span class="nav-text">NumPy算数函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#三角函数"><span class="nav-number">10.1.</span> <span class="nav-text">三角函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#舍入函数"><span class="nav-number">10.2.</span> <span class="nav-text">舍入函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-floor-ceil"><span class="nav-number">10.3.</span> <span class="nav-text">numpy.floor()/.ceil()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy算数运算"><span class="nav-number">11.</span> <span class="nav-text">NumPy算数运算</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-reciprocal"><span class="nav-number">11.1.</span> <span class="nav-text">numpy.reciprocal()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-power"><span class="nav-number">11.2.</span> <span class="nav-text">numpy.power()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-mod"><span class="nav-number">11.3.</span> <span class="nav-text">numpy.mod()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy统计函数"><span class="nav-number">12.</span> <span class="nav-text">NumPy统计函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-amin-amax"><span class="nav-number">12.1.</span> <span class="nav-text">numpy.amin()/.amax()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-ptp"><span class="nav-number">12.2.</span> <span class="nav-text">numpy.ptp()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-percentile"><span class="nav-number">12.3.</span> <span class="nav-text">numpy.percentile()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-median"><span class="nav-number">12.4.</span> <span class="nav-text">numpy.median()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-mean"><span class="nav-number">12.5.</span> <span class="nav-text">numpy.mean()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-average"><span class="nav-number">12.6.</span> <span class="nav-text">numpy.average()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-std"><span class="nav-number">12.7.</span> <span class="nav-text">numpy.std()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-var"><span class="nav-number">12.8.</span> <span class="nav-text">numpy.var()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy排序、搜索和计数"><span class="nav-number">13.</span> <span class="nav-text">NumPy排序、搜索和计数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-sort"><span class="nav-number">13.1.</span> <span class="nav-text">numpy.sort()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-argsort"><span class="nav-number">13.2.</span> <span class="nav-text">numpy.argsort()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-lexsort"><span class="nav-number">13.3.</span> <span class="nav-text">numpy.lexsort()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-argmax-argmin"><span class="nav-number">13.4.</span> <span class="nav-text">numpy.argmax()/.argmin()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-nonzero"><span class="nav-number">13.5.</span> <span class="nav-text">numpy.nonzero()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-where"><span class="nav-number">13.6.</span> <span class="nav-text">numpy.where()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-extract"><span class="nav-number">13.7.</span> <span class="nav-text">numpy.extract()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy副本和视图"><span class="nav-number">14.</span> <span class="nav-text">NumPy副本和视图</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#赋值"><span class="nav-number">14.1.</span> <span class="nav-text">赋值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#浅复制"><span class="nav-number">14.2.</span> <span class="nav-text">浅复制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#深复制"><span class="nav-number">14.3.</span> <span class="nav-text">深复制</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy矩阵库"><span class="nav-number">15.</span> <span class="nav-text">NumPy矩阵库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-matlib-empty"><span class="nav-number">15.1.</span> <span class="nav-text">numpy.matlib.empty()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-matlib-zeros"><span class="nav-number">15.2.</span> <span class="nav-text">numpy.matlib.zeros()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-matlib-ones"><span class="nav-number">15.3.</span> <span class="nav-text">numpy.matlib.ones()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-matlib-eye"><span class="nav-number">15.4.</span> <span class="nav-text">numpy.matlib.eye()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-matlib-identity"><span class="nav-number">15.5.</span> <span class="nav-text">numpy.matlib.identity()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-matlib-rand"><span class="nav-number">15.6.</span> <span class="nav-text">numpy.matlib.rand()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#矩阵与数组互换"><span class="nav-number">15.7.</span> <span class="nav-text">矩阵与数组互换</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy线性代数"><span class="nav-number">16.</span> <span class="nav-text">NumPy线性代数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-dot"><span class="nav-number">16.1.</span> <span class="nav-text">numpy.dot()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-vdot"><span class="nav-number">16.2.</span> <span class="nav-text">numpy.vdot()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-inner"><span class="nav-number">16.3.</span> <span class="nav-text">numpy.inner()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-matmul"><span class="nav-number">16.4.</span> <span class="nav-text">numpy.matmul()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-linalg-det"><span class="nav-number">16.5.</span> <span class="nav-text">numpy.linalg.det()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-linalg-solve"><span class="nav-number">16.6.</span> <span class="nav-text">numpy.linalg.solve()</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy-linalg-inv"><span class="nav-number">16.7.</span> <span class="nav-text">numpy.linalg.inv()</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NumPy的IO文件操作"><span class="nav-number">17.</span> <span class="nav-text">NumPy的IO文件操作</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qing Wong</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
