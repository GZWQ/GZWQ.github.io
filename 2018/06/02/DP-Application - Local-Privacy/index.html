<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Differential Privacy," />










<meta name="description" content="Q? the communication cost of $n$ users for Bassily and Smith is $log_2(n)$ the communication cost of $n$ users for k-rr is $log_2d$ [Optimizing Locally Differentially Private Protocols] remains : what">
<meta name="keywords" content="Differential Privacy">
<meta property="og:type" content="article">
<meta property="og:title" content="DP Application - Local Privacy">
<meta property="og:url" content="http://yoursite.com/2018/06/02/DP-Application - Local-Privacy/index.html">
<meta property="og:site_name" content="Blog of Qing">
<meta property="og:description" content="Q? the communication cost of $n$ users for Bassily and Smith is $log_2(n)$ the communication cost of $n$ users for k-rr is $log_2d$ [Optimizing Locally Differentially Private Protocols] remains : what">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-11%20at%2010.16.20%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-04%20at%2011.16.07%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-05%20at%209.06.11%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-05%20at%209.12.44%20PM%202.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-05%20at%209.15.49%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-05%20at%209.22.05%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-05%20at%204.51.03%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-13%20at%2010.32.15%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-09%20at%209.59.32%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-07%20at%205.52.05%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-09%20at%2010.07.38%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-13%20at%2010.58.58%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-09%20at%206.11.42%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-09%20at%206.14.45%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-09%20at%206.16.58%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-09%20at%206.20.05%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%205.46.48%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%208.53.53%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%208.54.36%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%208.55.44%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%208.56.40%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%208.57.14%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%2012.17.33%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%209.01.38%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-14%20at%209.04.19%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-12%20at%205.46.13%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-12%20at%206.09.06%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-12%20at%206.14.59%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-13%20at%2010.56.36%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-13%20at%2010.58.24%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-13%20at%2010.59.18%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-09%20at%2010.21.40%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-11%20at%2011.28.05%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-11%20at%2011.29.58%20AM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%209.41.00%20PM-8080101.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%209.42.49%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%209.44.09%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%209.49.04%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%209.55.59%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%209.57.20%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.04.58%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.08.06%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.08.45%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.13.26%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.21.19%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.22.12%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.22.22%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.26.21%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.27.39%20PM.png">
<meta property="og:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.28.02%20PM.png">
<meta property="og:updated_time" content="2018-06-27T21:42:20.872Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DP Application - Local Privacy">
<meta name="twitter:description" content="Q? the communication cost of $n$ users for Bassily and Smith is $log_2(n)$ the communication cost of $n$ users for k-rr is $log_2d$ [Optimizing Locally Differentially Private Protocols] remains : what">
<meta name="twitter:image" content="http://yoursite.com/2018/06/02/DP-Application%20-%20Local-Privacy/Screen%20Shot%202018-06-11%20at%2010.16.20%20PM.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"right","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/06/02/DP-Application - Local-Privacy/"/>





  <title>DP Application - Local Privacy | Blog of Qing</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Blog of Qing</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/02/DP-Application - Local-Privacy/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Qing Wong">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blog of Qing">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">DP Application - Local Privacy</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-02T16:22:23-05:00">
                2018-06-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Differential-Privacy/" itemprop="url" rel="index">
                    <span itemprop="name">Differential Privacy</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Q"><a href="#Q" class="headerlink" title="Q?"></a>Q?</h2><ol>
<li>the communication cost of $n$ users for Bassily and Smith is $log_2(n)$</li>
<li>the communication cost of $n$ users for k-rr is $log_2d$</li>
<li><a href="https://arxiv.org/pdf/1705.04421.pdf" target="_blank" rel="noopener">[Optimizing Locally Differentially Private Protocols]</a> remains : what is pure? THE protocol? BLH? Threshold $T_s$ in experiment and true/false positive?</li>
</ol>
<h2 id="T"><a href="#T" class="headerlink" title="T!"></a>T!</h2><ol>
<li>in order to optimize ldp protocol, tends to optimize encoding step,</li>
<li>using domain knowledge to elimate impossible candidates to narrow down the size of encoded input.<a href="https://arxiv.org/pdf/1708.06674.pdf" target="_blank" rel="noopener">Locally Differentially Private Heavy Hitter Identification</a></li>
<li></li>
</ol>
<p>Local differential privacy (LDP) techniques collects randomized answers from each user, with guarantees of plausible <a href="https://arxiv.org/pdf/1712.01524.pdf" target="_blank" rel="noopener">deniability</a>; meanwhile, the aggregator can still build accurate models and predictors by analyzing large amounts of such randomized data.</p>
<p>Unlike other models of differential privacy, which publish randomized aggregates but still collect the exact sensitive data, LDP avoids collecting exact personal information in the first place, thus providing a stronger assurance to the users and to the aggregator.</p>
<p>The well-established Laplace mechanism and exponential mechanism are no longer suitable to the local setting in which a user may have only a single element to release and laplace noise may introduce too much noise.  But unlike the laplace mechanism where we can use the noisy output directly, we need to do some estimation on the randomized output to get the estimator in LDP.<a href="https://davidyinyang.weebly.com/uploads/9/8/6/2/9862052/ccs16-ldp.pdf" target="_blank" rel="noopener">2016-Zhan</a></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-11 at 10.16.20 PM.png" alt="Screen Shot 2018-06-11 at 10.16.20 PM"></p>
<h2 id="Development-Track"><a href="#Development-Track" class="headerlink" title="Development Track"></a>Development Track</h2><p>Local differential privacy starts from randomized response. At first, it collects <strong>binary categorical data</strong> from clients with <u>W-RR</u> algorithm. Then, polybasic categorical data is considered with solutions like <u>K-RR</u> and <u>K-RAPPOR</u> methods. After that, <u>Random Matrix Projection</u> is proposed for dealling with extremely large categorical data in the practical setting. </p>
<p>Since the method above is limited to categorical data, so <a href="https://arxiv.org/pdf/1302.3203.pdf" target="_blank" rel="noopener">[Duchi et al.]</a> proposed for <strong>numeric data</strong> and details algorithm is in <a href="https://arxiv.org/pdf/1606.05053.pdf" target="_blank" rel="noopener">[Collecting and Analyzing Data from Smart Device Users with Local Differential Privacy]</a> and based on Duchi, <u>harmony algorithm</u> is developed. </p>
<p>The most methods above assmue that each client only has one value, so the mechanism for <u>set-value</u> setting is proposed <a href="https://davidyinyang.weebly.com/uploads/9/8/6/2/9862052/ccs16-ldp.pdf" target="_blank" rel="noopener">[Heavy Hitter Estimation over Set-Valued Data with Local Differential Privacy]</a>.</p>
<p>And in real world, the collecting process in the client end happens frequently, like daily or every few hours. So methods for <strong>data collecting regularly</strong> is proposed like <u>RAPPOR</u> and <a href="https://arxiv.org/pdf/1712.01524.pdf" target="_blank" rel="noopener">[Collecting Telemetry Data Privately]</a></p>
<p>Recently, a mechanism for computing <strong>joint distribution</strong> of data attributes collected by LDP is proposed in <a href="https://arxiv.org/pdf/1503.01214.pdf" target="_blank" rel="noopener">[Building a RAPPOR with the Unknown- Privacy-Preserving Learning of Associations and Data Dictionaries 12.45.24 PM]</a> and <a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?tp=&amp;arnumber=8306916" target="_blank" rel="noopener">[LoPub: High-Dimensional Crowdsourced Data Publication With Local Differential Privacy]</a></p>
<a id="more"></a>
<h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-04 at 11.16.07 AM.png" alt="Screen Shot 2018-06-04 at 11.16.07 AM"></p>
<blockquote>
<ol>
<li>According to the above definition, the aggregator, who receives the perturbed tuple $t*$ , cannot distinguish whether the true tuple is $t$ or another tuple $t$ with high confidence (controlled by parameter $\epsilon$), regardless of the background information of the aggregator.</li>
<li>There is no neighbour databases in the local-DP; instead, for a local user, all pairs of his values should be undistinguished by using the mechanism.</li>
<li>While LDP provides rigorous privacy protection in the local setting, its drawback is on the utility side. In real-world applications, where the universe size $Dom(f)$ is large, achieving a reasonable trade-off between privacy and utility under LDP is almost a chimera. For example, in location protection, $Dom(f)$ is all possible locations of a user, which could be extremely large.</li>
</ol>
</blockquote>
<h2 id="Comparison-With-Standard-DP"><a href="#Comparison-With-Standard-DP" class="headerlink" title="Comparison With Standard DP"></a><a href="https://arxiv.org/pdf/1805.01456.pdf" target="_blank" rel="noopener">Comparison With Standard DP</a></h2><h3 id="Standard-DP"><a href="#Standard-DP" class="headerlink" title="Standard DP"></a>Standard DP</h3><p>More precisely, let $M$ be a (noisy) mechanism for answering a certain query on a generic database $D$, and let $P[M(D) \in S]$ denote the probability that the answer given by $M$ to the query, on $D$, is in the (measurable) set of values $S$. We say that $M$ is $\epsilon$-differentially private if for every pairs of adjacent databases $D$ and $D’$ (i.e., differing only for the value of a single individual), and for every measurable set $S$, we have $P[M(D) \in S] ≤ e^{\epsilon}P[M(D’) \in S]$. </p>
<h3 id="LDP"><a href="#LDP" class="headerlink" title="LDP"></a>LDP</h3><p>Technically, an obfuscation mechanism $M$ is locally differentially private with privacy level $\epsilon$ if for every pair of input values $x$, $x’$ $\in X$ (the set of possible values for the data of a generic user), and for every measurable set $S$, we have $P[M(x) \in S] ≤ e^{\epsilon} P[M(x 0 ) \in S]$. The idea is that the user provides $M(x)$ to the data collector, and not $x$.</p>
<h2 id="Mechanism"><a href="#Mechanism" class="headerlink" title="Mechanism"></a>Mechanism</h2><p><a href="https://arxiv.org/pdf/1602.07387.pdf" target="_blank" rel="noopener">2016-Peter</a></p>
<h3 id="Binary-Values"><a href="#Binary-Values" class="headerlink" title="Binary Values"></a>Binary Values</h3><h4 id="W-RR-Categorical-data"><a href="#W-RR-Categorical-data" class="headerlink" title="W-RR-Categorical data"></a>W-RR-Categorical data</h4><ol>
<li><p><strong>Probelm setting</strong></p>
<p>In the binary attribute setting, say each user has a data $x, x\in\{0,1\}$。Now the user ranodmly sends his data $x=0 \ or \  x=1$ with a probability.  </p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen%20Shot%202018-06-05%20at%209.06.11%20PM.png" alt="Screen Shot 2018-06-05 at 9.06.11 PM"></p>
<p>Now we want $P$ to ensure Local-DP and at the same time achieve a good utility.</p>
</li>
<li><p><strong>Analysis</strong></p>
<p>Without loss of generality, we assume the randomized response still favors the true value, i.e., $p_{00},p_{11}\gt{0.5}$；At the same time, $\frac{p_{00}}{p_{01}}\le{e^\epsilon}$ to ensure differential privacy.</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-05 at 9.12.44 PM 2.png" alt="Screen Shot 2018-06-05 at 9.12.44 PM 2"></p>
</li>
<li><p><strong>Conclusion</strong></p>
<p>So based on above proof, we can get the transit matrix:</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen%20Shot%202018-06-05%20at%209.15.49%20PM.png" alt="Screen Shot 2018-06-05 at 9.15.49 PM"></p>
<blockquote>
<ol>
<li>W-RR (Warner’s randomized response model) is optimal for binary distribution minimax estimation.</li>
<li>For all binary distributions $p$, all loss functions $l$, and all privacy levels $\epsilon$, $Q_{WRR}$ is the optimal solution to the private minimax distribution estimation problem.</li>
</ol>
</blockquote>
</li>
<li><p><strong>Utility</strong></p>
<blockquote>
<ul>
<li><p>Each user reports her true answer $t$ with probability $p$, and a random answer with probability $1 − p$. The latter has the same probability to be −1 and +1, whose expected value is zero. Therefore, the expected value for ui’s reported value is $p \times t$; thus, we can obtain an unbiased estimate of true answer by multiplying the reported value by a scaling factor $c = 1/p$. </p>
<p>$p_{00}=p+(1-p)*(1/2)\ \to \ p=\frac{e^\epsilon -1}{e^\epsilon +1}$.</p>
<p>So each user reports his random value in the following way to get an unbiased estimator:</p>
<script type="math/tex; mode=display">
t^*=
\left\{
\begin{align} 
&c\times t=\frac{e^\epsilon +1}{e^\epsilon -1}\times t  & \textrm{Pr=p+(1-p)/2}=\frac{e^\epsilon }{e^\epsilon +1} \\
&-c\times t=-\frac{e^\epsilon +1}{e^\epsilon -1}\times t  & \textrm{Pr=(1-p)/2}=\frac{1 }{e^\epsilon +1}
\end{align}
\right.</script></li>
<li><p>Once the aggregator receives all reported values for attribute $t$ , it computes the average over all users, which is an estimate of the mean value $\mathbb{E}[t]$ for $t$. Since $t$ can be either $+1$ or $-1$, the the percentage of users with $+1$ is $\frac{1+\mathbb{E}[t]}{2}$ and +1 is $\frac{1-\mathbb{E}[t]}{2}$</p>
</li>
</ul>
</blockquote>
</li>
</ol>
<h3 id="Polychotomous-Values"><a href="#Polychotomous-Values" class="headerlink" title="Polychotomous Values"></a>Polychotomous Values</h3><ol>
<li><p><strong>Problem setting</strong></p>
<p>Now we extend the question to multiple attributes and each user has a data $x, x\in\{0,1,2,…,t\}$。And the transit matrix is  </p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-05 at 9.22.05 PM.png" alt="Screen Shot 2018-06-05 at 9.22.05 PM"></p>
</li>
<li><p><strong>Solution</strong></p>
<ul>
<li><p><strong>K-ary Randomized Response</strong>-Categorical data</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-05 at 4.51.03 PM.png" alt="Screen Shot 2018-06-05 at 4.51.03 PM"></p>
<blockquote>
<p>Remarks:</p>
<ul>
<li>k-RR mechanism is optimal in the low privacy regime while suboptimal in high privacy regime.</li>
</ul>
</blockquote>
</li>
<li><p><strong>K-RAPPOR</strong>-Categorical data</p>
<p>The simplest version of RAPPOR, , called the basic one-time RAPPOR and referred to herein as k-RAPPO. There are several steps here.</p>
<blockquote>
<ol>
<li><p>data representaion</p>
<p>K-RAPPOR maps the input $X$ of size $k$ to an output $Y=\{0,1\}^k$ of size $2^k$. </p>
<p>Firstly, we map $X$ deterministically to $\widetilde{X}=R^k$, the $k$-dimensional Euclidean space, where $X=x_i \ (1\le{x_i}\le{k})$ and $\widetilde{X}=e_i\in\{0,1\}^k$. Specifically, it deterministically maps $X=x_i$ to $\widetilde{X}=e_i$, where $e_i$ is the $i$-th standard basis vector.</p>
<p>For example, $k=3$, and the input $X=\{x_1,x_2,x_3\}$, then $\widetilde{X}$  is $\{001,010,100\}$. And $x_1$ is represented as 1st data in $\widetilde{X}$, which is 001, $x_2$ is 2ed one 010. $x_3$ is 3rd one 100.</p>
</li>
<li><p>bit perturbation</p>
<p>In order to achieve $\epsilon$-locally differential privacy, we randomize the coordinates of $\widetilde{X}$ independently to obtain the private vector $Y\in\{0,1\}^k$. Formally, the $j^{th}$ coordinate of $Y$ is given by :</p>
<script type="math/tex; mode=display">
Y(i)=\begin{cases}
\widetilde{X}(i) \ \  \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ p=\frac{e^{\epsilon/2}}{1+e^{\epsilon/2}}
\\1-\widetilde{X}(i) \ \ \ \ \ \ \ \ \ \ \ \ q=1-\frac{e^{\epsilon/2}}{1+e^{\epsilon/2}}
\end{cases}</script></li>
<li><p>frequency estimation<a href="https://www.usenix.org/system/files/conference/usenixsecurity17/sec17-wang-tianhao.pdf" target="_blank" rel="noopener">[2017-Wang]</a></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-13 at 10.32.15 PM.png" alt="Screen Shot 2018-06-13 at 10.32.15 PM"></p>
</li>
</ol>
<p>Remarks:</p>
<ul>
<li>for two input, take $\{001.010,100\}$ as the example, the sensitivity is 2. Because for any two different input, the difference is 2 bits.</li>
<li>using w-rr as bit perturbation method</li>
<li>k-RAPPOR is a optimal privacy-preserving mechanism in high privacy regime while suboptimal in low privacy regime.</li>
</ul>
<p>Pros:</p>
<p>Cons:</p>
<ol>
<li>A main drawback of RAPPOR is its high communication overhead, i.e., each user needs to transmit d bits to the data collector, which can be expensive when the number of possible items d is large.</li>
</ol>
</blockquote>
</li>
<li><p>Random Matrix Projection<a href="https://arxiv.org/pdf/1504.04686.pdf" target="_blank" rel="noopener">[2015-Bassily]</a><a href="https://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=7498248" target="_blank" rel="noopener">[2016-Chen]</a><a href="https://arxiv.org/pdf/1705.04421.pdf" target="_blank" rel="noopener">[2017-Wang]</a><a href="https://arxiv.org/pdf/1606.05053.pdf" target="_blank" rel="noopener">[2016-Nguyen]</a>-Categorical data</p>
<p>Here, each attribute contains $k\ge2$ possible values and the aggregator aims to build a histogram that contains the estimated frequency for each of the $k$ possible values.</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-09 at 9.59.32 PM.png" alt="Screen Shot 2018-06-09 at 9.59.32 PM"></p>
<blockquote>
<p>Algorithm R: $\epsilon$-Basic Randomizer</p>
<ol>
<li><p>Assume that the number of possible values $d$ in the categorical attribute is far larger than the number of users $n$; hence, the method applies random projection to reduce the dimensionality from $d$ to $m$</p>
</li>
<li><p><strong>Encoding</strong></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-07 at 5.52.05 PM.png" alt="Screen Shot 2018-06-07 at 5.52.05 PM"></p>
<p>Encode($x$)=$\Phi[r,j]$, where $r$ r is selected uniformly at random from $\{1,2,…,m\}$ and $j$ is the index of $x$ in original dataset $\{x_1,x_2,…,x_d\}$.</p>
<p>So for each user, the return vector is  $m$-dimensional vector where $s^{th} $ entry is $z_j$ and others are 0, which means the true loc in $i^{th} $ pos is maped to $s^{th}$ pos.</p>
</li>
<li><p><strong>Aggregation</strong></p>
<p>After receive all $z_i$ from users, we compute $\hat{z}=\frac{1}{n}\sum_{i=1}^{n}z_i$, where $\hat{z}$ is a $m$-dimentional vector.</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-09 at 10.07.38 PM.png" alt="Screen Shot 2018-06-09 at 10.07.38 PM"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-13 at 10.58.58 PM.png" alt="Screen Shot 2018-06-13 at 10.58.58 PM"></p>
</li>
</ol>
<p>Remarks:</p>
<ol>
<li>We map the input domain with size $d$ to output domain with size $m$, where $m$ is determined through Johnson-Lindenstrauss Lemma.</li>
<li>$R$ is $\epsilon$-LDP for every choice of the index $s$</li>
<li>$R(x)=z_j$ is an unbiased estimator of $x$. That is, $\mathbb{E}[R(x)]=x$</li>
<li>when $d\ge n$, SH applies random projection on the data to reduce its dimensionality from d to $m = O(n)$ in a preprocessing step.</li>
<li>Assuming each user only has one item.</li>
</ol>
<p>Pros:</p>
<ol>
<li>the communication cost of SH between each user and the data collector is $O(1)$ rather than $O(d)$ as in RAPPOR.</li>
</ol>
<p>Cons:</p>
</blockquote>
</li>
<li><p><a href="https://arxiv.org/pdf/1606.05053.pdf" target="_blank" rel="noopener">Harmony-for-numeric</a>-Numeric data</p>
<blockquote>
<p>This method is to handle multiple numeric attributes. Say a user has a private tuple $t$, which contains $d$ attributes $A_1,A_2,…,A_d$. And assuming that each numeric attribute has a domain $[-1,1]$. And for numeric data, we try to calculate the mean of data.</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-09 at 6.11.42 PM.png" alt="Screen Shot 2018-06-09 at 6.11.42 PM"></p>
<p>Remarks:</p>
<ol>
<li><p>The return tuple $t^*_{i}$ has non-zero value on only one attribute $A_j(j\in [d])$ and this value is binary.</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-09 at 6.14.45 PM.png" alt="Screen Shot 2018-06-09 at 6.14.45 PM"></p>
</li>
<li><p>Algorithm 2 is $\epsilon$-LDP.</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-09 at 6.16.58 PM.png" alt="Screen Shot 2018-06-09 at 6.16.58 PM"></p>
</li>
<li><p>the estimator $\frac{1}{n}\sum^{n}_{i=1}t^*[A_j]$ is an unbiased estimator of the mean of $A_j$.</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-09 at 6.20.05 PM.png" alt="Screen Shot 2018-06-09 at 6.20.05 PM"></p>
</li>
</ol>
<ol>
<li>xx</li>
</ol>
</blockquote>
</li>
</ul>
</li>
</ol>
<h2 id="Summary-of-Mechanism"><a href="#Summary-of-Mechanism" class="headerlink" title="Summary of Mechanism"></a>Summary of Mechanism</h2><p><a href="https://arxiv.org/pdf/1705.04421.pdf" target="_blank" rel="noopener">[Locally Differentially Private Protocols for Frequency Estimation]</a> gives a comprehensive introduction of all kinds of mechanism. Here is the comparision among all methods.</p>
<h3 id="Problem-setting"><a href="#Problem-setting" class="headerlink" title="Problem setting"></a>Problem setting</h3><p>It generalizes all methods as the same protocol. We have a input domain $x\in\{1,2,…,d\}$. For each user holding data $x_i$ and he send his data as $x_i$ with probability </p>
<p>$p^*$ </p>
<p>and as others with probability as </p>
<p>$q^*$. </p>
<p>Intuitively, we want</p>
<p> $p^*$ </p>
<p>to be as large as possible, and </p>
<p>$q^*$</p>
<p> to be as small as possible. However, satisfying </p>
<p>$\epsilon$</p>
<p>-LDP requires that</p>
<p> $\frac{p^<em>}{q^</em>}\le e^{\epsilon }$.</p>
<p>And we want to know the number of people whose data is $x_i$ and we only observe $y\in\{y_1,y_2,…y_n\}$ where $y_i$ the number of people holding data $x_i$ and is counted based on the collected samples. </p>
<h3 id="Utility"><a href="#Utility" class="headerlink" title="Utility"></a>Utility</h3><h4 id="Estimator"><a href="#Estimator" class="headerlink" title="Estimator"></a>Estimator</h4><p>Assuming the numebr of participated users is $n$ and the true number of people holding data $x_i$ is $n_i$. For people holding $x_i$, his support to $y_i$ should be 1 and those holding other data contribute 0 to $y_i$. However, due to randomized operation, people having data $x_i$ contribute only $p^<em>\le1$ to $y_i$ while those not holding $x_i$ contribute $q^</em>\ge0$ to $y_i$. So for $n_i$ people who have $x_i$, the contribution to $y_i$ is $np<em>$ while for $(n-n_i)$ people who don’t have $x_i$, their contribution to $y_i$ is $(n-n_i)q^</em>$. So the $y_i$ can be :</p>
<script type="math/tex; mode=display">
y_i=n_ip^*+(n-n_i)q^*</script><p>since $y_i$ is known, the estimator for $n_i$ is:</p>
<script type="math/tex; mode=display">
\hat{n}_i=\frac{y_i-n*q^*}{p^* - q^*}</script><p>and this estimator is unbiased.</p>
<blockquote>
<p> To prove unbiased estimator, we need to prove $E(\hat n_i)=n_i$.</p>
<script type="math/tex; mode=display">
E(\hat n_i)=E(\frac{y_i-n*q^*}{p^* - q^*})</script><p>except $y_i$, all variables are constant, so </p>
<script type="math/tex; mode=display">
E(\hat n_i)=E(\frac{y_i-n*q^*}{p^* - q^*})=\frac{1}{p^*-q^*}(E(y_i)-n*q^*)</script><p>all we need to calculate is:</p>
<script type="math/tex; mode=display">
E(y_i)=E(n_ip^*+(n-n_i)q^*)=n_ip^*+(n-n_i)q^*=n_i(p^*-q^*)+nq^*</script><p>So, based on all above, we have</p>
<script type="math/tex; mode=display">
\begin{equation}
\begin{aligned}
E(\hat n_i)=&E(\frac{y_i-n*q^*}{p^* - q^*})\\
=&\frac{1}{p^*-q^*}(E(y_i)-n*q^*)\\
=&\frac{1}{p^*-q^*}(  n_ip^*+(n-n_i)q^*   -n*q^*)\\
=&n^i
\end{aligned}
\end{equation}</script></blockquote>
<h4 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h4><p>The variance of the estimator is a valuable indicator of an LDP protocol’s accuracy.</p>
<script type="math/tex; mode=display">
Var(\hat n_i)=\frac{nq^*(1-q^*)}{(p^*-q^*)^2}+\frac{n_i(1-p^*-q^*)}{p^*-q^*}</script><p>where $n_i$ is the true number of people who have data $x_i$</p>
<blockquote>
<p>For each user whose data is $x_i$, his sending data process is a Bernoulli process, sending data $x_i$ if $X_{Bernoulli}=1$ with probability $p^<em>$ and not sending $x_i$ if $X_{Bernoulli}=0$ with probability $1-p^</em>$. So his variance contributing to $n_i$ is $p<em>(1-p</em>)$. For users whose data is not $x_i$, it is also a Bernoulli process and the variance is $q^<em>(1-q^</em>)$. So $n_i$ users contribute $n_ip^<em>(1-p^</em>)$ and $(n-n_i)$ users contribute $(n-n_i)q^<em>(1-q^</em>)$</p>
<script type="math/tex; mode=display">
\begin{equation}

\begin{aligned}

Var(\hat n_i)&=Var(\frac{y_i-n*q^*}{p^* - q^*})\\

&=\frac{1}{(p^*-q^*)^2}Var(y_i)\\
&=\frac{1}{(p^*-q^*)^2}(Var(user_1)+Var(user_2)+...+Var(user_n))\\
&=\frac{nq^*(1-q^*)}{(p^*-q^*)^2}+\frac{n_i(1-p^*-q^*)}{p^*-q^*}
\end{aligned}

\end{equation}</script></blockquote>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 5.46.48 PM.png" alt="Screen Shot 2018-06-14 at 5.46.48 PM"></p>
<h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><ol>
<li><p><strong>DE</strong></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 8.53.53 PM.png" alt="Screen Shot 2018-06-14 at 8.53.53 PM"></p>
</li>
<li><p><strong>HE</strong></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 8.54.36 PM.png" alt="Screen Shot 2018-06-14 at 8.54.36 PM"></p>
</li>
<li><p><strong>UE</strong></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 8.55.44 PM.png" alt="Screen Shot 2018-06-14 at 8.55.44 PM"></p>
</li>
<li><p><strong>LH</strong></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 8.56.40 PM.png" alt="Screen Shot 2018-06-14 at 8.56.40 PM"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 8.57.14 PM.png" alt="Screen Shot 2018-06-14 at 8.57.14 PM"></p>
</li>
</ol>
<h3 id="Comparison"><a href="#Comparison" class="headerlink" title="Comparison"></a>Comparison</h3><p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 12.17.33 PM.png" alt="Screen Shot 2018-06-14 at 12.17.33 PM"></p>
<ol>
<li><p><strong>DE</strong></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 9.01.38 PM.png" alt="Screen Shot 2018-06-14 at 9.01.38 PM"></p>
</li>
<li><p><strong>SHE</strong></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-14 at 9.04.19 PM.png" alt="Screen Shot 2018-06-14 at 9.04.19 PM"></p>
</li>
<li><p><strong>OLH||BLH</strong></p>
<p>The estimator for $n_i$ is </p>
<script type="math/tex; mode=display">
\hat n_i=\frac{y_i-n/d'}{p*-1/d'}</script><p>where $d’$ is the mapping domain size.</p>
</li>
</ol>
<h2 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h2><h3 id="Metric-based-local-differential-privacy-2018-Mario-S-Alvim"><a href="#Metric-based-local-differential-privacy-2018-Mario-S-Alvim" class="headerlink" title="Metric-based local differential privacy[2018-Mario S. Alvim]"></a>Metric-based local differential privacy<a href="https://arxiv.org/pdf/1805.01456.pdf" target="_blank" rel="noopener">[2018-Mario S. Alvim]</a></h3><h3 id="Heavy-Hitter-Estimation-for-Set-Valued-Data-2016-Zhan"><a href="#Heavy-Hitter-Estimation-for-Set-Valued-Data-2016-Zhan" class="headerlink" title="Heavy Hitter Estimation for Set-Valued Data[2016-Zhan]"></a>Heavy Hitter Estimation for Set-Valued Data<a href="https://davidyinyang.weebly.com/uploads/9/8/6/2/9862052/ccs16-ldp.pdf" target="_blank" rel="noopener">[2016-Zhan]</a></h3><h4 id="Problem-Setting"><a href="#Problem-Setting" class="headerlink" title="Problem Setting"></a>Problem Setting</h4><blockquote>
<p>The basic LDP frequent oracle protocol enables the aggregator to estimate the frequency of any value. But when the domain of input values is large, finding the most frequent values, also known as the heavy hitters, by estimating the frequencies of all possible values, is computationally infeasible.</p>
<p>In this paper, they aims to solve the problem of heavy hitters over set-valued, where each user has a set of up to l items and they try to identify the top-k most frequent items among all users. There are $d$ items and $n$ users, and each uesr has $l$ items and try to find  top-$k$ frequent items, where $k\ll\ l$ and $k\ll d$. </p>
<p>And each user has his own data which we call a record and every record is a set of items.</p>
</blockquote>
<h4 id="Naive-solutions"><a href="#Naive-solutions" class="headerlink" title="Naive solutions"></a>Naive solutions</h4><h5 id="Rappor-for-set-valued-data"><a href="#Rappor-for-set-valued-data" class="headerlink" title="Rappor for set-valued data"></a>Rappor for set-valued data</h5><blockquote>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-12 at 5.46.13 PM.png" alt="Screen Shot 2018-06-12 at 5.46.13 PM"></p>
</blockquote>
<h5 id="Bassily-and-Smith-Method-for-set-valued-data"><a href="#Bassily-and-Smith-Method-for-set-valued-data" class="headerlink" title="Bassily and Smith Method for set-valued data"></a>Bassily and Smith Method for set-valued data</h5><blockquote>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-12 at 6.09.06 PM.png" alt="Screen Shot 2018-06-12 at 6.09.06 PM"></p>
<p>REMARKS:</p>
<p>For the $\frac{\epsilon}{l}$, because each user only have a record although it has many items, we want $\epsilon$ privacy for this record. And we run algorithm $l$ times. So for overall $\epsilon$ privacy, each run should have only $\epsilon / l$ privacy budget.</p>
</blockquote>
<h4 id="Two-Phase-Framework"><a href="#Two-Phase-Framework" class="headerlink" title="Two-Phase Framework"></a>Two-Phase Framework</h4><h5 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h5><blockquote>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-12 at 6.14.59 PM.png" alt="Screen Shot 2018-06-12 at 6.14.59 PM"></p>
</blockquote>
<h5 id="Phase-I"><a href="#Phase-I" class="headerlink" title="Phase I"></a>Phase I</h5><blockquote>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-13 at 10.56.36 AM.png" alt="Screen Shot 2018-06-13 at 10.56.36 AM"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-13 at 10.58.24 AM.png" alt="Screen Shot 2018-06-13 at 10.58.24 AM"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-13 at 10.59.18 AM.png" alt="Screen Shot 2018-06-13 at 10.59.18 AM"></p>
<p>Remarks:</p>
<ul>
<li></li>
</ul>
</blockquote>
<h5 id="Phase-II"><a href="#Phase-II" class="headerlink" title="Phase II"></a>Phase II</h5><blockquote>
</blockquote>
<h3 id="Multiple-Attributes-Mean-or-Frequencies-Estimation-2016-Nguyen-Code"><a href="#Multiple-Attributes-Mean-or-Frequencies-Estimation-2016-Nguyen-Code" class="headerlink" title="Multiple Attributes Mean or Frequencies Estimation [2016-Nguyen] [Code]"></a>Multiple Attributes Mean or Frequencies Estimation <a href="https://arxiv.org/pdf/1606.05053.pdf" target="_blank" rel="noopener">[2016-Nguyen]</a> <a href="https://github.com/pokhym/LDP" target="_blank" rel="noopener">[Code]</a></h3><blockquote>
<p>They propose the Harmony method, which can handle multiple numeric or categorical attributes. </p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-09 at 10.21.40 PM.png" alt="Screen Shot 2018-06-09 at 10.21.40 PM"></p>
<p>Remarks:</p>
<ol>
<li>Algorithm2 is [Harmony-for-numeric] algorithm.</li>
<li>Algorithm3 is [Bassily and Smith’s method]</li>
<li>Each user randomly selects one attribute to submit.</li>
</ol>
</blockquote>
<h3 id="Stochastic-Gradient-Descent"><a href="#Stochastic-Gradient-Descent" class="headerlink" title="Stochastic Gradient Descent"></a>Stochastic Gradient Descent</h3><blockquote>
<p>Since the gradient is the numeric number, so the author user <strong>[Harmony-for-numeric]</strong> algorithm for randomized operation. But the error by this method is $\sqrt{dlog(d)/\epsilon}$, where $d$ is the number of attributes (the length of input vector $x$).</p>
<p>For logistic regression and SVM, they use min-batch gradient descent with the batch size $k$, reducing error to $\sqrt{dlog(d)/(\epsilon k)}$.</p>
<p>For linear regression, they introduce <strong>Dimension reduction</strong>, which introdcues error $\sqrt{rlog(r)/(\epsilon k)}$</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-11 at 11.28.05 AM.png" alt="Screen Shot 2018-06-11 at 11.28.05 AM"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-11 at 11.29.58 AM.png" alt="Screen Shot 2018-06-11 at 11.29.58 AM"></p>
</blockquote>
<h3 id="Locations-Density-Estimation-2018-Kim"><a href="#Locations-Density-Estimation-2018-Kim" class="headerlink" title="Locations Density Estimation [2018-Kim]"></a>Locations Density Estimation <a href="Application of Local Differential Privacy to Collection of Indoor Positioning Data">[2018-Kim]</a></h3><p>A number of studies have recently been made on discrete distribution estimation in the local model, in which users obfuscate their personal data (e.g., location, response in a survey) by themselves and a data collector estimates a distribution of the original personal data from the obfuscated data.</p>
<p>The purpose of this research is to approximately compute the distribution of users in the indoor space. </p>
<h4 id="Pricacy-model"><a href="#Pricacy-model" class="headerlink" title="Pricacy model"></a>Pricacy model</h4><ol>
<li><p><strong>data representation</strong></p>
<p>There are $n$ locations $B=\{b_1,b_2,…,b_n\}$, and the location of a user is in the form of a $n$-bit array, denoted as $L$, where the bit corresponding to the user’s location is set to 1 while the others are set to 0. So the input space size is $n$, the output space size is $2^n$.</p>
</li>
<li><p><strong>RAPPOR</strong></p>
<p>The next step is to perturb L, where each bit in L is first perturbed by randomized response as follows:</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 9.41.00 PM-8080101.png" alt="Screen Shot 2018-06-03 at 9.41.00 PM-8080101"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 9.42.49 PM.png" alt="Screen Shot 2018-06-03 at 9.42.49 PM"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 9.44.09 PM.png" alt="Screen Shot 2018-06-03 at 9.44.09 PM"></p>
<p>The instantaneous randomized response, S, is transmitted to the data collector server.</p>
</li>
</ol>
<h4 id="Estimation"><a href="#Estimation" class="headerlink" title="Estimation"></a>Estimation</h4><h5 id="STATISTIC-BASED-APPROACH"><a href="#STATISTIC-BASED-APPROACH" class="headerlink" title="STATISTIC-BASED APPROACH"></a>STATISTIC-BASED APPROACH</h5><blockquote>
<ol>
<li><p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 9.49.04 PM.png" alt="Screen Shot 2018-06-03 at 9.49.04 PM"></p>
</li>
<li><p>the number of the instantaneous randomized responses of which the i-th bit is expected to be set to 1, $num(S_i)$, is estimated as follows:</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen%20Shot%202018-06-03%20at%209.55.59%20PM.png" alt="Screen Shot 2018-06-03 at 9.55.59 PM"></p>
<p>$num(U_i)$ is estimated as follows:</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen%20Shot%202018-06-03%20at%209.57.20%20PM.png" alt="Screen Shot 2018-06-03 at 9.57.20 PM"></p>
<p>then the number of location i where users have been to can be calculated by combining above two formulas:</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen%20Shot%202018-06-03%20at%2010.04.58%20PM.png" alt="Screen Shot 2018-06-03 at 10.04.58 PM"></p>
<p>Let $N_i$ denotes the total number of instantaneous randomized responses, S, of which the i-bit is set to 1 as well as which is received between $ts_{start}$ and $ts_{end}$. And $N_{total}$ denotes the total number of instantaneous randomized responses, S, that the data collection server received from the data contributors in the time interval between  $ts_{start}$ and $ts_{end}$. </p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.08.06 PM.png" alt="Screen Shot 2018-06-03 at 10.08.06 PM"></p>
</li>
<li><p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.08.45 PM.png" alt="Screen Shot 2018-06-03 at 10.08.45 PM"></p>
</li>
</ol>
</blockquote>
<h5 id="EM-BASED-APPROACH"><a href="#EM-BASED-APPROACH" class="headerlink" title="EM-BASED APPROACH"></a>EM-BASED APPROACH</h5><blockquote>
<p>Here we intend to estimate  $P(L=x_i)$.</p>
<ol>
<li><p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.13.26 PM.png" alt="Screen Shot 2018-06-03 at 10.13.26 PM"></p>
</li>
<li><p>Then we want to calculate $P(pos_r|L=x_y)$</p>
<p>​    </p>
<p>Given a $n$-bit array $L$, the probabilities that the k-th bit of the corresponding permanent randomized response, U, sets to 1 and 0 are respectively computed as follows:</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.21.19 PM.png" alt="Screen Shot 2018-06-03 at 10.21.19 PM"></p>
<p>Then, Given $L_k=1$, the probabilities that the k-th bit of the instantaneous randomized response, S, sets to 1 and 0 are respectively computed as follows:</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.22.12 PM.png" alt="Screen Shot 2018-06-03 at 10.22.12 PM"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.22.22 PM.png" alt="Screen Shot 2018-06-03 at 10.22.22 PM"></p>
</li>
</ol>
<p>   <img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.26.21 PM.png" alt="Screen Shot 2018-06-03 at 10.26.21 PM"></p>
<ol>
<li><p>The EM algorithm that computes $P(L =  x_i)$, 1 ≤ i ≤ n proceeds as follows:</p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.27.39 PM.png" alt="Screen Shot 2018-06-03 at 10.27.39 PM"></p>
<p><img src="/2018/06/02/DP-Application - Local-Privacy/Screen Shot 2018-06-03 at 10.28.02 PM.png" alt="Screen Shot 2018-06-03 at 10.28.02 PM"></p>
</li>
</ol>
</blockquote>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p> [2018-Kim] Application of Local Differential Privacy to Collection of Indoor Positioning Data</p>
<p>[2016-Peter]  Discrete Distribution Estimation under Local Privacy</p>
<p>[2015-Bassily] Local, Private, Efficient Protocols for Succinct Histograms</p>
<p>[2016-Chen] Private Spatial Data Aggregation in the Local Setting</p>
<p>[2017-Wang] Optimizing Locally Differentially Private Protocols</p>
<p>[2016-Nguyen] Collecting and Analyzing Data from Smart Device Users with Local Differential Privacy</p>
<p>[2016-Zhan] Heavy Hitter Estimation over Set-Valued Data with Local Differential Privacy</p>
<p><a href="https://pdfs.semanticscholar.org/presentation/e610/b59b829bec396eab4b49fa748fd33b88d5c2.pdf" target="_blank" rel="noopener">[2017-PPT]</a> Local differential privacy</p>
<p>[2018-Mario S. Alvim] Metric-based local differential privacy for statistical applications</p>
<p>​          </p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Differential-Privacy/" rel="tag"># Differential Privacy</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/30/DP-Mechanism/" rel="next" title="Mechanism of Differential Privacy">
                <i class="fa fa-chevron-left"></i> Mechanism of Differential Privacy
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/06/03/ML-Expectation-Maximization-Algorithm/" rel="prev" title="ML - Expectation Maximization Algorithm">
                ML - Expectation Maximization Algorithm <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Qing Wong</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">38</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Q"><span class="nav-number">1.</span> <span class="nav-text">Q?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#T"><span class="nav-number">2.</span> <span class="nav-text">T!</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Development-Track"><span class="nav-number">3.</span> <span class="nav-text">Development Track</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Definition"><span class="nav-number">4.</span> <span class="nav-text">Definition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Comparison-With-Standard-DP"><span class="nav-number">5.</span> <span class="nav-text">Comparison With Standard DP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Standard-DP"><span class="nav-number">5.1.</span> <span class="nav-text">Standard DP</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LDP"><span class="nav-number">5.2.</span> <span class="nav-text">LDP</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mechanism"><span class="nav-number">6.</span> <span class="nav-text">Mechanism</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Binary-Values"><span class="nav-number">6.1.</span> <span class="nav-text">Binary Values</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#W-RR-Categorical-data"><span class="nav-number">6.1.1.</span> <span class="nav-text">W-RR-Categorical data</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Polychotomous-Values"><span class="nav-number">6.2.</span> <span class="nav-text">Polychotomous Values</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Summary-of-Mechanism"><span class="nav-number">7.</span> <span class="nav-text">Summary of Mechanism</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Problem-setting"><span class="nav-number">7.1.</span> <span class="nav-text">Problem setting</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Utility"><span class="nav-number">7.2.</span> <span class="nav-text">Utility</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Estimator"><span class="nav-number">7.2.1.</span> <span class="nav-text">Estimator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Error"><span class="nav-number">7.2.2.</span> <span class="nav-text">Error</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis"><span class="nav-number">7.3.</span> <span class="nav-text">Analysis</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Comparison"><span class="nav-number">7.4.</span> <span class="nav-text">Comparison</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Application"><span class="nav-number">8.</span> <span class="nav-text">Application</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Metric-based-local-differential-privacy-2018-Mario-S-Alvim"><span class="nav-number">8.1.</span> <span class="nav-text">Metric-based local differential privacy[2018-Mario S. Alvim]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Heavy-Hitter-Estimation-for-Set-Valued-Data-2016-Zhan"><span class="nav-number">8.2.</span> <span class="nav-text">Heavy Hitter Estimation for Set-Valued Data[2016-Zhan]</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Problem-Setting"><span class="nav-number">8.2.1.</span> <span class="nav-text">Problem Setting</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Naive-solutions"><span class="nav-number">8.2.2.</span> <span class="nav-text">Naive solutions</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Rappor-for-set-valued-data"><span class="nav-number">8.2.2.1.</span> <span class="nav-text">Rappor for set-valued data</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Bassily-and-Smith-Method-for-set-valued-data"><span class="nav-number">8.2.2.2.</span> <span class="nav-text">Bassily and Smith Method for set-valued data</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Two-Phase-Framework"><span class="nav-number">8.2.3.</span> <span class="nav-text">Two-Phase Framework</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Motivation"><span class="nav-number">8.2.3.1.</span> <span class="nav-text">Motivation</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Phase-I"><span class="nav-number">8.2.3.2.</span> <span class="nav-text">Phase I</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Phase-II"><span class="nav-number">8.2.3.3.</span> <span class="nav-text">Phase II</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Multiple-Attributes-Mean-or-Frequencies-Estimation-2016-Nguyen-Code"><span class="nav-number">8.3.</span> <span class="nav-text">Multiple Attributes Mean or Frequencies Estimation [2016-Nguyen] [Code]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stochastic-Gradient-Descent"><span class="nav-number">8.4.</span> <span class="nav-text">Stochastic Gradient Descent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Locations-Density-Estimation-2018-Kim"><span class="nav-number">8.5.</span> <span class="nav-text">Locations Density Estimation [2018-Kim]</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Pricacy-model"><span class="nav-number">8.5.1.</span> <span class="nav-text">Pricacy model</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Estimation"><span class="nav-number">8.5.2.</span> <span class="nav-text">Estimation</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#STATISTIC-BASED-APPROACH"><span class="nav-number">8.5.2.1.</span> <span class="nav-text">STATISTIC-BASED APPROACH</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#EM-BASED-APPROACH"><span class="nav-number">8.5.2.2.</span> <span class="nav-text">EM-BASED APPROACH</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number"></span> <span class="nav-text">Reference</span></a></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Qing Wong</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
